import{f as O,i as k,h as H,j as T,k as I,H as L,l as V,m as E,s as m,o as A,p as M,q as y,t as Y,v as q,w as B,x as C,y as P,z as $,A as j,B as z,C as b,D as W,E as F,c as G}from"./runtime.Bn3sFRHl.js";import{b as J}from"./disclose-version.jPDmB1xw.js";const K=new Set,D=new Set;function v(t){var S;var r=this,o=r.ownerDocument,l=t.type,i=((S=t.composedPath)==null?void 0:S.call(t))||[],e=i[0]||t.target,u=0,c=t.__root;if(c){var d=i.indexOf(c);if(d!==-1&&(r===document||r===window)){t.__root=r;return}var f=i.indexOf(r);if(f===-1)return;d<=f&&(u=d)}if(e=i[u]||t.target,e!==r){O(t,"currentTarget",{configurable:!0,get(){return e||o}});try{for(var _,a=[];e!==null;){var s=e.parentNode||e.host||null;try{var n=e["__"+l];if(n!==void 0&&!e.disabled)if(k(n)){var[g,...p]=n;g.apply(e,[t,...p])}else n.call(e,t)}catch(w){_?a.push(w):_=w}if(t.cancelBubble||s===r||s===null)break;e=s}if(_){for(let w of a)queueMicrotask(()=>{throw w});throw _}}finally{t.__root=r,e=r}}}const Q=["wheel","mousewheel","touchstart","touchmove"];function U(t){return Q.includes(t)}function rr(t,r){r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r==null?"":r+"")}function X(t,r){const o=r.anchor??r.target.appendChild(H());return N(t,{...r,anchor:o})}function tr(t,r){T(),r.intro=r.intro??!1;const o=r.target,l=b,i=y;try{for(var e=I(o);e&&(e.nodeType!==8||e.data!==L);)e=V(e);if(!e)throw E;m(!0),A(e),M();const u=N(t,{...r,anchor:e});if(y===null||y.nodeType!==8||y.data!==Y)throw q(),E;return m(!1),u}catch(u){if(u===E)return r.recover===!1&&B(),T(),C(o),m(!1),X(t,r);throw u}finally{m(l),A(i)}}const h=new Map;function N(t,{target:r,anchor:o,props:l={},events:i,context:e,intro:u=!0}){T();var c=new Set,d=a=>{for(var s=0;s<a.length;s++){var n=a[s];if(!c.has(n)){c.add(n);var g=U(n);r.addEventListener(n,v,{passive:g});var p=h.get(n);p===void 0?(document.addEventListener(n,v,{passive:g}),h.set(n,1)):h.set(n,p+1)}}};d(P(K)),D.add(d);var f=void 0,_=$(()=>(j(()=>{if(e){z({});var a=G;a.c=e}i&&(l.$$events=i),b&&J(o,null),f=t(o,l)||{},b&&(W.nodes_end=y),e&&F()}),()=>{for(var a of c){r.removeEventListener(a,v);var s=h.get(a);--s===0?(document.removeEventListener(a,v),h.delete(a)):h.set(a,s)}D.delete(d),R.delete(f)}));return R.set(f,_),f}let R=new WeakMap;function er(t){const r=R.get(t);r==null||r()}export{tr as h,X as m,rr as s,er as u};
