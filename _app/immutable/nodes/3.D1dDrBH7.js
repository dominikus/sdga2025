var nr=Object.defineProperty;var It=t=>{throw TypeError(t)};var ir=(t,e,r)=>e in t?nr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ot=(t,e,r)=>ir(t,typeof e!="symbol"?e+"":e,r),ot=(t,e,r)=>e.has(t)||It("Cannot "+r);var Ee=(t,e,r)=>(ot(t,e,"read from private field"),r?r.call(t):e.get(t)),Be=(t,e,r)=>e.has(t)?It("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),lt=(t,e,r,s)=>(ot(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),Tt=(t,e,r)=>(ot(t,e,"access private method"),r);import{b as Ct,e as or,a as I,t as V,c as be,d as At,n as Wt}from"../chunks/disclose-version.Cf_WES-x.js";import{v as pe,w as ut,a0 as $t,y as lr,N as qt,a1 as cr,a2 as Mt,G as Qe,F as ct,I as Le,J as dr,a3 as Ft,P as bt,a4 as vr,an as fr,Q as Rt,o as S,ao as xt,ap as ur,m as hr,X as Dt,aq as wt,ar as gr,M as pr,as as _r,at as Yt,D as Jt,C as Vt,A as mr,au as Xt,z as br,av as xr,K as wr,E as yr,a6 as et,b as Qt,a7 as kr,e as te,q as Sr,aw as Er,l as Ir,i as _,s as W,j as m,t as U,p as Me,f as le,h as Re,n as Or,ax as ne,g as a,ay as nt,az as L,ad as we}from"../chunks/runtime.DeoiwFqM.js";import{s as ce,e as $e}from"../chunks/render.9FzL3gYy.js";import{p as h,l as Tr,i as Z,c as ht,s as We,b as Ze}from"../chunks/props.CxYvHlaI.js";import{i as De}from"../chunks/lifecycle.BSH6ilts.js";import{o as yt}from"../chunks/index-client.Qu1Vv3At.js";import{s as Pe,d as Cr,v as Ar}from"../chunks/variables.fw-7Lq5u.js";import{b as Ke,w as Zt,r as Kt}from"../chunks/paths.B-xHEE74.js";import{s as it,a as xe}from"../chunks/store.D7pInyme.js";const Mr=!0;let dt=null;function Rr(t,e){return e}function Dr(t,e,r,s){for(var n=[],i=e.length,l=0;l<i;l++)gr(e[l].e,n,!0);var g=i>0&&n.length===0&&r!==null;if(g){var c=r.parentNode;pr(c),c.append(r),s.clear(),Te(t,e[0].prev,e[i-1].next)}_r(n,()=>{for(var d=0;d<i;d++){var v=e[d];g||(s.delete(v.k),Te(t,v.prev,v.next)),Yt(v.e,!g)}})}function Nt(t,e,r,s,n,i=null){var l=t,g={flags:e,items:new Map,first:null},c=(e&Xt)!==0;if(c){var d=t;l=pe?Qe(Vt(d)):d.appendChild(mr())}pe&&ut();var v=null;$t(()=>{var o=r(),y=lr(o)?o:o==null?[]:qt(o),f=y.length;let O=!1;if(pe){var A=l.data===cr;A!==(f===0)&&(l=Mt(),Qe(l),ct(!1),O=!0)}if(pe){for(var E=null,w,p=0;p<f;p++){if(Le.nodeType===8&&Le.data===dr){l=Le,O=!0,ct(!1);break}var u=y[p],C=s(u,p);w=jt(Le,g,E,null,u,C,p,n,e),g.items.set(C,w),E=w}f>0&&Qe(Mt())}pe||Nr(y,g,l,n,e,s),i!==null&&(f===0?v?Ft(v):v=bt(()=>i(l)):v!==null&&vr(v,()=>{v=null})),O&&ct(!0)}),pe&&(l=Le)}function Nr(t,e,r,s,n,i){var P,j,B,G;var l=(n&xr)!==0,g=(n&(xt|wt))!==0,c=t.length,d=e.items,v=e.first,o=v,y,f=null,O,A=[],E=[],w,p,u,C;if(l)for(C=0;C<c;C+=1)w=t[C],p=i(w,C),u=d.get(p),u!==void 0&&((P=u.a)==null||P.measure(),(O??(O=new Set)).add(u));for(C=0;C<c;C+=1){if(w=t[C],p=i(w,C),u=d.get(p),u===void 0){var F=o?o.e.nodes_start:r;f=jt(F,e,f,f===null?e.first:f.next,w,p,C,s,n),d.set(p,f),A=[],E=[],o=f.next;continue}if(g&&zr(u,w,C,n),u.e.f&fr&&(Ft(u.e),l&&((j=u.a)==null||j.unfix(),(O??(O=new Set)).delete(u))),u!==o){if(y!==void 0&&y.has(u)){if(A.length<E.length){var N=E[0],z;f=N.prev;var b=A[0],D=A[A.length-1];for(z=0;z<A.length;z+=1)zt(A[z],N,r);for(z=0;z<E.length;z+=1)y.delete(E[z]);Te(e,b.prev,D.next),Te(e,f,b),Te(e,D,N),o=N,f=D,C-=1,A=[],E=[]}else y.delete(u),zt(u,o,r),Te(e,u.prev,u.next),Te(e,u,f===null?e.first:f.next),Te(e,f,u),f=u;continue}for(A=[],E=[];o!==null&&o.k!==p;)(y??(y=new Set)).add(o),E.push(o),o=o.next;if(o===null)continue;u=o}A.push(u),f=u,o=u.next}if(o!==null||y!==void 0){for(var R=y===void 0?[]:qt(y);o!==null;)R.push(o),o=o.next;var $=R.length;if($>0){var Y=n&Xt&&c===0?r:null;if(l){for(C=0;C<$;C+=1)(B=R[C].a)==null||B.measure();for(C=0;C<$;C+=1)(G=R[C].a)==null||G.fix()}Dr(e,R,Y,d)}}l&&br(()=>{var X;if(O!==void 0)for(u of O)(X=u.a)==null||X.apply()}),Rt.first=e.first&&e.first.e,Rt.last=f&&f.e}function zr(t,e,r,s){s&xt&&S(t.v,e),s&wt?S(t.i,r):t.i=r}function jt(t,e,r,s,n,i,l,g,c){var d=dt;try{var v=(c&xt)!==0,o=(c&ur)===0,y=v?o?hr(n):Dt(n):n,f=c&wt?Dt(l):l,O={i:f,v:y,k:i,a:null,e:null,prev:r,next:s};return dt=O,O.e=bt(()=>g(t,y,f),pe),O.e.prev=r&&r.e,O.e.next=s&&s.e,r===null?e.first=O:(r.next=O,r.e.next=O.e),s!==null&&(s.prev=O,s.e.prev=O.e),O}finally{dt=d}}function zt(t,e,r){for(var s=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==s;){var l=Jt(i);n.before(i),i=l}}function Te(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Ae(t,e,r,s,n){var i=t,l="",g;$t(()=>{if(l===(l=e())){pe&&ut();return}g!==void 0&&(Yt(g),g=void 0),l!==""&&(g=bt(()=>{if(pe){Le.data;for(var c=ut(),d=c;c!==null&&(c.nodeType!==8||c.data!=="");)d=c,c=Jt(c);if(c===null)throw wr(),yr;Ct(Le,d),i=Qe(c);return}var v=l+"",o=or(v);Ct(Vt(o),o.lastChild),i.before(o)}))})}function Lr(t,e,r){et(()=>{var s=Qt(()=>e(t,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var n=!1,i={};kr(()=>{var l=r();te(l),n&&Sr(i,l)&&(i=l,s.update(l))}),n=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function se(t,e,r,s){r=r==null?null:r+"";var n=t.__attributes??(t.__attributes={});pe&&(n[e]=t.getAttribute(e),e==="src"||e==="href"||e==="srcset")||n[e]!==(n[e]=r)&&(e==="loading"&&(t[Er]=r),r===null?t.removeAttribute(e):t.setAttribute(e,r))}function Ge(t,e,r){if(e in t){var s=t[e],n=typeof s=="boolean"&&r===""?!0:r;(typeof s!="object"||s!==n)&&(t[e]=n)}else se(t,e,r)}function Ue(t,e){var r=t.__className,s=Pr(e);pe&&t.className===s?t.__className=s:(r!==s||pe&&t.className!==s)&&(e==null?t.removeAttribute("class"):t.className=s,t.__className=s)}function Pr(t){return t??""}function me(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function Hr(t,e,r,s,n){var i=t.__attributes??(t.__attributes={}),l=t.style,g="style-"+e;i[g]===r&&!n||(i[g]=r,r==null?l.removeProperty(e):l.setProperty(e,r,""))}function Ur(t,e,r,s=!0){s&&r();for(var n of e)t.addEventListener(n,r);Ir(()=>{for(var i of e)t.removeEventListener(i,r)})}var Ce,He,Fe,at,er;const st=class st{constructor(e){Be(this,at);Be(this,Ce,new WeakMap);Be(this,He);Be(this,Fe);lt(this,Fe,e)}observe(e,r){var s=Ee(this,Ce).get(e)||new Set;return s.add(r),Ee(this,Ce).set(e,s),Tt(this,at,er).call(this).observe(e,Ee(this,Fe)),()=>{var n=Ee(this,Ce).get(e);n.delete(r),n.size===0&&(Ee(this,Ce).delete(e),Ee(this,He).unobserve(e))}}};Ce=new WeakMap,He=new WeakMap,Fe=new WeakMap,at=new WeakSet,er=function(){return Ee(this,He)??lt(this,He,new ResizeObserver(e=>{for(var r of e){st.entries.set(r.target,r);for(var s of Ee(this,Ce).get(r.target)||[])s(r)}}))},Ot(st,"entries",new WeakMap);let gt=st;var Br=new gt({box:"border-box"});function Lt(t,e,r){var s=Br.observe(t,()=>r(t[e]));et(()=>(Qt(()=>r(t[e])),s))}function Gr(t,e){Ur(window,["resize"],()=>e(window[t]))}const tr=Mr;async function Wr({params:t,fetch:e}){var s,n;let{goal:r}=t;if(!r&&tr){const i=(n=(s=document==null?void 0:document.location)==null?void 0:s.pathname)==null?void 0:n.split("/");i.length>0&&(r=i[i.length-1])}console.log("yolo:",t,r);try{return{goal:r.replace(".html",""),doc:{}}}catch(i){return console.log(i),{goal:"goal00",doc:{content:[],config:{}}}}}const Qa=Object.freeze(Object.defineProperty({__proto__:null,load:Wr},Symbol.toStringTag,{value:"Module"}));function $r(t){return t()}function qr(t){t.forEach($r)}const Je=[],Pt=[],je=[],Ht=[],rr=Promise.resolve();let pt=!1;function Fr(){pt||(pt=!0,rr.then(Vr))}function Yr(){return Fr(),rr}function Jr(t){je.push(t)}const vt=new Set;let Ve=0;function Vr(){do{for(;Ve<Je.length;){const t=Je[Ve];Ve++,Xr(t.$$)}for(Je.length=0,Ve=0;Pt.length;)Pt.pop()();for(let t=0;t<je.length;t+=1){const e=je[t];vt.has(e)||(vt.add(e),e())}je.length=0}while(Je.length);for(;Ht.length;)Ht.pop()();pt=!1,vt.clear()}function Xr(t){if(t.fragment!==null){t.update(),qr(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Jr)}}const Qr={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},Oe=(t,e)=>new CustomEvent(t,{detail:e});function Zr(t,e={}){const{root:r,rootMargin:s,threshold:n,unobserveOnEnter:i}=Object.assign(Object.assign({},Qr),e);let l={x:void 0,y:void 0},g={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const c=new IntersectionObserver((d,v)=>{d.forEach(o=>{l.y>o.boundingClientRect.y?g.vertical="up":g.vertical="down",l.x>o.boundingClientRect.x?g.horizontal="left":g.horizontal="right",l={y:o.boundingClientRect.y,x:o.boundingClientRect.x};const y={inView:o.isIntersecting,entry:o,scrollDirection:g,node:t,observer:v};t.dispatchEvent(Oe("inview_change",y)),t.dispatchEvent(Oe("change",y)),o.isIntersecting?(t.dispatchEvent(Oe("inview_enter",y)),t.dispatchEvent(Oe("enter",y)),i&&v.unobserve(t)):(t.dispatchEvent(Oe("inview_leave",y)),t.dispatchEvent(Oe("leave",y)))})},{root:r,rootMargin:s,threshold:n});return Yr().then(()=>{t.dispatchEvent(Oe("inview_init",{observer:c,node:t})),t.dispatchEvent(Oe("init",{observer:c,node:t}))}),c.observe(t),{destroy(){c.unobserve(t)}}}}const Kr=(t,e,r)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var jr=V('<div class="loading svelte-5a8u5a"><img alt="Loading" class="svelte-5a8u5a"> <div style="display: flex"><div style="width: 75%"></div> <div style="width: 25%"><!></div></div></div>');function tt(t,e){var c;let r=h(e,"minHeight",8,!0);var s=jr(),n=_(s);se(n,"src",`${Ke}/assets/images/tail-spin.svg`);var i=W(n,2),l=W(_(i),2),g=_(l);Pe(g,(c=e.$$slots)==null?void 0:c.scenes,{activeScene:`${{id:"",index:0}}}`}),m(l),m(i),m(s),U(()=>Hr(s,"min-height",r()?"60vh":"none")),I(t,s)}function ft(t,e){const r=Tr(e,["children","$$slots","$$events","$$legacy"]);Me(e,!1);let s=h(e,"thiz",8),n=h(e,"onScreen",8,!0),i=h(e,"path",8),l=h(e,"data",8),g=Array.isArray(s())?tt:s();yt(async()=>{Array.isArray(s())&&(g=(await Kr(Object.assign({}),`./${s()[0]}/${s()[1]}.svelte`,3)).default)}),De();var c=be(),d=le(c);Z(d,()=>{var v;return n()&&(!i()||((v=l())==null?void 0:v.length))},v=>{var o=be(),y=le(o);ht(y,()=>g,(f,O)=>{O(f,We(()=>r))}),I(v,o)},v=>{var o=be(),y=le(o);ht(y,()=>tt,(f,O)=>{O(f,{})}),I(v,o)}),I(t,c),Re()}const Ut=Math.max(1,Math.floor(Math.random()*17)),kt=Zt({string:"goal"+String(Ut).padStart(2,"0"),number:Ut}),St=Zt(!1);var ea=V('<div class="content svelte-glbrcz"><!> <!></div>'),ta=V('<div class="scene svelte-glbrcz"><!></div>');function ra(t,e){Me(e,!1);const r=it(),s=()=>xe(St,"$isScreenshotting",r),n=()=>xe(kt,"$activeGoal",r);let i=h(e,"text",8,""),l=h(e,"activeScene",8),g=h(e,"hidden",8,!1);De();var c=ta(),d=_(c);Z(d,()=>!g(),v=>{var o=ea(),y=_(o);Ae(y,i);var f=W(y,2);Pe(f,Cr(e),{get activeScene(){return l()}}),m(o),U(()=>{se(o,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),me(o,"invisible",s())}),I(v,o)}),m(c),I(t,c),Re()}var aa=V("<div><!></div>");function sa(t,e){let r=h(e,"text",8),s=h(e,"width",8,"");var n=aa(),i=_(n);Ae(i,r),m(n),U(()=>Ue(n,`text-block ${s()??""} layout-main svelte-1rv19f5`)),I(t,n)}var na=V('<div class="unknown-component border layout-main svelte-10tfi0">Unknown component <em> </em></div>');function ia(t,e){let r=h(e,"type",8);var s=na(),n=W(_(s)),i=_(n);m(n),m(s),U(()=>ce(i,r())),I(t,s)}const Et=Kt(t=>(console.log(t),t)),_t="en",oa="#2b98c6",la="#e56666";var ca=V('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),da=V('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),va=V('<span class="pref svelte-c7oa2u"> </span> <!> <br>',1),fa=V('<span class="pref svelte-c7oa2u"> </span> <!>',1),ua=V('<div><div class="logo-container svelte-c7oa2u"><img class="wb-logo svelte-c7oa2u" title="logo" alt="logo"> <!></div> <p class="source svelte-c7oa2u"><!> <!></p></div>');function ha(t,e){Me(e,!1);const r=it(),s=()=>xe(_t,"$locale",r),n=()=>xe(Et,"$_",r);let i=h(e,"note",8),l=h(e,"source",8),g=h(e,"theme",8);De();var c=ua(),d=_(c),v=_(d);se(v,"src",`${Ke??""}/assets/external/loop-header-footer/img/logo-wb.svg`);var o=W(v,2);Z(o,()=>g()==="dark",A=>{var E=ca();se(E,"src",`${Ke??""}/assets/external/loop-header-footer/img/logo-atlas-dark.svg`),I(A,E)},A=>{var E=da();U(()=>se(E,"src",`${Ke??""}/assets/external/loop-header-footer/img/logo-atlas-${s()??""}.svg`)),I(A,E)}),m(d);var y=W(d,2),f=_(y);Z(f,i,A=>{var E=va(),w=le(E),p=_(w);U(()=>ce(p,n()("note",{default:"Note:"}))),m(w);var u=W(w,2);Ae(u,i),Or(2),I(A,E)});var O=W(f,2);Z(O,l,A=>{var E=fa(),w=le(E),p=_(w);U(()=>ce(p,n()("source",{default:"Source:"}))),m(w);var u=W(w,2);Ae(u,l),I(A,E)}),m(y),m(c),U(()=>Ue(c,`${`screenshot-footer-container ${g()}`??""} svelte-c7oa2u`)),I(t,c),Re()}const ga=Kt(!1);var pa=V('<h1 class="svelte-1ob8ko5"> </h1>'),_a=V('<h2 class="svelte-1ob8ko5"><!></h2>'),ma=V('<div class="title-container svelte-1ob8ko5"><!> <!></div>'),ba=V(`<!> <svg width="0px" height="0px"><defs><pattern id="diagonalHatch" width="100px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="50" y2="50" stroke-width="10" style="stroke: var(--color-grey-400);"></line></pattern><pattern id="tightHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path class="visible" d="M-1,1 l2,-2
         M0,4 l4,-4
         M3,5 l2,-2" style="stroke: var(--color-grey-800);"></path></pattern><marker id="arrowhead_pos" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead_neg" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead-large" markerWidth="5" markerHeight="5" refX="2.5" refY="2.5" orient="auto"><polygon points="0 0, 5 2.5, 0 5"></polygon></marker></defs></svg>`,1),xa=V('<span class="note svelte-1ob8ko5"> <!></span>'),wa=V('<a class="download-icon svelte-1ob8ko5"><span aria-hidden="true"> </span></a>'),ya=V('<span class="download svelte-1ob8ko5"><a class="download-icon svelte-1ob8ko5" target="_blank" rel="noreferrer"><span aria-hidden="true"> </span></a></span>'),ka=V('<span class="share svelte-1ob8ko5"><!></span>'),Sa=V('<p class="toast svelte-1ob8ko5" aria-hidden="true"><!></p>'),Ea=V("<p> <!></p>"),Ia=V('<div class="source svelte-1ob8ko5"><!> <span class="download-share svelte-1ob8ko5"><span class="download svelte-1ob8ko5"><!></span> <!> <!> <span class="share svelte-1ob8ko5"><a alt="Copy link to clipboard"><span aria-hidden="true"> </span></a></span></span> <!></div> <!>',1),Oa=V('<div><div class="internal-container svelte-1ob8ko5"><!> <div class="vis svelte-1ob8ko5" role="img"><!> <!></div> <!></div></div>');function mt(t,e){Me(e,!1);const r=it(),s=()=>xe(St,"$isScreenshotting",r),n=()=>xe(kt,"$activeGoal",r),i=()=>xe(Et,"$_",r),l=()=>xe(ga,"$isMobile",r),g=L();let c=h(e,"title",8),d=h(e,"subtitle",8),v=h(e,"source",8),o=h(e,"note",8),y=h(e,"visdescription",8),f=h(e,"size",8,"content"),O=h(e,"hide_download",8,!1),A=h(e,"inScroller",8,!1),E=h(e,"theme",8),w=h(e,"dataDownloadUrl",8),p=h(e,"shareUrl",8),u=h(e,"shareImg",8),C=h(e,"shareTitle",8),F=h(e,"graphic",8),N=L(),z=L(),b=L(0),D=L(0),R=L(),$=L(!1),Y=null,P=L();const j=1700;function B(){navigator.permissions.query({name:"clipboard-write"}).then(Q=>{(Q.state==="granted"||Q.state==="prompt")&&(navigator.clipboard.writeText(p()),S($,!0),clearTimeout(Y),setTimeout(()=>{S($,!1),S(R,null)},j))})}function G(Q){if(x,a(P)){const J=a(P).getBoundingClientRect();S(R,{x:J.x,y:J.y})}}function X(){a($)||S(R,null)}ne(()=>{},()=>{S(g,!0)}),ne(()=>a(N),()=>{S(b,a(N))}),ne(()=>a(z),()=>{S(D,a(z))}),nt(),De();var k=Oa(),M=_(k),H=_(M);Z(H,()=>c()||d(),Q=>{var J=ma(),K=_(J);Z(K,c,oe=>{var ee=pa(),ve=_(ee);m(ee),U(()=>ce(ve,c())),I(oe,ee)});var he=W(K,2);Z(he,d,oe=>{var ee=_a(),ve=_(ee);Ae(ve,d),m(ee),I(oe,ee)}),m(J),I(Q,J)});var T=W(H,2);U(()=>se(T,"aria-label",y()?y():i()("alt.chart")+" "+d()));var re=_(T);Z(re,()=>!tr,Q=>{tt(Q,{})});var ie=W(re,2);Z(ie,()=>a(b)!==void 0&&a(D)!==void 0,Q=>{var Ie;var J=ba(),K=le(J);Pe(K,(Ie=e.$$slots)==null?void 0:Ie.graphic,{get parentWidth(){return a(b)},get parentHeight(){return a(D)}});var he=W(K,2),oe=_(he),ee=W(_(oe),2),ve=_(ee);se(ve,"fill",oa),m(ee);var ke=W(ee),Ne=_(ke);se(Ne,"fill",la),m(ke);var Se=W(ke),_e=_(Se);se(_e,"stroke-width",0),m(Se),m(oe),m(he),I(Q,J)}),m(T);var de=W(T,2);Z(de,()=>!s(),Q=>{var J=Ia(),K=le(J),he=_(K);Z(he,o,fe=>{var q=xa(),ae=_(q);U(()=>ce(ae,`${i()("note",{default:"Note:"})??""} `));var ue=W(ae);Ae(ue,o),m(q),I(fe,q)});var oe=W(he,2),ee=_(oe),ve=_(ee);Z(ve,()=>w()&&!O(),fe=>{var q=wa();U(()=>se(q,"aria-label",i()("alt.download.data")));var ae=_(q),ue=_(ae);U(()=>ce(ue,i()("data.download"))),m(ae),m(q),U(()=>{se(q,"data-customlink",`download:vis-data-${c()}`),se(q,"href",w()),me(ae,"hidden",!w()&&!a(g))}),I(fe,q)}),m(ee);var ke=W(ee,2);Z(ke,()=>a(g),fe=>{var q=ya(),ae=_(q);U(()=>se(ae,"aria-label",i()("alt.download.image")));var ue=_(ae),ze=_(ue);U(()=>ce(ze,i()("image.download"))),m(ue),m(ae),m(q),U(()=>{me(q,"borderless",!o()&&!w()||o()&&!w()&&l()),se(ae,"href",u()),me(ue,"hidden",!w()&&!a(g))}),I(fe,q)});var Ne=W(ke,2);Z(Ne,()=>p()&&!1,fe=>{var q=ka(),ae=_(q);ShareIcons(ae,{get shareUrl(){return p()},get title(){return C()}}),m(q),U(()=>me(q,"borderless",!o()&&!w()&&!a(g))),I(fe,q)});var Se=W(Ne,2),_e=_(Se);Ze(_e,fe=>S(P,fe),()=>a(P));var Ie=_(_e),Ye=_(Ie);U(()=>ce(Ye,i()("copy.link",{default:"Copy Link"}))),m(Ie),m(_e),m(Se),m(oe);var ge=W(oe,2);Z(ge,()=>a(R)||a($),fe=>{var q=Sa(),ae=_(q);Z(ae,()=>a($),ue=>{var ze=At();U(()=>ce(ze,i()("link.copied",{default:"Link copied to clipboard"}))),I(ue,ze)},ue=>{var ze=At();U(()=>ce(ze,i()("click.copy",{default:"Click to copy link"}))),I(ue,ze)}),m(q),U(()=>me(q,"disappearing",a($))),I(fe,q)}),m(K);var sr=W(K,2);Z(sr,v,fe=>{var q=Ea();Ue(q,"source-text svelte-1ob8ko5");var ae=_(q);U(()=>ce(ae,`${i()("source",{default:"Source:"})??""} `));var ue=W(ae);Ae(ue,v),m(q),I(fe,q)}),U(()=>{me(ee,"borderless",!o()||l()),me(Se,"borderless",!o()&&(!w()||O())&&!a(g))}),$e("click",_e,B),$e("mouseover",_e,G),$e("mouseout",_e,X),I(Q,J)},Q=>{ha(Q,{get note(){return o()},get source(){return v()},get theme(){return E()}})}),m(M),m(k),U(()=>{Ue(k,`${`${F()} vis-container ${A()?"":f()}`??""} svelte-1ob8ko5`),se(k,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),me(k,"in-scroller",A()===!0),me(k,"is-screenshotting",s())}),Lt(T,"clientWidth",Q=>S(N,Q)),Lt(T,"clientHeight",Q=>S(z,Q)),I(t,k),Re()}var Ta=V("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);const ye=[];let rt;if(typeof window<"u"){const t=()=>ye.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((r,s)=>{r.forEach(n=>{const i=t.get(n.target),l=ye.indexOf(i);n.isIntersecting?l===-1&&ye.push(i):(i(),l!==-1&&ye.splice(l,1))})},{rootMargin:"0px 0px"});rt={add:({outer:r,update:s})=>{const{top:n,bottom:i}=r.getBoundingClientRect();n<window.innerHeight&&i>0&&ye.push(s),t.set(r,s),e.observe(r)},remove:({outer:r,update:s})=>{const n=ye.indexOf(s);n!==-1&&ye.splice(n,1),t.delete(r),e.unobserve(r)}}}else rt={add:({update:t})=>{ye.push(t)},remove:({update:t})=>{const e=ye.indexOf(t);e!==-1&&ye.splice(e,1)}};function Ca(t,e){var M,H;Me(e,!1);const r=L(),s=L(),n=L(),i=L(),l=L();let g=h(e,"top",8,0),c=h(e,"bottom",8,1),d=h(e,"threshold",8,.5),v=h(e,"query",8,"section"),o=h(e,"parallax",8,!1),y=h(e,"expected",8),f=h(e,"index",12,0),O=h(e,"count",12,0),A=h(e,"offset",12,0),E=h(e,"progress",12,0),w=h(e,"visible",12,!1),p=L(),u=L(),C=L(),F,N,z=L(0),b=L(),D=L(0),R=L(1);function $(){var T;O()||(N=(T=a(u))==null?void 0:T.querySelectorAll(v()),N&&N.length===y()?(O(N.length),Y()):setTimeout($,1250))}yt(()=>{$();const T={outer:a(p),update:Y};return rt.add(T),()=>rt.remove(T)});function Y(){if(!a(u))return;const T=a(p).getBoundingClientRect();F=T.left,S(R,T.right-F);const re=a(u).getBoundingClientRect(),ie=a(C).getBoundingClientRect();w(re.top<a(z)&&re.bottom>0);const de=re.bottom-re.top,Q=ie.bottom-ie.top,J=a(s)-a(r);E((a(r)-re.top)/(de-J)),E()<=0?(S(D,0),S(b,!1)):E()>=1?(S(D,o()?de-Q:de-J),S(b,!1)):(S(D,o()?Math.round(a(r)-E()*(Q-J)):a(r)),S(b,!0));for(let K=0;K<N.length;(K+=1)-1){const he=N[K],{top:oe}=he.getBoundingClientRect(),ee=N[K+1],ve=ee?ee.getBoundingClientRect().top:re.bottom;if(A((a(n)-oe)/(ve-oe)),ve>=a(n)){f(K);break}}}ne(()=>(te(g()),a(z)),()=>{S(r,Math.round(g()*a(z)))}),ne(()=>(te(c()),a(z)),()=>{S(s,Math.round(c()*a(z)))}),ne(()=>(te(d()),a(z)),()=>{S(n,Math.round(d()*a(z)))}),ne(()=>(te(g()),te(c()),te(d()),te(o())),()=>{g(),c(),d(),o(),Y()}),ne(()=>(a(b),a(D)),()=>{S(i,`
		position: ${a(b)?"fixed":"absolute"};
    /* override with sticky if supported: */
    position: sticky;
		top: 0;
		transform: translate(0, ${typeof CSS<"u"&&CSS.supports&&CSS.supports("position","sticky")?0:a(D)}px);
		z-index: 1;
	`)}),ne(()=>(a(b),a(R)),()=>{S(l,a(b)?`width:${a(R)}px;`:"")}),nt(),De();var P=Ta();Ze(P,T=>S(p,T),()=>a(p)),Ge(P,"class","svelte-xdbafy");var j=_(P);Ge(j,"class","background-container svelte-xdbafy");var B=_(j);Ze(B,T=>S(C,T),()=>a(C)),Ge(B,"class","svelte-xdbafy");var G=_(B);Pe(G,(M=e.$$slots)==null?void 0:M.background,{}),m(B),m(j);var X=W(j,2);Ze(X,T=>S(u,T),()=>a(u)),Ge(X,"class","svelte-xdbafy");var k=_(X);Pe(k,(H=e.$$slots)==null?void 0:H.foreground,{}),m(X),m(P),U(()=>Ge(j,"style",`${a(i)??""}${a(l)??""}`)),Gr("innerHeight",T=>S(z,T)),I(t,P),Re()}var Aa=V('<div class="left svelte-99ar8n" slot="background"><!></div>'),Ma=V('<div class="right svelte-99ar8n" slot="foreground"><div class="right-inner svelte-99ar8n"><!></div></div>'),Ra=V("<p> <!></p>"),Da=V('<div><div class="scroller-container svelte-99ar8n"><!> <!></div></div>');function Bt(t,e){Me(e,!1);const r=it(),s=()=>xe(kt,"$activeGoal",r),n=()=>xe(St,"$isScreenshotting",r),i=()=>xe(Et,"$_",r),l=L(),g=L();let c=h(e,"data",8),d=h(e,"title",8),v=h(e,"subtitle",8),o=h(e,"source",8),y=h(e,"note",8),f=h(e,"graphic",8),O=h(e,"visdescription",8),A=h(e,"theme",8,"light"),E=h(e,"visSize",8,"default"),w=h(e,"publish_progress",8,!1),p=h(e,"scenes",24,()=>[]),u=h(e,"dataDownloadUrl",8);h(e,"shareUrl",8),h(e,"shareImg",8);let C=h(e,"shareTitle",8),F=L(0),N=L(d()),z=L(v()),b=L(o()),D=L(y()),R=L(0),$=L(0),Y=L();ne(()=>(te(w()),a(R),a(F),te(p()),a($)),()=>{var k,M;w()&&S(Y,{progress:a(R),index:a(F),id:(M=(k=p())==null?void 0:k[a(F)])==null?void 0:M.id,offset:a($)})}),ne(()=>(te(w()),a(F),te(p())),()=>{var k,M;w()||S(Y,{index:a(F),id:(M=(k=p())==null?void 0:k[a(F)])==null?void 0:M.id})}),ne(()=>(te(p()),a(Y)),()=>{var k;S(l,(k=p()[a(Y).index])==null?void 0:k.shareUrl)}),ne(()=>(te(p()),a(Y)),()=>{var k;S(g,(k=p()[a(Y).index])==null?void 0:k.shareImg)}),ne(()=>(a(F),te(p()),te(d()),te(v()),te(o()),te(y())),()=>{var re,ie,de,Q,J,K,he,oe,ee,ve,ke,Ne,Se,_e,Ie,Ye;let k,M,H,T;for(let ge=a(F);ge>=0;ge+=-1)!k&&((ie=(re=p())==null?void 0:re[ge])!=null&&ie.title)&&(k=(Q=(de=p())==null?void 0:de[ge])==null?void 0:Q.title),!M&&((K=(J=p())==null?void 0:J[ge])!=null&&K.subtitle)&&(M=(oe=(he=p())==null?void 0:he[ge])==null?void 0:oe.subtitle),!H&&((ve=(ee=p())==null?void 0:ee[ge])!=null&&ve.source)&&(H=(Ne=(ke=p())==null?void 0:ke[ge])==null?void 0:Ne.source),!T&&((_e=(Se=p())==null?void 0:Se[ge])!=null&&_e.note)&&(T=(Ye=(Ie=p())==null?void 0:Ie[ge])==null?void 0:Ye.note);k||(k=d()),M||(M=v()),H||(H=o()),T||(T=y()),S(N,k),S(z,M),S(b,H),S(D,T)}),nt(),De();var P=Da(),j=_(P),B=_(j),G=we(()=>{var k;return(k=p())==null?void 0:k.length});Ca(B,{get index(){return a(F)},set index(k){S(F,k)},query:".scene",get expected(){return a(G)},get progress(){return a(R)},set progress(k){S(R,k)},get offset(){return a($)},set offset(k){S($,k)},$$slots:{background:(k,M)=>{var H=Aa(),T=_(H);mt(T,{get title(){return a(N)},get subtitle(){return a(z)},get source(){return a(b)},get note(){return a(D)},get visdescription(){return O()},get dataDownloadUrl(){return u()},get shareUrl(){return a(l)},get shareImg(){return a(g)},get shareTitle(){return C()},get graphic(){return f()},inScroller:!0,get theme(){return A()},$$slots:{graphic:(re,ie)=>{var J;var de=be(),Q=le(de);Pe(Q,(J=e.$$slots)==null?void 0:J.graphic,{get activeScene(){return a(Y)},get data(){return c()}}),I(re,de)}}}),m(H),U(()=>me(H,"screenshot",n())),I(k,H)},foreground:(k,M)=>{var ie;var H=Ma(),T=_(H),re=_(T);Pe(re,(ie=e.$$slots)==null?void 0:ie.scenes,{get activeScene(){return a(Y)}}),m(T),m(H),I(k,H)}},$$legacy:!0});var X=W(B,2);Z(X,o,k=>{var M=Ra();Ue(M,"source-text svelte-99ar8n");var H=_(M);U(()=>ce(H,`${i()("source",{default:"Source:"})??""} `));var T=W(H);Ae(T,o),m(M),I(k,M)}),m(j),m(P),U(()=>{Ue(P,`${"side-by-side layout-full "+A()+" "+E()} svelte-99ar8n`),se(P,"style",`--goal-color : var(--color-un-sdg${s().number??""})`)}),I(t,P),Re()}var Na=Wt('<text x="10" y="30"> </text>'),za=Wt('<svg class="simple-vis svelte-1ngoytk"><!><text x="10" y="60"> </text></svg>');function La(t,e){Me(e,!1);let r=h(e,"data",8),s=h(e,"activeScene",8);De();var n=za(),i=_(n);Z(i,r,c=>{var d=Na(),v=_(d);m(d),U(()=>{var o;return ce(v,(o=r())==null?void 0:o.length)}),I(c,d)});var l=W(i),g=_(l);m(l),m(n),U(()=>{var c,d;return ce(g,`scene: #${((c=s())==null?void 0:c.index)??""} ${((d=s())==null?void 0:d.id)??""}`)}),I(t,n),Re()}const Gt={wide_scroller:Bt,scroller:Bt,visContainer:mt,vis:mt,text:sa,scene:ra,simplevis:La},Xe=(t,e=!0)=>e?Gt.hasOwnProperty(t)?Gt[t]:ia:tt;function ar(t,e=!1){let[r,...s]=t.split(".");return e&&t.includes("scenes")?s=s.slice(0,s.length-3).join("").replace(/\#/g,"").replace("content","c").replace("translationPrefix",""):s=s.join("").replace(/\#/g,"").replace("content","c").replace("scenes","s").replace("translationPrefix",""),{goalNumberPrefix:r,contentId:s}}let Pa=0;function qe(t,e=!1,r,s){const n="translationPrefix",i="shareUrl",l="shareImg",g="anchorKey";if(Array.isArray(t))return console.log("DDSFDJFDSDFSJSDFIDFSJDFSIDFJDFSJISFJFIS"),t.map(d=>qe(d,e,r,s));const c=t[n];return!c&&!e?t:Object.keys(t).reduce((d,v)=>{var f,O;if(typeof t[v]=="object")return Array.isArray(t[v])?d[v]=t[v].map(A=>qe(A,e,r,s)):d[v]=qe(t[v],e,r,s),d;const o=e?v:`${c}.${v}`;let y=""+r(o);if(o.endsWith(n)&&((t==null?void 0:t.type)==="vis"||(f=t==null?void 0:t.type)!=null&&f.startsWith("scene"))){const{goalNumberPrefix:A,contentId:E}=ar(o,!1);t[i]=`${s.origin+s.pathname}?lang=${_t}#${E}`,t[l]=`https://${Ar.shareHostname}/${_t}/${A}/${E}.png`,t[g]=E}if(!e&&y===o)d[v]=t[v];else{const A=/(\[)|(\])/gim;if(e)if(t[v]&&typeof t[v]=="string")y=t[v];else return d[v]=t[v],d;const E=y.split(A).filter(b=>b&&b!=='""');let w=[];const p={type:"text",value:[]};let u=p,C=!1,F=!0;w.push(u);for(let b=0;b<E.length;b++){let D=E[b];if(D.startsWith("["))C=!0;else if(D.startsWith("]")&&w.length>1)F?(w.pop(),u=w[w.length-1]):(F=!0,u.value.push("]"));else{if(C){const R=(O=D.match(/(\w+): /))==null?void 0:O[1];if(R){F=!0;let $={type:R,value:[]};u.value.push($),u=$,w.push($),D=D.replace(`${R}: `,"")}else D="["+D,F=!1;C=!1}D.length>0&&u.value.push(D)}}u=p;let N=[];const z=b=>{var $;if(typeof b=="string")return b;let D=!1,R="";if(Array.isArray(b.value)){if(b.type==="link"){let[B,...G]=b.value[0].trim().split(" ");return G=G.join(" "),b.value.length>1&&(G+=($=b.value.slice(1))==null?void 0:$.join("")),`<a href='${B}' title='${G}' target='blank'>${G}</a>`}const Y=`${b.type}_`+new Date().getTime()+Pa++;let P,j=!1;if(b.type==="emphasis")R+='<span class="emphasis">';else if(b.type==="footnote")R+=`<div class="summary"> <div class="bg" aria-label="footnote"><label class="footnote" aria-hidden="true" for='${Y}'>i</label></div><input type="checkbox" role="switch" aria-label="read footnote" id='${Y}'/><div class="details">`;else if(b.type==="chapterlink"){const[B,...G]=b.value[0].trim().split(" ");R+=`<a href="${generateChapterURL(B)}">${G.join(" ")}</a>`,N.push(+B),D=!0}else if(b.type==="chapterurl"){const[B,...G]=b.value[0].trim().split(" ");R+=s.href,N.push(+B),D=!0}else if(b.type==="target"||b.type==="goal"){const[B,...G]=b.value[0].trim().split(" "),[X,...k]=B.split(".");let M;b.type==="target"?(M=r("base.sdg")+" "+r("base.target")+" ",M==="base.sdg base.target "&&(M="SDG Target ")):(M=r("base.sdg")+" ",M==="base.sdg "&&(M="SDG ")),N.push(X),R+=`<div class="summary targ" style="--sdg-color: var(--color-un-sdg${X}); --sdg-text-color: var(--color-un-text-sdg${X})"
              onmouseenter="window.sdga2023_highlightGoal(${X})"
              onmouseleave="window.sdga2023_lowlightGoal(${X})"
              ><input type="checkbox" id='${Y}' aria-hidden="true" /><label class="unstyled" for='${Y}'><p class="goal-target">${M}<span class="goal">${X}${k.length>0?`.</span><span class="target">${k.join(".")}</span>`:"</span>"}</p></label><p class="details goal-details"><span class="target">${r("target."+B)}</span></p></div>`,D=!0}else if(b.type==="reference"){const B=JSON.stringify(b.value).replace(/[\s\,\"]/g,"");let G=references.map(X=>X==null?void 0:X.text).indexOf(B);G===-1?(P={text:B,index:references.length,formatted:""},j=!0):P=references[G],R+=`<div class="summary reference ${P.index+1>9?"wide":""}"><div class="bg" aria-label="reference ${P.index+1}"><label for='${Y}' aria-hidden="true">${P.index+1}</label></div><input type="checkbox" role="switch" aria-label="read reference" id='${Y}'/><div class="details">`}D||b.value.forEach(B=>{const G=z(B);R+=G,j&&(P.formatted+=G)}),b.type==="emphasis"?R+="</span>":(b.type==="footnote"||b.type==="reference")&&(R+="</div></div>"),j&&(references=[...references,P])}return R};y=z(u),d[v]=y,N.length>0&&(d.highlights?d.highlights=[...d.highlights,...N]:d.highlights=N)}return d},{})}var Ha=V("<a></a>"),Ua=V('<!> <div class="observer navigation-highlights"></div> <!>',1);function Za(t,e){Me(e,!1);const r=L(),s=L();let n=h(e,"data",12),i=L();yt(()=>{var O;const f=async()=>{var u,C,F,N;const E=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(u=n())==null?void 0:u.goal}/${(C=n())==null?void 0:C.goal}.json`)).json();console.log(E),n({...n(),...E});const p=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(F=n())==null?void 0:F.goal}/${(N=n())==null?void 0:N.goal}.en.i18n.json`)).json();S(i,p)};n()&&((O=n())!=null&&O.goal)&&!n().content&&f()});const l=f=>a(i).hasOwnProperty(f)?a(i)[f]:f,g={origin:"",pathname:"",href:""};let c=L([]);function d(f){a(c).indexOf(f)===-1&&S(c,[...a(c),f])}function v(f){}ne(()=>(te(n()),a(i),qe),()=>{var f;S(r,(f=n())!=null&&f.content&&a(i)?qe(n(),!1,l,g):null)}),ne(()=>a(r),()=>{console.log(a(r))}),ne(()=>te(n()),()=>{var f;S(s,(f=n())==null?void 0:f.goal)}),ne(()=>{},()=>{S(c,[])}),nt(),De();var o=be(),y=le(o);Z(y,()=>a(r),f=>{var O=be(),A=le(O);Nt(A,1,()=>a(r).content,Rr,(E,w,p)=>{var u=be(),C=le(u);Z(C,()=>Array.isArray(a(w)),F=>{var N=be();const z=we(()=>a(w).find(D=>D.hasOwnProperty("vis")).vis);var b=le(N);ht(b,()=>Xe("wide_scroller",!0),(D,R)=>{R(D,We(()=>a(w),{get graphic(){return a(z)},get shareTitle(){return a(s)},children:($,Y)=>{},$$slots:{default:!0,graphic:($,Y)=>{const P=we(()=>Y.activeScene),j=we(()=>Y.parentWidth),B=we(()=>Y.parentHeight);var G=be(),X=le(G);Z(X,()=>a(z),k=>{var M=we(()=>Xe(a(z)));ft(k,We({get thiz(){return a(M)}},()=>a(w),{get type(){return a(z)},get activeScene(){return a(P)},get parentWidth(){return a(j)},get parentHeight(){return a(B)}}))}),I($,G)},scenes:($,Y)=>{var P=be();const j=we(()=>Object.values(a(w).filter(G=>G.hasOwnProperty("scene"))));var B=le(P);Z(B,()=>a(j),G=>{var X=be(),k=le(X);Nt(k,3,()=>a(j),(M,H)=>{var T;return((T=n())==null?void 0:T.goal)+p+"-"+H},(M,H)=>{var T=Ua(),re=le(T);Z(re,()=>{var J;return(J=a(r))==null?void 0:J.translationPrefix},J=>{var K=Ha();U(()=>se(K,"name",ar(a(H).translationPrefix).contentId)),I(J,K)});var ie=W(re,2),de=W(ie,2),Q=we(()=>Xe(a(H).type));ft(de,We({get thiz(){return a(Q)}},()=>a(H),{get text(){return a(H).scene},get type(){return a(H).type}})),Lr(ie,(J,K)=>Zr(J,K),()=>({rootMargin:"50% 0px 0% 0px"})),et(()=>$e("enter",ie,()=>{d(p)})),et(()=>$e("leave",ie,()=>{a(H)})),I(M,T)}),I(G,X)}),I($,P)}}}))}),I(F,N)},F=>{var N=we(()=>Xe(a(w).type,!0)),z=we(()=>!0);ft(F,We({get thiz(){return a(N)},get onScreen(){return a(z)}},()=>a(w)))}),I(E,u)}),I(f,O)}),I(t,o),Re()}export{Za as component,Qa as universal};
