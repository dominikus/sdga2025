var rr=Object.defineProperty;var St=t=>{throw TypeError(t)};var ar=(t,e,r)=>e in t?rr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Et=(t,e,r)=>ar(t,typeof e!="symbol"?e+"":e,r),ot=(t,e,r)=>e.has(t)||St("Cannot "+r);var ke=(t,e,r)=>(ot(t,e,"read from private field"),r?r.call(t):e.get(t)),$e=(t,e,r)=>e.has(t)?St("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),it=(t,e,r,s)=>(ot(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),Tt=(t,e,r)=>(ot(t,e,"access private method"),r);import{b as Ot,e as sr,a as A,t as G,c as we,d as At,n as Ht}from"../chunks/disclose-version.0XystIP9.js";import{h as ge,b as ft,a4 as Gt,y as nr,N as Bt,a5 as or,a6 as Ct,G as Ke,F as lt,I as Ne,J as ir,a7 as Wt,P as pt,a8 as lr,an as cr,Q as It,w as T,ao as mt,ap as dr,v as vr,$ as Mt,aq as bt,ar as fr,M as ur,as as hr,at as Yt,D as qt,C as Vt,A as gr,au as Xt,z as _r,av as pr,K as mr,E as br,aa as Ze,k as Kt,ab as wr,o as re,e as xr,aw as yr,q as kr,c as p,s as L,r as m,t as D,p as Ce,f as ce,a as Ie,n as Sr,ax as ne,m as a,ay as st,az as U,ag as Ue}from"../chunks/runtime.HYkY6oFU.js";import{s as de,e as Be}from"../chunks/render.Dk4F5tgN.js";import{p as f,l as Er,o as wt,i as X,c as ut,s as Ge,b as Fe,d as Tr}from"../chunks/index-client.CPyTNqRV.js";import{i as Me,s as nt,a as me}from"../chunks/store.DAwYnGjA.js";import{s as De,d as Or}from"../chunks/misc.B-zoM8PI.js";import{b as Je,w as Ft,r as Jt}from"../chunks/paths.8LHHEkjF.js";const Ar=!0;let ct=null;function Cr(t,e){return e}function Ir(t,e,r,s){for(var n=[],o=e.length,c=0;c<o;c++)fr(e[c].e,n,!0);var v=o>0&&n.length===0&&r!==null;if(v){var d=r.parentNode;ur(d),d.append(r),s.clear(),Te(t,e[0].prev,e[o-1].next)}hr(n,()=>{for(var w=0;w<o;w++){var y=e[w];v||(s.delete(y.k),Te(t,y.prev,y.next)),Yt(y.e,!v)}})}function Rt(t,e,r,s,n,o=null){var c=t,v={flags:e,items:new Map,first:null},d=(e&Xt)!==0;if(d){var w=t;c=ge?Ke(Vt(w)):w.appendChild(gr())}ge&&ft();var y=null;Gt(()=>{var i=r(),k=nr(i)?i:i==null?[]:Bt(i),l=k.length;let u=!1;if(ge){var P=c.data===or;P!==(l===0)&&(c=Ct(),Ke(c),lt(!1),u=!0)}if(ge){for(var C=null,S,g=0;g<l;g++){if(Ne.nodeType===8&&Ne.data===ir){c=Ne,u=!0,lt(!1);break}var h=k[g],O=s(h,g);S=Qt(Ne,v,C,null,h,O,g,n,e),v.items.set(O,S),C=S}l>0&&Ke(Ct())}ge||Mr(k,v,c,n,e,s),o!==null&&(l===0?y?Wt(y):y=pt(()=>o(c)):y!==null&&lr(y,()=>{y=null})),u&&lt(!0)}),ge&&(c=Ne)}function Mr(t,e,r,s,n,o){var R,N,J,te;var c=(n&pr)!==0,v=(n&(mt|bt))!==0,d=t.length,w=e.items,y=e.first,i=y,k,l=null,u,P=[],C=[],S,g,h,O;if(c)for(O=0;O<d;O+=1)S=t[O],g=o(S,O),h=w.get(g),h!==void 0&&((R=h.a)==null||R.measure(),(u??(u=new Set)).add(h));for(O=0;O<d;O+=1){if(S=t[O],g=o(S,O),h=w.get(g),h===void 0){var z=i?i.e.nodes_start:r;l=Qt(z,e,l,l===null?e.first:l.next,S,g,O,s,n),w.set(g,l),P=[],C=[],i=l.next;continue}if(v&&Rr(h,S,O,n),h.e.f&cr&&(Wt(h.e),c&&((N=h.a)==null||N.unfix(),(u??(u=new Set)).delete(h))),h!==i){if(k!==void 0&&k.has(h)){if(P.length<C.length){var $=C[0],M;l=$.prev;var F=P[0],q=P[P.length-1];for(M=0;M<P.length;M+=1)Pt(P[M],$,r);for(M=0;M<C.length;M+=1)k.delete(C[M]);Te(e,F.prev,q.next),Te(e,l,F),Te(e,q,$),i=$,l=q,O-=1,P=[],C=[]}else k.delete(h),Pt(h,i,r),Te(e,h.prev,h.next),Te(e,h,l===null?e.first:l.next),Te(e,l,h),l=h;continue}for(P=[],C=[];i!==null&&i.k!==g;)(k??(k=new Set)).add(i),C.push(i),i=i.next;if(i===null)continue;h=i}P.push(h),l=h,i=h.next}if(i!==null||k!==void 0){for(var B=k===void 0?[]:Bt(k);i!==null;)B.push(i),i=i.next;var Y=B.length;if(Y>0){var b=n&Xt&&d===0?r:null;if(c){for(O=0;O<Y;O+=1)(J=B[O].a)==null||J.measure();for(O=0;O<Y;O+=1)(te=B[O].a)==null||te.fix()}Ir(e,B,b,w)}}c&&_r(()=>{var Q;if(u!==void 0)for(h of u)(Q=h.a)==null||Q.apply()}),It.first=e.first&&e.first.e,It.last=l&&l.e}function Rr(t,e,r,s){s&mt&&T(t.v,e),s&bt?T(t.i,r):t.i=r}function Qt(t,e,r,s,n,o,c,v,d){var w=ct;try{var y=(d&mt)!==0,i=(d&dr)===0,k=y?i?vr(n):Mt(n):n,l=d&bt?Mt(c):c,u={i:l,v:k,k:o,a:null,e:null,prev:r,next:s};return ct=u,u.e=pt(()=>v(t,k,l),ge),u.e.prev=r&&r.e,u.e.next=s&&s.e,r===null?e.first=u:(r.next=u,r.e.next=u.e),s!==null&&(s.prev=u,s.e.prev=u.e),u}finally{ct=w}}function Pt(t,e,r){for(var s=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==s;){var c=qt(o);n.before(o),o=c}}function Te(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Ae(t,e,r,s,n){var o=t,c="",v;Gt(()=>{if(c===(c=e())){ge&&ft();return}v!==void 0&&(Yt(v),v=void 0),c!==""&&(v=pt(()=>{if(ge){Ne.data;for(var d=ft(),w=d;d!==null&&(d.nodeType!==8||d.data!=="");)w=d,d=qt(d);if(d===null)throw mr(),br;Ot(Ne,w),o=Ke(d);return}var y=c+"",i=sr(y);Ot(Vt(i),i.lastChild),o.before(i)}))})}function Pr(t,e,r){Ze(()=>{var s=Kt(()=>e(t,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var n=!1,o={};wr(()=>{var c=r();re(c),n&&xr(o,c)&&(o=c,s.update(c))}),n=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function se(t,e,r,s){r=r==null?null:r+"";var n=t.__attributes??(t.__attributes={});ge&&(n[e]=t.getAttribute(e),e==="src"||e==="href"||e==="srcset")||n[e]!==(n[e]=r)&&(e==="loading"&&(t[yr]=r),r===null?t.removeAttribute(e):t.setAttribute(e,r))}function He(t,e,r){if(e in t){var s=t[e],n=typeof s=="boolean"&&r===""?!0:r;(typeof s!="object"||s!==n)&&(t[e]=n)}else se(t,e,r)}function ze(t,e){var r=t.__className,s=Ur(e);ge&&t.className===s?t.__className=s:(r!==s||ge&&t.className!==s)&&(e==null?t.removeAttribute("class"):t.className=s,t.__className=s)}function Ur(t){return t??""}function pe(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function Nr(t,e,r,s,n){var o=t.__attributes??(t.__attributes={}),c=t.style,v="style-"+e;o[v]===r&&!n||(o[v]=r,r==null?c.removeProperty(e):c.setProperty(e,r,""))}function Dr(t,e,r,s=!0){s&&r();for(var n of e)t.addEventListener(n,r);kr(()=>{for(var o of e)t.removeEventListener(o,r)})}var Oe,Le,We,rt,Zt;const at=class at{constructor(e){$e(this,rt);$e(this,Oe,new WeakMap);$e(this,Le);$e(this,We);it(this,We,e)}observe(e,r){var s=ke(this,Oe).get(e)||new Set;return s.add(r),ke(this,Oe).set(e,s),Tt(this,rt,Zt).call(this).observe(e,ke(this,We)),()=>{var n=ke(this,Oe).get(e);n.delete(r),n.size===0&&(ke(this,Oe).delete(e),ke(this,Le).unobserve(e))}}};Oe=new WeakMap,Le=new WeakMap,We=new WeakMap,rt=new WeakSet,Zt=function(){return ke(this,Le)??it(this,Le,new ResizeObserver(e=>{for(var r of e){at.entries.set(r.target,r);for(var s of ke(this,Oe).get(r.target)||[])s(r)}}))},Et(at,"entries",new WeakMap);let ht=at;var Lr=new ht({box:"border-box"});function Ut(t,e,r){var s=Lr.observe(t,()=>r(t[e]));Ze(()=>(Kt(()=>r(t[e])),s))}function zr(t,e){Dr(window,["resize"],()=>e(window[t]))}const jt=Ar;async function $r({params:t,fetch:e}){var s,n;let{goal:r}=t;if(!r&&jt){const o=(n=(s=document==null?void 0:document.location)==null?void 0:s.pathname)==null?void 0:n.split("/");o.length>0&&(r=o[o.length-1])}console.log("yolo:",t,r);try{return{goal:r.replace(".html",""),doc:{}}}catch(o){return console.log(o),{goal:"goal00",doc:{content:[],config:{}}}}}const Ka=Object.freeze(Object.defineProperty({__proto__:null,load:$r},Symbol.toStringTag,{value:"Module"}));function Hr(t){return t()}function Gr(t){t.forEach(Hr)}const qe=[],Nt=[],Qe=[],Dt=[],er=Promise.resolve();let gt=!1;function Br(){gt||(gt=!0,er.then(qr))}function Wr(){return Br(),er}function Yr(t){Qe.push(t)}const dt=new Set;let Ve=0;function qr(){do{for(;Ve<qe.length;){const t=qe[Ve];Ve++,Vr(t.$$)}for(qe.length=0,Ve=0;Nt.length;)Nt.pop()();for(let t=0;t<Qe.length;t+=1){const e=Qe[t];dt.has(e)||(dt.add(e),e())}Qe.length=0}while(qe.length);for(;Dt.length;)Dt.pop()();gt=!1,dt.clear()}function Vr(t){if(t.fragment!==null){t.update(),Gr(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Yr)}}const Xr={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},Ee=(t,e)=>new CustomEvent(t,{detail:e});function Kr(t,e={}){const{root:r,rootMargin:s,threshold:n,unobserveOnEnter:o}=Object.assign(Object.assign({},Xr),e);let c={x:void 0,y:void 0},v={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const d=new IntersectionObserver((w,y)=>{w.forEach(i=>{c.y>i.boundingClientRect.y?v.vertical="up":v.vertical="down",c.x>i.boundingClientRect.x?v.horizontal="left":v.horizontal="right",c={y:i.boundingClientRect.y,x:i.boundingClientRect.x};const k={inView:i.isIntersecting,entry:i,scrollDirection:v,node:t,observer:y};t.dispatchEvent(Ee("inview_change",k)),t.dispatchEvent(Ee("change",k)),i.isIntersecting?(t.dispatchEvent(Ee("inview_enter",k)),t.dispatchEvent(Ee("enter",k)),o&&y.unobserve(t)):(t.dispatchEvent(Ee("inview_leave",k)),t.dispatchEvent(Ee("leave",k)))})},{root:r,rootMargin:s,threshold:n});return Wr().then(()=>{t.dispatchEvent(Ee("inview_init",{observer:d,node:t})),t.dispatchEvent(Ee("init",{observer:d,node:t}))}),d.observe(t),{destroy(){d.unobserve(t)}}}}const Fr=(t,e,r)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var Jr=G('<div class="loading svelte-5a8u5a"><img alt="Loading" class="svelte-5a8u5a"> <div style="display: flex"><div style="width: 75%"></div> <div style="width: 25%"><!></div></div></div>');function je(t,e){var d;let r=f(e,"minHeight",8,!0);var s=Jr(),n=p(s);se(n,"src",`${Je}/assets/images/tail-spin.svg`);var o=L(n,2),c=L(p(o),2),v=p(c);De(v,(d=e.$$slots)==null?void 0:d.scenes,{activeScene:`${{id:"",index:0}}}`}),m(c),m(o),m(s),D(()=>Nr(s,"min-height",r()?"60vh":"none")),A(t,s)}function vt(t,e){const r=Er(e,["children","$$slots","$$events","$$legacy"]);Ce(e,!1);let s=f(e,"thiz",8),n=f(e,"onScreen",8,!0),o=f(e,"path",8),c=f(e,"data",8),v=Array.isArray(s())?je:s();wt(async()=>{Array.isArray(s())&&(v=(await Fr(Object.assign({}),`./${s()[0]}/${s()[1]}.svelte`,3)).default)}),Me();var d=we(),w=ce(d);X(w,()=>{var y;return n()&&(!o()||((y=c())==null?void 0:y.length))},y=>{var i=we(),k=ce(i);ut(k,()=>v,(l,u)=>{u(l,Ge(()=>r))}),A(y,i)},y=>{var i=we(),k=ce(i);ut(k,()=>je,(l,u)=>{u(l,{})}),A(y,i)}),A(t,d),Ie()}const Lt=Math.max(1,Math.floor(Math.random()*17)),xt=Ft({string:"goal"+String(Lt).padStart(2,"0"),number:Lt}),yt=Ft(!1);var Qr=G('<div class="content svelte-glbrcz"><!> <!></div>'),Zr=G('<div class="scene svelte-glbrcz"><!></div>');function jr(t,e){Ce(e,!1);const r=nt(),s=()=>me(yt,"$isScreenshotting",r),n=()=>me(xt,"$activeGoal",r);let o=f(e,"text",8,""),c=f(e,"activeScene",8),v=f(e,"hidden",8,!1);Me();var d=Zr(),w=p(d);X(w,()=>!v(),y=>{var i=Qr(),k=p(i);Ae(k,o);var l=L(k,2);De(l,Or(e),{get activeScene(){return c()}}),m(i),D(()=>{se(i,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),pe(i,"invisible",s())}),A(y,i)}),m(d),A(t,d),Ie()}var ea=G("<div><!></div>");function ta(t,e){let r=f(e,"text",8),s=f(e,"width",8,"");var n=ea(),o=p(n);Ae(o,r),m(n),D(()=>ze(n,`text-block ${s()??""} layout-main svelte-1rv19f5`)),A(t,n)}var ra=G('<div class="unknown-component border layout-main svelte-10tfi0">Unknown component <em> </em></div>');function aa(t,e){let r=f(e,"type",8);var s=ra(),n=L(p(s)),o=p(n);m(n),m(s),D(()=>de(o,r())),A(t,s)}const kt=Jt(t=>(console.log(t),t)),sa="en",na="#2b98c6",oa="#e56666";var ia=G('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),la=G('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),ca=G('<span class="pref svelte-c7oa2u"> </span> <!> <br>',1),da=G('<span class="pref svelte-c7oa2u"> </span> <!>',1),va=G('<div><div class="logo-container svelte-c7oa2u"><img class="wb-logo svelte-c7oa2u" title="logo" alt="logo"> <!></div> <p class="source svelte-c7oa2u"><!> <!></p></div>');function fa(t,e){Ce(e,!1);const r=nt(),s=()=>me(sa,"$locale",r),n=()=>me(kt,"$_",r);let o=f(e,"note",8),c=f(e,"source",8),v=f(e,"theme",8);Me();var d=va(),w=p(d),y=p(w);se(y,"src",`${Je??""}/assets/external/loop-header-footer/img/logo-wb.svg`);var i=L(y,2);X(i,()=>v()==="dark",P=>{var C=ia();se(C,"src",`${Je??""}/assets/external/loop-header-footer/img/logo-atlas-dark.svg`),A(P,C)},P=>{var C=la();D(()=>se(C,"src",`${Je??""}/assets/external/loop-header-footer/img/logo-atlas-${s()??""}.svg`)),A(P,C)}),m(w);var k=L(w,2),l=p(k);X(l,o,P=>{var C=ca(),S=ce(C),g=p(S);D(()=>de(g,n()("note",{default:"Note:"}))),m(S);var h=L(S,2);Ae(h,o),Sr(2),A(P,C)});var u=L(l,2);X(u,c,P=>{var C=da(),S=ce(C),g=p(S);D(()=>de(g,n()("source",{default:"Source:"}))),m(S);var h=L(S,2);Ae(h,c),A(P,C)}),m(k),m(d),D(()=>ze(d,`${`screenshot-footer-container ${v()}`??""} svelte-c7oa2u`)),A(t,d),Ie()}const ua=Jt(!1);var ha=G('<h1 class="svelte-1ob8ko5"> </h1>'),ga=G('<h2 class="svelte-1ob8ko5"><!></h2>'),_a=G('<div class="title-container svelte-1ob8ko5"><!> <!></div>'),pa=G(`<!> <svg width="0px" height="0px"><defs><pattern id="diagonalHatch" width="100px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="50" y2="50" stroke-width="10" style="stroke: var(--color-grey-400);"></line></pattern><pattern id="tightHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path class="visible" d="M-1,1 l2,-2
         M0,4 l4,-4
         M3,5 l2,-2" style="stroke: var(--color-grey-800);"></path></pattern><marker id="arrowhead_pos" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead_neg" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead-large" markerWidth="5" markerHeight="5" refX="2.5" refY="2.5" orient="auto"><polygon points="0 0, 5 2.5, 0 5"></polygon></marker></defs></svg>`,1),ma=G('<span class="note svelte-1ob8ko5"> <!></span>'),ba=G('<a class="download-icon svelte-1ob8ko5"><span aria-hidden="true"> </span></a>'),wa=G('<span class="download svelte-1ob8ko5"><a class="download-icon svelte-1ob8ko5" target="_blank" rel="noreferrer"><span aria-hidden="true"> </span></a></span>'),xa=G('<span class="share svelte-1ob8ko5"><!></span>'),ya=G('<p class="toast svelte-1ob8ko5" aria-hidden="true"><!></p>'),ka=G("<p> <!></p>"),Sa=G('<div class="source svelte-1ob8ko5"><!> <span class="download-share svelte-1ob8ko5"><span class="download svelte-1ob8ko5"><!></span> <!> <!> <span class="share svelte-1ob8ko5"><a alt="Copy link to clipboard"><span aria-hidden="true"> </span></a></span></span> <!></div> <!>',1),Ea=G('<div><div class="internal-container svelte-1ob8ko5"><!> <div class="vis svelte-1ob8ko5" role="img"><!> <!></div> <!></div></div>');function _t(t,e){Ce(e,!1);const r=nt(),s=()=>me(yt,"$isScreenshotting",r),n=()=>me(xt,"$activeGoal",r),o=()=>me(kt,"$_",r),c=()=>me(ua,"$isMobile",r),v=U();let d=f(e,"title",8),w=f(e,"subtitle",8),y=f(e,"source",8),i=f(e,"note",8),k=f(e,"visdescription",8),l=f(e,"size",8,"content"),u=f(e,"hide_download",8,!1),P=f(e,"inScroller",8,!1),C=f(e,"theme",8),S=f(e,"dataDownloadUrl",8),g=f(e,"shareUrl",8),h=f(e,"shareImg",8),O=f(e,"shareTitle",8),z=f(e,"graphic",8),$=U(),M=U(),F=U(0),q=U(0),B=U(),Y=U(!1),b=null,R=U();const N=1700;function J(){navigator.permissions.query({name:"clipboard-write"}).then(W=>{(W.state==="granted"||W.state==="prompt")&&(navigator.clipboard.writeText(g()),T(Y,!0),clearTimeout(b),setTimeout(()=>{T(Y,!1),T(B,null)},N))})}function te(W){if(a(R)){const K=a(R).getBoundingClientRect();T(B,{x:K.x,y:K.y})}}function Q(){a(Y)||T(B,null)}ne(()=>{},()=>{T(v,!0)}),ne(()=>a($),()=>{T(F,a($))}),ne(()=>a(M),()=>{T(q,a(M))}),st(),Me();var x=Ea(),I=p(x),E=p(I);X(E,()=>d()||w(),W=>{var K=_a(),V=p(K);X(V,d,le=>{var ee=ha(),ve=p(ee);m(ee),D(()=>de(ve,d())),A(le,ee)});var oe=L(V,2);X(oe,w,le=>{var ee=ga(),ve=p(ee);Ae(ve,w),m(ee),A(le,ee)}),m(K),A(W,K)});var _=L(E,2);D(()=>se(_,"aria-label",k()?k():o()("alt.chart")+" "+w()));var Z=p(_);X(Z,()=>!jt,W=>{je(W,{})});var j=L(Z,2);X(j,()=>a(F)!==void 0&&a(q)!==void 0,W=>{var Se;var K=pa(),V=ce(K);De(V,(Se=e.$$slots)==null?void 0:Se.graphic,{get parentWidth(){return a(F)},get parentHeight(){return a(q)}});var oe=L(V,2),le=p(oe),ee=L(p(le),2),ve=p(ee);se(ve,"fill",na),m(ee);var xe=L(ee),Re=p(xe);se(Re,"fill",oa),m(xe);var ye=L(xe),_e=p(ye);se(_e,"stroke-width",0),m(ye),m(le),m(oe),A(W,K)}),m(_);var ie=L(_,2);X(ie,()=>!s(),W=>{var K=Sa(),V=ce(K),oe=p(V);X(oe,i,fe=>{var H=ma(),ae=p(H);D(()=>de(ae,`${o()("note",{default:"Note:"})??""} `));var ue=L(ae);Ae(ue,i),m(H),A(fe,H)});var le=L(oe,2),ee=p(le),ve=p(ee);X(ve,()=>S()&&!u(),fe=>{var H=ba();D(()=>se(H,"aria-label",o()("alt.download.data")));var ae=p(H),ue=p(ae);D(()=>de(ue,o()("data.download"))),m(ae),m(H),D(()=>{se(H,"data-customlink",`download:vis-data-${d()}`),se(H,"href",S()),pe(ae,"hidden",!S()&&!a(v))}),A(fe,H)}),m(ee);var xe=L(ee,2);X(xe,()=>a(v),fe=>{var H=wa(),ae=p(H);D(()=>se(ae,"aria-label",o()("alt.download.image")));var ue=p(ae),Pe=p(ue);D(()=>de(Pe,o()("image.download"))),m(ue),m(ae),m(H),D(()=>{pe(H,"borderless",!i()&&!S()||i()&&!S()&&c()),se(ae,"href",h()),pe(ue,"hidden",!S()&&!a(v))}),A(fe,H)});var Re=L(xe,2);X(Re,()=>g()&&!1,fe=>{var H=xa(),ae=p(H);ShareIcons(ae,{get shareUrl(){return g()},get title(){return O()}}),m(H),D(()=>pe(H,"borderless",!i()&&!S()&&!a(v))),A(fe,H)});var ye=L(Re,2),_e=p(ye);Fe(_e,fe=>T(R,fe),()=>a(R));var Se=p(_e),Ye=p(Se);D(()=>de(Ye,o()("copy.link",{default:"Copy Link"}))),m(Se),m(_e),m(ye),m(le);var he=L(le,2);X(he,()=>a(B)||a(Y),fe=>{var H=ya(),ae=p(H);X(ae,()=>a(Y),ue=>{var Pe=At();D(()=>de(Pe,o()("link.copied",{default:"Link copied to clipboard"}))),A(ue,Pe)},ue=>{var Pe=At();D(()=>de(Pe,o()("click.copy",{default:"Click to copy link"}))),A(ue,Pe)}),m(H),D(()=>pe(H,"disappearing",a(Y))),A(fe,H)}),m(V);var tr=L(V,2);X(tr,y,fe=>{var H=ka();ze(H,"source-text svelte-1ob8ko5");var ae=p(H);D(()=>de(ae,`${o()("source",{default:"Source:"})??""} `));var ue=L(ae);Ae(ue,y),m(H),A(fe,H)}),D(()=>{pe(ee,"borderless",!i()||c()),pe(ye,"borderless",!i()&&(!S()||u())&&!a(v))}),Be("click",_e,J),Be("mouseover",_e,te),Be("mouseout",_e,Q),A(W,K)},W=>{fa(W,{get note(){return i()},get source(){return y()},get theme(){return C()}})}),m(I),m(x),D(()=>{ze(x,`${`${z()} vis-container ${P()?"":l()}`??""} svelte-1ob8ko5`),se(x,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),pe(x,"in-scroller",P()===!0),pe(x,"is-screenshotting",s())}),Ut(_,"clientWidth",W=>T($,W)),Ut(_,"clientHeight",W=>T(M,W)),A(t,x),Ie()}var Ta=G("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);const be=[];let et;if(typeof window<"u"){const t=()=>be.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((r,s)=>{r.forEach(n=>{const o=t.get(n.target),c=be.indexOf(o);n.isIntersecting?c===-1&&be.push(o):(o(),c!==-1&&be.splice(c,1))})},{rootMargin:"0px 0px"});et={add:({outer:r,update:s})=>{const{top:n,bottom:o}=r.getBoundingClientRect();n<window.innerHeight&&o>0&&be.push(s),t.set(r,s),e.observe(r)},remove:({outer:r,update:s})=>{const n=be.indexOf(s);n!==-1&&be.splice(n,1),t.delete(r),e.unobserve(r)}}}else et={add:({update:t})=>{be.push(t)},remove:({update:t})=>{const e=be.indexOf(t);e!==-1&&be.splice(e,1)}};function Oa(t,e){var I,E;Ce(e,!1);const r=U(),s=U(),n=U(),o=U(),c=U();let v=f(e,"top",8,0),d=f(e,"bottom",8,1),w=f(e,"threshold",8,.5),y=f(e,"query",8,"section"),i=f(e,"parallax",8,!1),k=f(e,"expected",8),l=f(e,"index",12,0),u=f(e,"count",12,0),P=f(e,"offset",12,0),C=f(e,"progress",12,0),S=f(e,"visible",12,!1),g=U(),h=U(),O=U(),z,$,M=U(0),F=U(),q=U(0),B=U(1);function Y(){var _;u()||($=(_=a(h))==null?void 0:_.querySelectorAll(y()),$&&$.length===k()?(u($.length),b()):setTimeout(Y,1250))}wt(()=>{Y();const _={outer:a(g),update:b};return et.add(_),()=>et.remove(_)});function b(){if(!a(h))return;const _=a(g).getBoundingClientRect();z=_.left,T(B,_.right-z);const Z=a(h).getBoundingClientRect(),j=a(O).getBoundingClientRect();S(Z.top<a(M)&&Z.bottom>0);const ie=Z.bottom-Z.top,W=j.bottom-j.top,K=a(s)-a(r);C((a(r)-Z.top)/(ie-K)),C()<=0?(T(q,0),T(F,!1)):C()>=1?(T(q,i()?ie-W:ie-K),T(F,!1)):(T(q,i()?Math.round(a(r)-C()*(W-K)):a(r)),T(F,!0));for(let V=0;V<$.length;(V+=1)-1){const oe=$[V],{top:le}=oe.getBoundingClientRect(),ee=$[V+1],ve=ee?ee.getBoundingClientRect().top:Z.bottom;if(P((a(n)-le)/(ve-le)),ve>=a(n)){l(V);break}}}ne(()=>(re(v()),a(M)),()=>{T(r,Math.round(v()*a(M)))}),ne(()=>(re(d()),a(M)),()=>{T(s,Math.round(d()*a(M)))}),ne(()=>(re(w()),a(M)),()=>{T(n,Math.round(w()*a(M)))}),ne(()=>(re(v()),re(d()),re(w()),re(i())),()=>{v(),d(),w(),i(),b()}),ne(()=>(a(F),a(q)),()=>{T(o,`
		position: ${a(F)?"fixed":"absolute"};
    /* override with sticky if supported: */
    position: sticky;
		top: 0;
		transform: translate(0, ${typeof CSS<"u"&&CSS.supports&&CSS.supports("position","sticky")?0:a(q)}px);
		z-index: 1;
	`)}),ne(()=>(a(F),a(B)),()=>{T(c,a(F)?`width:${a(B)}px;`:"")}),st(),Me();var R=Ta();Fe(R,_=>T(g,_),()=>a(g)),He(R,"class","svelte-xdbafy");var N=p(R);He(N,"class","background-container svelte-xdbafy");var J=p(N);Fe(J,_=>T(O,_),()=>a(O)),He(J,"class","svelte-xdbafy");var te=p(J);De(te,(I=e.$$slots)==null?void 0:I.background,{}),m(J),m(N);var Q=L(N,2);Fe(Q,_=>T(h,_),()=>a(h)),He(Q,"class","svelte-xdbafy");var x=p(Q);De(x,(E=e.$$slots)==null?void 0:E.foreground,{}),m(Q),m(R),D(()=>He(N,"style",`${a(o)??""}${a(c)??""}`)),zr("innerHeight",_=>T(M,_)),A(t,R),Ie()}var Aa=G('<div class="left svelte-99ar8n" slot="background"><!></div>'),Ca=G('<div class="right svelte-99ar8n" slot="foreground"><div class="right-inner svelte-99ar8n"><!></div></div>'),Ia=G("<p> <!></p>"),Ma=G('<div><div class="scroller-container svelte-99ar8n"><!> <!></div></div>');function zt(t,e){Ce(e,!1);const r=nt(),s=()=>me(xt,"$activeGoal",r),n=()=>me(yt,"$isScreenshotting",r),o=()=>me(kt,"$_",r),c=U(),v=U();let d=f(e,"data",8),w=f(e,"title",8),y=f(e,"subtitle",8),i=f(e,"source",8),k=f(e,"note",8),l=f(e,"graphic",8),u=f(e,"visdescription",8),P=f(e,"theme",8,"light"),C=f(e,"visSize",8,"default"),S=f(e,"publish_progress",8,!1),g=f(e,"scenes",24,()=>[]),h=f(e,"dataDownloadUrl",8);f(e,"shareUrl",8),f(e,"shareImg",8);let O=f(e,"shareTitle",8),z=U(0),$=U(w()),M=U(y()),F=U(i()),q=U(k()),B=U(0),Y=U(0),b=U();ne(()=>(re(S()),a(B),a(z),re(g()),a(Y)),()=>{var x,I;S()&&T(b,{progress:a(B),index:a(z),id:(I=(x=g())==null?void 0:x[a(z)])==null?void 0:I.id,offset:a(Y)})}),ne(()=>(re(S()),a(z),re(g())),()=>{var x,I;S()||T(b,{index:a(z),id:(I=(x=g())==null?void 0:x[a(z)])==null?void 0:I.id})}),ne(()=>(re(g()),a(b)),()=>{var x;T(c,(x=g()[a(b).index])==null?void 0:x.shareUrl)}),ne(()=>(re(g()),a(b)),()=>{var x;T(v,(x=g()[a(b).index])==null?void 0:x.shareImg)}),ne(()=>(a(z),re(g()),re(w()),re(y()),re(i()),re(k())),()=>{var Z,j,ie,W,K,V,oe,le,ee,ve,xe,Re,ye,_e,Se,Ye;let x,I,E,_;for(let he=a(z);he>=0;he+=-1)!x&&((j=(Z=g())==null?void 0:Z[he])!=null&&j.title)&&(x=(W=(ie=g())==null?void 0:ie[he])==null?void 0:W.title),!I&&((V=(K=g())==null?void 0:K[he])!=null&&V.subtitle)&&(I=(le=(oe=g())==null?void 0:oe[he])==null?void 0:le.subtitle),!E&&((ve=(ee=g())==null?void 0:ee[he])!=null&&ve.source)&&(E=(Re=(xe=g())==null?void 0:xe[he])==null?void 0:Re.source),!_&&((_e=(ye=g())==null?void 0:ye[he])!=null&&_e.note)&&(_=(Ye=(Se=g())==null?void 0:Se[he])==null?void 0:Ye.note);x||(x=w()),I||(I=y()),E||(E=i()),_||(_=k()),T($,x),T(M,I),T(F,E),T(q,_)}),st(),Me();var R=Ma(),N=p(R),J=p(N),te=Ue(()=>{var x;return(x=g())==null?void 0:x.length});Oa(J,{get index(){return a(z)},set index(x){T(z,x)},query:".scene",get expected(){return a(te)},get progress(){return a(B)},set progress(x){T(B,x)},get offset(){return a(Y)},set offset(x){T(Y,x)},$$slots:{background:(x,I)=>{var E=Aa(),_=p(E);_t(_,{get title(){return a($)},get subtitle(){return a(M)},get source(){return a(F)},get note(){return a(q)},get visdescription(){return u()},get dataDownloadUrl(){return h()},get shareUrl(){return a(c)},get shareImg(){return a(v)},get shareTitle(){return O()},get graphic(){return l()},inScroller:!0,get theme(){return P()},$$slots:{graphic:(Z,j)=>{var K;var ie=we(),W=ce(ie);De(W,(K=e.$$slots)==null?void 0:K.graphic,{get activeScene(){return a(b)},get data(){return d()},parentWidth,parentHeight}),A(Z,ie)}}}),m(E),D(()=>pe(E,"screenshot",n())),A(x,E)},foreground:(x,I)=>{var j;var E=Ca(),_=p(E),Z=p(_);De(Z,(j=e.$$slots)==null?void 0:j.scenes,{get activeScene(){return a(b)}}),m(_),m(E),A(x,E)}},$$legacy:!0});var Q=L(J,2);X(Q,i,x=>{var I=Ia();ze(I,"source-text svelte-99ar8n");var E=p(I);D(()=>de(E,`${o()("source",{default:"Source:"})??""} `));var _=L(E);Ae(_,i),m(I),A(x,I)}),m(N),m(R),D(()=>{ze(R,`${"side-by-side layout-full "+P()+" "+C()} svelte-99ar8n`),se(R,"style",`--goal-color : var(--color-un-sdg${s().number??""})`)}),A(t,R),Ie()}var Ra=Ht('<text x="10" y="30"> </text>'),Pa=Ht('<svg class="simple-vis svelte-1ngoytk"><!><text x="10" y="60"> </text></svg>');function Ua(t,e){Ce(e,!1);let r=f(e,"data",8),s=f(e,"activeScene",8);Me();var n=Pa(),o=p(n);X(o,r,d=>{var w=Ra(),y=p(w);m(w),D(()=>{var i;return de(y,(i=r())==null?void 0:i.length)}),A(d,w)});var c=L(o),v=p(c);m(c),m(n),D(()=>{var d,w;return de(v,`scene: #${((d=s())==null?void 0:d.index)??""} ${((w=s())==null?void 0:w.id)??""}`)}),A(t,n),Ie()}const $t={wide_scroller:zt,scroller:zt,visContainer:_t,vis:_t,text:ta,scene:jr,povertyscroller:Ua},Xe=(t,e=!0)=>(console.log(t),e?$t.hasOwnProperty(t)?$t[t]:aa:je);let Na=0;function tt(t,e=!1,r){const s="translationPrefix",n="path",o="data",c="dataDownloadUrl",v="shareUrl",d="shareImg",w="anchorKey";let y={};const i=t[s],k=t[n];return k&&(t[o]=y[k]??[],t[c]=base+"/"+k.replace(".json",".csv")),!i&&!e?t:Object.keys(t).reduce((l,u)=>{var S,g;if(typeof t[u]=="object")return Array.isArray(t[u])?l[u]=t[u].map(h=>tt(h,e,r)):l[u]=tt(t[u],e,r),l;const P=e?u:`${i}.${u}`;let C=""+r(P);if(P.endsWith(s)&&((t==null?void 0:t.type)==="vis"||(S=t==null?void 0:t.type)!=null&&S.startsWith("scene"))){const{goalNumberPrefix:h,contentId:O}=translationKeyToId(P,!1);t[v]=`${shareUrl.origin+shareUrl.pathname}?lang=${$locale}#${O}`,t[d]=`https://${variables.shareHostname}/${$locale}/${h}/${O}.png`,t[w]=O}if(!e&&C===P)l[u]=t[u];else{const h=/(\[)|(\])/gim;if(e)if(t[u]&&typeof t[u]=="string")C=t[u];else return l[u]=t[u],l;const O=C.split(h).filter(b=>b&&b!=='""');let z=[];const $={type:"text",value:[]};let M=$,F=!1,q=!0;z.push(M);for(let b=0;b<O.length;b++){let R=O[b];if(R.startsWith("["))F=!0;else if(R.startsWith("]")&&z.length>1)q?(z.pop(),M=z[z.length-1]):(q=!0,M.value.push("]"));else{if(F){const N=(g=R.match(/(\w+): /))==null?void 0:g[1];if(N){q=!0;let J={type:N,value:[]};M.value.push(J),M=J,z.push(J),R=R.replace(`${N}: `,"")}else R="["+R,q=!1;F=!1}R.length>0&&M.value.push(R)}}M=$;let B=[];const Y=b=>{var J;if(typeof b=="string")return b;let R=!1,N="";if(Array.isArray(b.value)){if(b.type==="link"){let[I,...E]=b.value[0].trim().split(" ");return E=E.join(" "),b.value.length>1&&(E+=(J=b.value.slice(1))==null?void 0:J.join("")),`<a href='${I}' title='${E}' target='blank'>${E}</a>`}const te=`${b.type}_`+new Date().getTime()+Na++;let Q,x=!1;if(b.type==="emphasis")N+='<span class="emphasis">';else if(b.type==="footnote")N+=`<div class="summary"> <div class="bg" aria-label="footnote"><label class="footnote" aria-hidden="true" for='${te}'>i</label></div><input type="checkbox" role="switch" aria-label="read footnote" id='${te}'/><div class="details">`;else if(b.type==="chapterlink"){const[I,...E]=b.value[0].trim().split(" ");N+=`<a href="${generateChapterURL(I)}">${E.join(" ")}</a>`,B.push(+I),R=!0}else if(b.type==="chapterurl"){const[I,...E]=b.value[0].trim().split(" ");N+=shareUrl.href,B.push(+I),R=!0}else if(b.type==="target"||b.type==="goal"){const[I,...E]=b.value[0].trim().split(" "),[_,...Z]=I.split(".");let j;b.type==="target"?(j=r("base.sdg")+" "+r("base.target")+" ",j==="base.sdg base.target "&&(j="SDG Target ")):(j=r("base.sdg")+" ",j==="base.sdg "&&(j="SDG ")),B.push(_),N+=`<div class="summary targ" style="--sdg-color: var(--color-un-sdg${_}); --sdg-text-color: var(--color-un-text-sdg${_})"
              onmouseenter="window.sdga2023_highlightGoal(${_})"
              onmouseleave="window.sdga2023_lowlightGoal(${_})"
              ><input type="checkbox" id='${te}' aria-hidden="true" /><label class="unstyled" for='${te}'><p class="goal-target">${j}<span class="goal">${_}${Z.length>0?`.</span><span class="target">${Z.join(".")}</span>`:"</span>"}</p></label><p class="details goal-details"><span class="target">${r("target."+I)}</span></p></div>`,R=!0}else if(b.type==="reference"){const I=JSON.stringify(b.value).replace(/[\s\,\"]/g,"");let E=references.map(_=>_==null?void 0:_.text).indexOf(I);E===-1?(Q={text:I,index:references.length,formatted:""},x=!0):Q=references[E],N+=`<div class="summary reference ${Q.index+1>9?"wide":""}"><div class="bg" aria-label="reference ${Q.index+1}"><label for='${te}' aria-hidden="true">${Q.index+1}</label></div><input type="checkbox" role="switch" aria-label="read reference" id='${te}'/><div class="details">`}R||b.value.forEach(I=>{const E=Y(I);N+=E,x&&(Q.formatted+=E)}),b.type==="emphasis"?N+="</span>":(b.type==="footnote"||b.type==="reference")&&(N+="</div></div>"),x&&(references=[...references,Q])}return N};C=Y(M),l[u]=C,B.length>0&&(l.highlights?l.highlights=[...l.highlights,...B]:l.highlights=B)}return l},{})}function Da(t,e=!1){let[r,...s]=t.split(".");return e&&t.includes("scenes")?s=s.slice(0,s.length-3).join("").replace(/\#/g,"").replace("content","c").replace("translationPrefix",""):s=s.join("").replace(/\#/g,"").replace("content","c").replace("scenes","s").replace("translationPrefix",""),{goalNumberPrefix:r,contentId:s}}var La=G("<a></a>"),za=G('<!> <div class="observer navigation-highlights"></div> <!>',1),$a=G("<h1>test:</h1> <!>",1);function Fa(t,e){Ce(e,!1);const r=U(),s=U();let n=f(e,"data",12),o=U();wt(()=>{var u;const l=async()=>{var h,O,z,$;const C=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(h=n())==null?void 0:h.goal}/${(O=n())==null?void 0:O.goal}.json`)).json();console.log(C),n({...n(),...C});const g=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(z=n())==null?void 0:z.goal}/${($=n())==null?void 0:$.goal}.en.i18n.json`)).json();T(o,g)};n()&&((u=n())!=null&&u.goal)&&!n().content&&l()});const c=l=>a(o).hasOwnProperty(l)?a(o)[l]:l;let v=U([]);function d(l){a(v).indexOf(l)===-1&&T(v,[...a(v),l])}function w(l){}function y(l){}ne(()=>(re(n()),a(o),tt),()=>{var l;T(r,(l=n())!=null&&l.content&&a(o)?tt(n(),!1,c):null)}),ne(()=>a(r),()=>{console.log(a(r))}),ne(()=>re(n()),()=>{var l;T(s,(l=n())==null?void 0:l.goal)}),ne(()=>{},()=>{T(v,[])}),st(),Me();var i=$a(),k=L(ce(i),2);X(k,()=>a(r),l=>{var u=we(),P=ce(u);Rt(P,1,()=>a(r).content,Cr,(C,S,g)=>{var h=we(),O=ce(h);X(O,()=>Array.isArray(a(S)),z=>{var $=we();const M=Ue(()=>a(S).find(q=>q.hasOwnProperty("vis")).vis);var F=ce($);ut(F,()=>Xe("wide_scroller",!0),(q,B)=>{B(q,Ge(()=>a(S),{get graphic(){return a(M)},get shareTitle(){return a(s)},children:Tr,$$slots:{default:(Y,b)=>{},graphic:(Y,b)=>{var R=we(),N=ce(R);X(N,()=>a(M),J=>{var te=Ue(()=>Xe(a(M)));vt(J,Ge({get thiz(){return a(te)}},()=>a(S),{get type(){return a(M)},activeScene,parentWidth,parentHeight}))}),A(Y,R)},scenes:(Y,b)=>{var R=we();const N=Ue(()=>Object.values(a(S).filter(te=>te.hasOwnProperty("scene"))));var J=ce(R);X(J,()=>a(N),te=>{var Q=we(),x=ce(Q);Rt(x,3,()=>a(N),(I,E)=>{var _;return((_=n())==null?void 0:_.goal)+g+"-"+E},(I,E,_)=>{var Z=za(),j=ce(Z);X(j,()=>{var V;return(V=a(r))==null?void 0:V.translationPrefix},V=>{var oe=La();D(()=>se(oe,"name",Da(a(E).translationPrefix).contentId)),A(V,oe)});var ie=L(j,2),W=L(ie,2),K=Ue(()=>Xe(a(E).type));vt(W,Ge({get thiz(){return a(K)}},()=>a(S),{get type(){return a(E).type}})),Pr(ie,(V,oe)=>Kr(V,oe),()=>({rootMargin:"50% 0px 0% 0px"})),Ze(()=>Be("enter",ie,()=>{contentProps[g+"_"+a(_)],d(g)})),Ze(()=>Be("leave",ie,()=>{a(E)})),A(I,Z)}),A(te,Q)}),A(Y,R)}}}))}),A(z,$)},z=>{var $=Ue(()=>Xe(a(S).type,!0)),M=Ue(()=>!0);vt(z,Ge({get thiz(){return a($)},get onScreen(){return a(M)}},()=>a(S)))}),A(C,h)}),A(l,u)}),A(t,i),Ie()}export{Fa as component,Ka as universal};
