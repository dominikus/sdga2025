var ar=Object.defineProperty;var Et=t=>{throw TypeError(t)};var sr=(t,e,r)=>e in t?ar(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Tt=(t,e,r)=>sr(t,typeof e!="symbol"?e+"":e,r),it=(t,e,r)=>e.has(t)||Et("Cannot "+r);var Ee=(t,e,r)=>(it(t,e,"read from private field"),r?r.call(t):e.get(t)),$e=(t,e,r)=>e.has(t)?Et("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),lt=(t,e,r,s)=>(it(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),Ot=(t,e,r)=>(it(t,e,"access private method"),r);import{b as At,e as nr,a as I,t as Y,c as be,d as Ct,n as Wt}from"../chunks/disclose-version.C3lF0O8T.js";import{k as _e,l as ut,a0 as Bt,y as or,N as Gt,a1 as ir,a2 as It,G as Fe,F as ct,I as De,J as lr,a3 as Yt,P as mt,a4 as cr,an as dr,Q as Mt,v as C,ao as bt,ap as vr,q as fr,X as Rt,aq as xt,ar as ur,M as hr,as as gr,at as qt,D as Vt,C as Xt,A as _r,au as Kt,z as pr,av as mr,K as br,E as xr,a6 as je,b as Ft,a7 as wr,e as te,w as yr,aw as kr,o as Sr,i as m,s as W,j as b,t as H,p as Me,f as le,h as Re,n as Er,ax as oe,g as a,ay as nt,az as P,ad as we}from"../chunks/runtime.DeUv2Q9K.js";import{s as ce,e as Ge}from"../chunks/render.Davh5aAP.js";import{p as u,l as Tr,i as F,c as ht,s as Be,b as Je}from"../chunks/props.YCNIMhhQ.js";import{i as Ue}from"../chunks/lifecycle.D6KXJkEv.js";import{o as wt}from"../chunks/index-client.DQJbxDHK.js";import{s as Le,d as Or}from"../chunks/misc.BBIFYleB.js";import{b as Qe,w as Jt,r as Qt}from"../chunks/paths.CAahNKct.js";import{s as ot,a as xe}from"../chunks/store.Be6RJOQs.js";const Ar=!0;let dt=null;function Cr(t,e){return e}function Ir(t,e,r,s){for(var n=[],o=e.length,l=0;l<o;l++)ur(e[l].e,n,!0);var v=o>0&&n.length===0&&r!==null;if(v){var c=r.parentNode;hr(c),c.append(r),s.clear(),Ae(t,e[0].prev,e[o-1].next)}gr(n,()=>{for(var y=0;y<o;y++){var S=e[y];v||(s.delete(S.k),Ae(t,S.prev,S.next)),qt(S.e,!v)}})}function Ut(t,e,r,s,n,o=null){var l=t,v={flags:e,items:new Map,first:null},c=(e&Kt)!==0;if(c){var y=t;l=_e?Fe(Xt(y)):y.appendChild(_r())}_e&&ut();var S=null;Bt(()=>{var i=r(),d=or(i)?i:i==null?[]:Gt(i),f=d.length;let _=!1;if(_e){var U=l.data===ir;U!==(f===0)&&(l=It(),Fe(l),ct(!1),_=!0)}if(_e){for(var T=null,M,h=0;h<f;h++){if(De.nodeType===8&&De.data===lr){l=De,_=!0,ct(!1);break}var g=d[h],O=s(g,h);M=Zt(De,v,T,null,g,O,h,n,e),v.items.set(O,M),T=M}f>0&&Fe(It())}_e||Mr(d,v,l,n,e,s),o!==null&&(f===0?S?Yt(S):S=mt(()=>o(l)):S!==null&&cr(S,()=>{S=null})),_&&ct(!0)}),_e&&(l=De)}function Mr(t,e,r,s,n,o){var R,L,X,re;var l=(n&mr)!==0,v=(n&(bt|xt))!==0,c=t.length,y=e.items,S=e.first,i=S,d,f=null,_,U=[],T=[],M,h,g,O;if(l)for(O=0;O<c;O+=1)M=t[O],h=o(M,O),g=y.get(h),g!==void 0&&((R=g.a)==null||R.measure(),(_??(_=new Set)).add(g));for(O=0;O<c;O+=1){if(M=t[O],h=o(M,O),g=y.get(h),g===void 0){var D=i?i.e.nodes_start:r;f=Zt(D,e,f,f===null?e.first:f.next,M,h,O,s,n),y.set(h,f),U=[],T=[],i=f.next;continue}if(v&&Rr(g,M,O,n),g.e.f&dr&&(Yt(g.e),l&&((L=g.a)==null||L.unfix(),(_??(_=new Set)).delete(g))),g!==i){if(d!==void 0&&d.has(g)){if(U.length<T.length){var G=T[0],N;f=G.prev;var K=U[0],Q=U[U.length-1];for(N=0;N<U.length;N+=1)Nt(U[N],G,r);for(N=0;N<T.length;N+=1)d.delete(T[N]);Ae(e,K.prev,Q.next),Ae(e,f,K),Ae(e,Q,G),i=G,f=Q,O-=1,U=[],T=[]}else d.delete(g),Nt(g,i,r),Ae(e,g.prev,g.next),Ae(e,g,f===null?e.first:f.next),Ae(e,f,g),f=g;continue}for(U=[],T=[];i!==null&&i.k!==h;)(d??(d=new Set)).add(i),T.push(i),i=i.next;if(i===null)continue;g=i}U.push(g),f=g,i=g.next}if(i!==null||d!==void 0){for(var $=d===void 0?[]:Gt(d);i!==null;)$.push(i),i=i.next;var q=$.length;if(q>0){var p=n&Kt&&c===0?r:null;if(l){for(O=0;O<q;O+=1)(X=$[O].a)==null||X.measure();for(O=0;O<q;O+=1)(re=$[O].a)==null||re.fix()}Ir(e,$,p,y)}}l&&pr(()=>{var Z;if(_!==void 0)for(g of _)(Z=g.a)==null||Z.apply()}),Mt.first=e.first&&e.first.e,Mt.last=f&&f.e}function Rr(t,e,r,s){s&bt&&C(t.v,e),s&xt?C(t.i,r):t.i=r}function Zt(t,e,r,s,n,o,l,v,c){var y=dt;try{var S=(c&bt)!==0,i=(c&vr)===0,d=S?i?fr(n):Rt(n):n,f=c&xt?Rt(l):l,_={i:f,v:d,k:o,a:null,e:null,prev:r,next:s};return dt=_,_.e=mt(()=>v(t,d,f),_e),_.e.prev=r&&r.e,_.e.next=s&&s.e,r===null?e.first=_:(r.next=_,r.e.next=_.e),s!==null&&(s.prev=_,s.e.prev=_.e),_}finally{dt=y}}function Nt(t,e,r){for(var s=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==s;){var l=Vt(o);n.before(o),o=l}}function Ae(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Ie(t,e,r,s,n){var o=t,l="",v;Bt(()=>{if(l===(l=e())){_e&&ut();return}v!==void 0&&(qt(v),v=void 0),l!==""&&(v=mt(()=>{if(_e){De.data;for(var c=ut(),y=c;c!==null&&(c.nodeType!==8||c.data!=="");)y=c,c=Vt(c);if(c===null)throw br(),xr;At(De,y),o=Fe(c);return}var S=l+"",i=nr(S);At(Xt(i),i.lastChild),o.before(i)}))})}function Ur(t,e,r){je(()=>{var s=Ft(()=>e(t,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var n=!1,o={};wr(()=>{var l=r();te(l),n&&yr(o,l)&&(o=l,s.update(l))}),n=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function ne(t,e,r,s){r=r==null?null:r+"";var n=t.__attributes??(t.__attributes={});_e&&(n[e]=t.getAttribute(e),e==="src"||e==="href"||e==="srcset")||n[e]!==(n[e]=r)&&(e==="loading"&&(t[kr]=r),r===null?t.removeAttribute(e):t.setAttribute(e,r))}function We(t,e,r){if(e in t){var s=t[e],n=typeof s=="boolean"&&r===""?!0:r;(typeof s!="object"||s!==n)&&(t[e]=n)}else ne(t,e,r)}function He(t,e){var r=t.__className,s=Nr(e);_e&&t.className===s?t.__className=s:(r!==s||_e&&t.className!==s)&&(e==null?t.removeAttribute("class"):t.className=s,t.__className=s)}function Nr(t){return t??""}function me(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function Pr(t,e,r,s,n){var o=t.__attributes??(t.__attributes={}),l=t.style,v="style-"+e;o[v]===r&&!n||(o[v]=r,r==null?l.removeProperty(e):l.setProperty(e,r,""))}function Dr(t,e,r,s=!0){s&&r();for(var n of e)t.addEventListener(n,r);Sr(()=>{for(var o of e)t.removeEventListener(o,r)})}var Ce,ze,Ye,at,jt;const st=class st{constructor(e){$e(this,at);$e(this,Ce,new WeakMap);$e(this,ze);$e(this,Ye);lt(this,Ye,e)}observe(e,r){var s=Ee(this,Ce).get(e)||new Set;return s.add(r),Ee(this,Ce).set(e,s),Ot(this,at,jt).call(this).observe(e,Ee(this,Ye)),()=>{var n=Ee(this,Ce).get(e);n.delete(r),n.size===0&&(Ee(this,Ce).delete(e),Ee(this,ze).unobserve(e))}}};Ce=new WeakMap,ze=new WeakMap,Ye=new WeakMap,at=new WeakSet,jt=function(){return Ee(this,ze)??lt(this,ze,new ResizeObserver(e=>{for(var r of e){st.entries.set(r.target,r);for(var s of Ee(this,Ce).get(r.target)||[])s(r)}}))},Tt(st,"entries",new WeakMap);let gt=st;var Lr=new gt({box:"border-box"});function Pt(t,e,r){var s=Lr.observe(t,()=>r(t[e]));je(()=>(Ft(()=>r(t[e])),s))}function zr(t,e){Dr(window,["resize"],()=>e(window[t]))}const er=Ar;async function Hr({params:t,fetch:e}){var s,n;let{goal:r}=t;if(!r&&er){const o=(n=(s=document==null?void 0:document.location)==null?void 0:s.pathname)==null?void 0:n.split("/");o.length>0&&(r=o[o.length-1])}console.log("yolo:",t,r);try{return{goal:r.replace(".html",""),doc:{}}}catch(o){return console.log(o),{goal:"goal00",doc:{content:[],config:{}}}}}const Fa=Object.freeze(Object.defineProperty({__proto__:null,load:Hr},Symbol.toStringTag,{value:"Module"}));function $r(t){return t()}function Wr(t){t.forEach($r)}const Ve=[],Dt=[],Ze=[],Lt=[],tr=Promise.resolve();let _t=!1;function Br(){_t||(_t=!0,tr.then(qr))}function Gr(){return Br(),tr}function Yr(t){Ze.push(t)}const vt=new Set;let Xe=0;function qr(){do{for(;Xe<Ve.length;){const t=Ve[Xe];Xe++,Vr(t.$$)}for(Ve.length=0,Xe=0;Dt.length;)Dt.pop()();for(let t=0;t<Ze.length;t+=1){const e=Ze[t];vt.has(e)||(vt.add(e),e())}Ze.length=0}while(Ve.length);for(;Lt.length;)Lt.pop()();_t=!1,vt.clear()}function Vr(t){if(t.fragment!==null){t.update(),Wr(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Yr)}}const Xr={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},Oe=(t,e)=>new CustomEvent(t,{detail:e});function Kr(t,e={}){const{root:r,rootMargin:s,threshold:n,unobserveOnEnter:o}=Object.assign(Object.assign({},Xr),e);let l={x:void 0,y:void 0},v={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const c=new IntersectionObserver((y,S)=>{y.forEach(i=>{l.y>i.boundingClientRect.y?v.vertical="up":v.vertical="down",l.x>i.boundingClientRect.x?v.horizontal="left":v.horizontal="right",l={y:i.boundingClientRect.y,x:i.boundingClientRect.x};const d={inView:i.isIntersecting,entry:i,scrollDirection:v,node:t,observer:S};t.dispatchEvent(Oe("inview_change",d)),t.dispatchEvent(Oe("change",d)),i.isIntersecting?(t.dispatchEvent(Oe("inview_enter",d)),t.dispatchEvent(Oe("enter",d)),o&&S.unobserve(t)):(t.dispatchEvent(Oe("inview_leave",d)),t.dispatchEvent(Oe("leave",d)))})},{root:r,rootMargin:s,threshold:n});return Gr().then(()=>{t.dispatchEvent(Oe("inview_init",{observer:c,node:t})),t.dispatchEvent(Oe("init",{observer:c,node:t}))}),c.observe(t),{destroy(){c.unobserve(t)}}}}const Fr=(t,e,r)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var Jr=Y('<div class="loading svelte-5a8u5a"><img alt="Loading" class="svelte-5a8u5a"> <div style="display: flex"><div style="width: 75%"></div> <div style="width: 25%"><!></div></div></div>');function et(t,e){var c;let r=u(e,"minHeight",8,!0);var s=Jr(),n=m(s);ne(n,"src",`${Qe}/assets/images/tail-spin.svg`);var o=W(n,2),l=W(m(o),2),v=m(l);Le(v,(c=e.$$slots)==null?void 0:c.scenes,{activeScene:`${{id:"",index:0}}}`}),b(l),b(o),b(s),H(()=>Pr(s,"min-height",r()?"60vh":"none")),I(t,s)}function ft(t,e){const r=Tr(e,["children","$$slots","$$events","$$legacy"]);Me(e,!1);let s=u(e,"thiz",8),n=u(e,"onScreen",8,!0),o=u(e,"path",8),l=u(e,"data",8),v=Array.isArray(s())?et:s();wt(async()=>{Array.isArray(s())&&(v=(await Fr(Object.assign({}),`./${s()[0]}/${s()[1]}.svelte`,3)).default)}),Ue();var c=be(),y=le(c);F(y,()=>{var S;return n()&&(!o()||((S=l())==null?void 0:S.length))},S=>{var i=be(),d=le(i);ht(d,()=>v,(f,_)=>{_(f,Be(()=>r))}),I(S,i)},S=>{var i=be(),d=le(i);ht(d,()=>et,(f,_)=>{_(f,{})}),I(S,i)}),I(t,c),Re()}const zt=Math.max(1,Math.floor(Math.random()*17)),yt=Jt({string:"goal"+String(zt).padStart(2,"0"),number:zt}),kt=Jt(!1);var Qr=Y('<div class="content svelte-glbrcz"><!> <!></div>'),Zr=Y('<div class="scene svelte-glbrcz"><!></div>');function jr(t,e){Me(e,!1);const r=ot(),s=()=>xe(kt,"$isScreenshotting",r),n=()=>xe(yt,"$activeGoal",r);let o=u(e,"text",8,""),l=u(e,"activeScene",8),v=u(e,"hidden",8,!1);Ue();var c=Zr(),y=m(c);F(y,()=>!v(),S=>{var i=Qr(),d=m(i);Ie(d,o);var f=W(d,2);Le(f,Or(e),{get activeScene(){return l()}}),b(i),H(()=>{ne(i,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),me(i,"invisible",s())}),I(S,i)}),b(c),I(t,c),Re()}var ea=Y("<div><!></div>");function ta(t,e){let r=u(e,"text",8),s=u(e,"width",8,"");var n=ea(),o=m(n);Ie(o,r),b(n),H(()=>He(n,`text-block ${s()??""} layout-main svelte-1rv19f5`)),I(t,n)}var ra=Y('<div class="unknown-component border layout-main svelte-10tfi0">Unknown component <em> </em></div>');function aa(t,e){let r=u(e,"type",8);var s=ra(),n=W(m(s)),o=m(n);b(n),b(s),H(()=>ce(o,r())),I(t,s)}const St=Qt(t=>(console.log(t),t)),sa="en",na="#2b98c6",oa="#e56666";var ia=Y('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),la=Y('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),ca=Y('<span class="pref svelte-c7oa2u"> </span> <!> <br>',1),da=Y('<span class="pref svelte-c7oa2u"> </span> <!>',1),va=Y('<div><div class="logo-container svelte-c7oa2u"><img class="wb-logo svelte-c7oa2u" title="logo" alt="logo"> <!></div> <p class="source svelte-c7oa2u"><!> <!></p></div>');function fa(t,e){Me(e,!1);const r=ot(),s=()=>xe(sa,"$locale",r),n=()=>xe(St,"$_",r);let o=u(e,"note",8),l=u(e,"source",8),v=u(e,"theme",8);Ue();var c=va(),y=m(c),S=m(y);ne(S,"src",`${Qe??""}/assets/external/loop-header-footer/img/logo-wb.svg`);var i=W(S,2);F(i,()=>v()==="dark",U=>{var T=ia();ne(T,"src",`${Qe??""}/assets/external/loop-header-footer/img/logo-atlas-dark.svg`),I(U,T)},U=>{var T=la();H(()=>ne(T,"src",`${Qe??""}/assets/external/loop-header-footer/img/logo-atlas-${s()??""}.svg`)),I(U,T)}),b(y);var d=W(y,2),f=m(d);F(f,o,U=>{var T=ca(),M=le(T),h=m(M);H(()=>ce(h,n()("note",{default:"Note:"}))),b(M);var g=W(M,2);Ie(g,o),Er(2),I(U,T)});var _=W(f,2);F(_,l,U=>{var T=da(),M=le(T),h=m(M);H(()=>ce(h,n()("source",{default:"Source:"}))),b(M);var g=W(M,2);Ie(g,l),I(U,T)}),b(d),b(c),H(()=>He(c,`${`screenshot-footer-container ${v()}`??""} svelte-c7oa2u`)),I(t,c),Re()}const ua=Qt(!1);var ha=Y('<h1 class="svelte-1ob8ko5"> </h1>'),ga=Y('<h2 class="svelte-1ob8ko5"><!></h2>'),_a=Y('<div class="title-container svelte-1ob8ko5"><!> <!></div>'),pa=Y(`<!> <svg width="0px" height="0px"><defs><pattern id="diagonalHatch" width="100px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="50" y2="50" stroke-width="10" style="stroke: var(--color-grey-400);"></line></pattern><pattern id="tightHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path class="visible" d="M-1,1 l2,-2
         M0,4 l4,-4
         M3,5 l2,-2" style="stroke: var(--color-grey-800);"></path></pattern><marker id="arrowhead_pos" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead_neg" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead-large" markerWidth="5" markerHeight="5" refX="2.5" refY="2.5" orient="auto"><polygon points="0 0, 5 2.5, 0 5"></polygon></marker></defs></svg>`,1),ma=Y('<span class="note svelte-1ob8ko5"> <!></span>'),ba=Y('<a class="download-icon svelte-1ob8ko5"><span aria-hidden="true"> </span></a>'),xa=Y('<span class="download svelte-1ob8ko5"><a class="download-icon svelte-1ob8ko5" target="_blank" rel="noreferrer"><span aria-hidden="true"> </span></a></span>'),wa=Y('<span class="share svelte-1ob8ko5"><!></span>'),ya=Y('<p class="toast svelte-1ob8ko5" aria-hidden="true"><!></p>'),ka=Y("<p> <!></p>"),Sa=Y('<div class="source svelte-1ob8ko5"><!> <span class="download-share svelte-1ob8ko5"><span class="download svelte-1ob8ko5"><!></span> <!> <!> <span class="share svelte-1ob8ko5"><a alt="Copy link to clipboard"><span aria-hidden="true"> </span></a></span></span> <!></div> <!>',1),Ea=Y('<div><div class="internal-container svelte-1ob8ko5"><!> <div class="vis svelte-1ob8ko5" role="img"><!> <!></div> <!></div></div>');function pt(t,e){Me(e,!1);const r=ot(),s=()=>xe(kt,"$isScreenshotting",r),n=()=>xe(yt,"$activeGoal",r),o=()=>xe(St,"$_",r),l=()=>xe(ua,"$isMobile",r),v=P();let c=u(e,"title",8),y=u(e,"subtitle",8),S=u(e,"source",8),i=u(e,"note",8),d=u(e,"visdescription",8),f=u(e,"size",8,"content"),_=u(e,"hide_download",8,!1),U=u(e,"inScroller",8,!1),T=u(e,"theme",8),M=u(e,"dataDownloadUrl",8),h=u(e,"shareUrl",8),g=u(e,"shareImg",8),O=u(e,"shareTitle",8),D=u(e,"graphic",8),G=P(),N=P(),K=P(0),Q=P(0),$=P(),q=P(!1),p=null,R=P();const L=1700;function X(){navigator.permissions.query({name:"clipboard-write"}).then(z=>{(z.state==="granted"||z.state==="prompt")&&(navigator.clipboard.writeText(h()),C(q,!0),clearTimeout(p),setTimeout(()=>{C(q,!1),C($,null)},L))})}function re(z){if(x,a(R)){const V=a(R).getBoundingClientRect();C($,{x:V.x,y:V.y})}}function Z(){a(q)||C($,null)}oe(()=>{},()=>{C(v,!0)}),oe(()=>a(G),()=>{C(K,a(G))}),oe(()=>a(N),()=>{C(Q,a(N))}),nt(),Ue();var w=Ea(),E=m(w),A=m(E);F(A,()=>c()||y(),z=>{var V=_a(),ae=m(V);F(ae,c,ie=>{var j=ha(),ve=m(j);b(j),H(()=>ce(ve,c())),I(ie,j)});var he=W(ae,2);F(he,y,ie=>{var j=ga(),ve=m(j);Ie(ve,y),b(j),I(ie,j)}),b(V),I(z,V)});var k=W(A,2);H(()=>ne(k,"aria-label",d()?d():o()("alt.chart")+" "+y()));var J=m(k);F(J,()=>!er,z=>{et(z,{})});var ee=W(J,2);F(ee,()=>a(K)!==void 0&&a(Q)!==void 0,z=>{var Te;var V=pa(),ae=le(V);Le(ae,(Te=e.$$slots)==null?void 0:Te.graphic,{get parentWidth(){return a(K)},get parentHeight(){return a(Q)}});var he=W(ae,2),ie=m(he),j=W(m(ie),2),ve=m(j);ne(ve,"fill",na),b(j);var ke=W(j),Ne=m(ke);ne(Ne,"fill",oa),b(ke);var Se=W(ke),pe=m(Se);ne(pe,"stroke-width",0),b(Se),b(ie),b(he),I(z,V)}),b(k);var de=W(k,2);F(de,()=>!s(),z=>{var V=Sa(),ae=le(V),he=m(ae);F(he,i,fe=>{var B=ma(),se=m(B);H(()=>ce(se,`${o()("note",{default:"Note:"})??""} `));var ue=W(se);Ie(ue,i),b(B),I(fe,B)});var ie=W(he,2),j=m(ie),ve=m(j);F(ve,()=>M()&&!_(),fe=>{var B=ba();H(()=>ne(B,"aria-label",o()("alt.download.data")));var se=m(B),ue=m(se);H(()=>ce(ue,o()("data.download"))),b(se),b(B),H(()=>{ne(B,"data-customlink",`download:vis-data-${c()}`),ne(B,"href",M()),me(se,"hidden",!M()&&!a(v))}),I(fe,B)}),b(j);var ke=W(j,2);F(ke,()=>a(v),fe=>{var B=xa(),se=m(B);H(()=>ne(se,"aria-label",o()("alt.download.image")));var ue=m(se),Pe=m(ue);H(()=>ce(Pe,o()("image.download"))),b(ue),b(se),b(B),H(()=>{me(B,"borderless",!i()&&!M()||i()&&!M()&&l()),ne(se,"href",g()),me(ue,"hidden",!M()&&!a(v))}),I(fe,B)});var Ne=W(ke,2);F(Ne,()=>h()&&!1,fe=>{var B=wa(),se=m(B);ShareIcons(se,{get shareUrl(){return h()},get title(){return O()}}),b(B),H(()=>me(B,"borderless",!i()&&!M()&&!a(v))),I(fe,B)});var Se=W(Ne,2),pe=m(Se);Je(pe,fe=>C(R,fe),()=>a(R));var Te=m(pe),qe=m(Te);H(()=>ce(qe,o()("copy.link",{default:"Copy Link"}))),b(Te),b(pe),b(Se),b(ie);var ge=W(ie,2);F(ge,()=>a($)||a(q),fe=>{var B=ya(),se=m(B);F(se,()=>a(q),ue=>{var Pe=Ct();H(()=>ce(Pe,o()("link.copied",{default:"Link copied to clipboard"}))),I(ue,Pe)},ue=>{var Pe=Ct();H(()=>ce(Pe,o()("click.copy",{default:"Click to copy link"}))),I(ue,Pe)}),b(B),H(()=>me(B,"disappearing",a(q))),I(fe,B)}),b(ae);var rr=W(ae,2);F(rr,S,fe=>{var B=ka();He(B,"source-text svelte-1ob8ko5");var se=m(B);H(()=>ce(se,`${o()("source",{default:"Source:"})??""} `));var ue=W(se);Ie(ue,S),b(B),I(fe,B)}),H(()=>{me(j,"borderless",!i()||l()),me(Se,"borderless",!i()&&(!M()||_())&&!a(v))}),Ge("click",pe,X),Ge("mouseover",pe,re),Ge("mouseout",pe,Z),I(z,V)},z=>{fa(z,{get note(){return i()},get source(){return S()},get theme(){return T()}})}),b(E),b(w),H(()=>{He(w,`${`${D()} vis-container ${U()?"":f()}`??""} svelte-1ob8ko5`),ne(w,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),me(w,"in-scroller",U()===!0),me(w,"is-screenshotting",s())}),Pt(k,"clientWidth",z=>C(G,z)),Pt(k,"clientHeight",z=>C(N,z)),I(t,w),Re()}var Ta=Y("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);const ye=[];let tt;if(typeof window<"u"){const t=()=>ye.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((r,s)=>{r.forEach(n=>{const o=t.get(n.target),l=ye.indexOf(o);n.isIntersecting?l===-1&&ye.push(o):(o(),l!==-1&&ye.splice(l,1))})},{rootMargin:"0px 0px"});tt={add:({outer:r,update:s})=>{const{top:n,bottom:o}=r.getBoundingClientRect();n<window.innerHeight&&o>0&&ye.push(s),t.set(r,s),e.observe(r)},remove:({outer:r,update:s})=>{const n=ye.indexOf(s);n!==-1&&ye.splice(n,1),t.delete(r),e.unobserve(r)}}}else tt={add:({update:t})=>{ye.push(t)},remove:({update:t})=>{const e=ye.indexOf(t);e!==-1&&ye.splice(e,1)}};function Oa(t,e){var E,A;Me(e,!1);const r=P(),s=P(),n=P(),o=P(),l=P();let v=u(e,"top",8,0),c=u(e,"bottom",8,1),y=u(e,"threshold",8,.5),S=u(e,"query",8,"section"),i=u(e,"parallax",8,!1),d=u(e,"expected",8),f=u(e,"index",12,0),_=u(e,"count",12,0),U=u(e,"offset",12,0),T=u(e,"progress",12,0),M=u(e,"visible",12,!1),h=P(),g=P(),O=P(),D,G,N=P(0),K=P(),Q=P(0),$=P(1);function q(){var k;_()||(G=(k=a(g))==null?void 0:k.querySelectorAll(S()),G&&G.length===d()?(_(G.length),p()):setTimeout(q,1250))}wt(()=>{q();const k={outer:a(h),update:p};return tt.add(k),()=>tt.remove(k)});function p(){if(!a(g))return;const k=a(h).getBoundingClientRect();D=k.left,C($,k.right-D);const J=a(g).getBoundingClientRect(),ee=a(O).getBoundingClientRect();M(J.top<a(N)&&J.bottom>0);const de=J.bottom-J.top,z=ee.bottom-ee.top,V=a(s)-a(r);T((a(r)-J.top)/(de-V)),T()<=0?(C(Q,0),C(K,!1)):T()>=1?(C(Q,i()?de-z:de-V),C(K,!1)):(C(Q,i()?Math.round(a(r)-T()*(z-V)):a(r)),C(K,!0));for(let ae=0;ae<G.length;(ae+=1)-1){const he=G[ae],{top:ie}=he.getBoundingClientRect(),j=G[ae+1],ve=j?j.getBoundingClientRect().top:J.bottom;if(U((a(n)-ie)/(ve-ie)),ve>=a(n)){f(ae);break}}}oe(()=>(te(v()),a(N)),()=>{C(r,Math.round(v()*a(N)))}),oe(()=>(te(c()),a(N)),()=>{C(s,Math.round(c()*a(N)))}),oe(()=>(te(y()),a(N)),()=>{C(n,Math.round(y()*a(N)))}),oe(()=>(te(v()),te(c()),te(y()),te(i())),()=>{v(),c(),y(),i(),p()}),oe(()=>(a(K),a(Q)),()=>{C(o,`
		position: ${a(K)?"fixed":"absolute"};
    /* override with sticky if supported: */
    position: sticky;
		top: 0;
		transform: translate(0, ${typeof CSS<"u"&&CSS.supports&&CSS.supports("position","sticky")?0:a(Q)}px);
		z-index: 1;
	`)}),oe(()=>(a(K),a($)),()=>{C(l,a(K)?`width:${a($)}px;`:"")}),nt(),Ue();var R=Ta();Je(R,k=>C(h,k),()=>a(h)),We(R,"class","svelte-xdbafy");var L=m(R);We(L,"class","background-container svelte-xdbafy");var X=m(L);Je(X,k=>C(O,k),()=>a(O)),We(X,"class","svelte-xdbafy");var re=m(X);Le(re,(E=e.$$slots)==null?void 0:E.background,{}),b(X),b(L);var Z=W(L,2);Je(Z,k=>C(g,k),()=>a(g)),We(Z,"class","svelte-xdbafy");var w=m(Z);Le(w,(A=e.$$slots)==null?void 0:A.foreground,{}),b(Z),b(R),H(()=>We(L,"style",`${a(o)??""}${a(l)??""}`)),zr("innerHeight",k=>C(N,k)),I(t,R),Re()}var Aa=Y('<div class="left svelte-99ar8n" slot="background"><!></div>'),Ca=Y('<div class="right svelte-99ar8n" slot="foreground"><div class="right-inner svelte-99ar8n"><!></div></div>'),Ia=Y("<p> <!></p>"),Ma=Y('<div><div class="scroller-container svelte-99ar8n"><!> <!></div></div>');function Ht(t,e){Me(e,!1);const r=ot(),s=()=>xe(yt,"$activeGoal",r),n=()=>xe(kt,"$isScreenshotting",r),o=()=>xe(St,"$_",r),l=P(),v=P();let c=u(e,"data",8),y=u(e,"title",8),S=u(e,"subtitle",8),i=u(e,"source",8),d=u(e,"note",8),f=u(e,"graphic",8),_=u(e,"visdescription",8),U=u(e,"theme",8,"light"),T=u(e,"visSize",8,"default"),M=u(e,"publish_progress",8,!1),h=u(e,"scenes",24,()=>[]),g=u(e,"dataDownloadUrl",8);u(e,"shareUrl",8),u(e,"shareImg",8);let O=u(e,"shareTitle",8),D=P(0),G=P(y()),N=P(S()),K=P(i()),Q=P(d()),$=P(0),q=P(0),p=P();oe(()=>(te(M()),a($),a(D),te(h()),a(q)),()=>{var w,E;M()&&C(p,{progress:a($),index:a(D),id:(E=(w=h())==null?void 0:w[a(D)])==null?void 0:E.id,offset:a(q)})}),oe(()=>(te(M()),a(D),te(h())),()=>{var w,E;M()||C(p,{index:a(D),id:(E=(w=h())==null?void 0:w[a(D)])==null?void 0:E.id})}),oe(()=>(te(h()),a(p)),()=>{var w;C(l,(w=h()[a(p).index])==null?void 0:w.shareUrl)}),oe(()=>(te(h()),a(p)),()=>{var w;C(v,(w=h()[a(p).index])==null?void 0:w.shareImg)}),oe(()=>(a(D),te(h()),te(y()),te(S()),te(i()),te(d())),()=>{var J,ee,de,z,V,ae,he,ie,j,ve,ke,Ne,Se,pe,Te,qe;let w,E,A,k;for(let ge=a(D);ge>=0;ge+=-1)!w&&((ee=(J=h())==null?void 0:J[ge])!=null&&ee.title)&&(w=(z=(de=h())==null?void 0:de[ge])==null?void 0:z.title),!E&&((ae=(V=h())==null?void 0:V[ge])!=null&&ae.subtitle)&&(E=(ie=(he=h())==null?void 0:he[ge])==null?void 0:ie.subtitle),!A&&((ve=(j=h())==null?void 0:j[ge])!=null&&ve.source)&&(A=(Ne=(ke=h())==null?void 0:ke[ge])==null?void 0:Ne.source),!k&&((pe=(Se=h())==null?void 0:Se[ge])!=null&&pe.note)&&(k=(qe=(Te=h())==null?void 0:Te[ge])==null?void 0:qe.note);w||(w=y()),E||(E=S()),A||(A=i()),k||(k=d()),C(G,w),C(N,E),C(K,A),C(Q,k)}),nt(),Ue();var R=Ma(),L=m(R),X=m(L),re=we(()=>{var w;return(w=h())==null?void 0:w.length});Oa(X,{get index(){return a(D)},set index(w){C(D,w)},query:".scene",get expected(){return a(re)},get progress(){return a($)},set progress(w){C($,w)},get offset(){return a(q)},set offset(w){C(q,w)},$$slots:{background:(w,E)=>{var A=Aa(),k=m(A);pt(k,{get title(){return a(G)},get subtitle(){return a(N)},get source(){return a(K)},get note(){return a(Q)},get visdescription(){return _()},get dataDownloadUrl(){return g()},get shareUrl(){return a(l)},get shareImg(){return a(v)},get shareTitle(){return O()},get graphic(){return f()},inScroller:!0,get theme(){return U()},$$slots:{graphic:(J,ee)=>{var V;var de=be(),z=le(de);Le(z,(V=e.$$slots)==null?void 0:V.graphic,{get activeScene(){return a(p)},get data(){return c()}}),I(J,de)}}}),b(A),H(()=>me(A,"screenshot",n())),I(w,A)},foreground:(w,E)=>{var ee;var A=Ca(),k=m(A),J=m(k);Le(J,(ee=e.$$slots)==null?void 0:ee.scenes,{get activeScene(){return a(p)}}),b(k),b(A),I(w,A)}},$$legacy:!0});var Z=W(X,2);F(Z,i,w=>{var E=Ia();He(E,"source-text svelte-99ar8n");var A=m(E);H(()=>ce(A,`${o()("source",{default:"Source:"})??""} `));var k=W(A);Ie(k,i),b(E),I(w,E)}),b(L),b(R),H(()=>{He(R,`${"side-by-side layout-full "+U()+" "+T()} svelte-99ar8n`),ne(R,"style",`--goal-color : var(--color-un-sdg${s().number??""})`)}),I(t,R),Re()}var Ra=Wt('<text x="10" y="30"> </text>'),Ua=Wt('<svg class="simple-vis svelte-1ngoytk"><!><text x="10" y="60"> </text></svg>');function Na(t,e){Me(e,!1);let r=u(e,"data",8),s=u(e,"activeScene",8);Ue();var n=Ua(),o=m(n);F(o,r,c=>{var y=Ra(),S=m(y);b(y),H(()=>{var i;return ce(S,(i=r())==null?void 0:i.length)}),I(c,y)});var l=W(o),v=m(l);b(l),b(n),H(()=>{var c,y;return ce(v,`scene: #${((c=s())==null?void 0:c.index)??""} ${((y=s())==null?void 0:y.id)??""}`)}),I(t,n),Re()}const $t={wide_scroller:Ht,scroller:Ht,visContainer:pt,vis:pt,text:ta,scene:jr,simplevis:Na},Ke=(t,e=!0)=>e?$t.hasOwnProperty(t)?$t[t]:aa:et;let Pa=0;function rt(t,e=!1,r){const s="translationPrefix",n="path",o="data",l="dataDownloadUrl",v="shareUrl",c="shareImg",y="anchorKey";let S={};const i=t[s],d=t[n];return d&&(t[o]=S[d]??[],t[l]=base+"/"+d.replace(".json",".csv")),!i&&!e?t:Object.keys(t).reduce((f,_)=>{var M,h;if(typeof t[_]=="object")return Array.isArray(t[_])?f[_]=t[_].map(g=>rt(g,e,r)):f[_]=rt(t[_],e,r),f;const U=e?_:`${i}.${_}`;let T=""+r(U);if(U.endsWith(s)&&((t==null?void 0:t.type)==="vis"||(M=t==null?void 0:t.type)!=null&&M.startsWith("scene"))){const{goalNumberPrefix:g,contentId:O}=translationKeyToId(U,!1);t[v]=`${shareUrl.origin+shareUrl.pathname}?lang=${$locale}#${O}`,t[c]=`https://${variables.shareHostname}/${$locale}/${g}/${O}.png`,t[y]=O}if(!e&&T===U)f[_]=t[_];else{const g=/(\[)|(\])/gim;if(e)if(t[_]&&typeof t[_]=="string")T=t[_];else return f[_]=t[_],f;const O=T.split(g).filter(p=>p&&p!=='""');let D=[];const G={type:"text",value:[]};let N=G,K=!1,Q=!0;D.push(N);for(let p=0;p<O.length;p++){let R=O[p];if(R.startsWith("["))K=!0;else if(R.startsWith("]")&&D.length>1)Q?(D.pop(),N=D[D.length-1]):(Q=!0,N.value.push("]"));else{if(K){const L=(h=R.match(/(\w+): /))==null?void 0:h[1];if(L){Q=!0;let X={type:L,value:[]};N.value.push(X),N=X,D.push(X),R=R.replace(`${L}: `,"")}else R="["+R,Q=!1;K=!1}R.length>0&&N.value.push(R)}}N=G;let $=[];const q=p=>{var X;if(typeof p=="string")return p;let R=!1,L="";if(Array.isArray(p.value)){if(p.type==="link"){let[E,...A]=p.value[0].trim().split(" ");return A=A.join(" "),p.value.length>1&&(A+=(X=p.value.slice(1))==null?void 0:X.join("")),`<a href='${E}' title='${A}' target='blank'>${A}</a>`}const re=`${p.type}_`+new Date().getTime()+Pa++;let Z,w=!1;if(p.type==="emphasis")L+='<span class="emphasis">';else if(p.type==="footnote")L+=`<div class="summary"> <div class="bg" aria-label="footnote"><label class="footnote" aria-hidden="true" for='${re}'>i</label></div><input type="checkbox" role="switch" aria-label="read footnote" id='${re}'/><div class="details">`;else if(p.type==="chapterlink"){const[E,...A]=p.value[0].trim().split(" ");L+=`<a href="${generateChapterURL(E)}">${A.join(" ")}</a>`,$.push(+E),R=!0}else if(p.type==="chapterurl"){const[E,...A]=p.value[0].trim().split(" ");L+=shareUrl.href,$.push(+E),R=!0}else if(p.type==="target"||p.type==="goal"){const[E,...A]=p.value[0].trim().split(" "),[k,...J]=E.split(".");let ee;p.type==="target"?(ee=r("base.sdg")+" "+r("base.target")+" ",ee==="base.sdg base.target "&&(ee="SDG Target ")):(ee=r("base.sdg")+" ",ee==="base.sdg "&&(ee="SDG ")),$.push(k),L+=`<div class="summary targ" style="--sdg-color: var(--color-un-sdg${k}); --sdg-text-color: var(--color-un-text-sdg${k})"
              onmouseenter="window.sdga2023_highlightGoal(${k})"
              onmouseleave="window.sdga2023_lowlightGoal(${k})"
              ><input type="checkbox" id='${re}' aria-hidden="true" /><label class="unstyled" for='${re}'><p class="goal-target">${ee}<span class="goal">${k}${J.length>0?`.</span><span class="target">${J.join(".")}</span>`:"</span>"}</p></label><p class="details goal-details"><span class="target">${r("target."+E)}</span></p></div>`,R=!0}else if(p.type==="reference"){const E=JSON.stringify(p.value).replace(/[\s\,\"]/g,"");let A=references.map(k=>k==null?void 0:k.text).indexOf(E);A===-1?(Z={text:E,index:references.length,formatted:""},w=!0):Z=references[A],L+=`<div class="summary reference ${Z.index+1>9?"wide":""}"><div class="bg" aria-label="reference ${Z.index+1}"><label for='${re}' aria-hidden="true">${Z.index+1}</label></div><input type="checkbox" role="switch" aria-label="read reference" id='${re}'/><div class="details">`}R||p.value.forEach(E=>{const A=q(E);L+=A,w&&(Z.formatted+=A)}),p.type==="emphasis"?L+="</span>":(p.type==="footnote"||p.type==="reference")&&(L+="</div></div>"),w&&(references=[...references,Z])}return L};T=q(N),f[_]=T,$.length>0&&(f.highlights?f.highlights=[...f.highlights,...$]:f.highlights=$)}return f},{})}function Da(t,e=!1){let[r,...s]=t.split(".");return e&&t.includes("scenes")?s=s.slice(0,s.length-3).join("").replace(/\#/g,"").replace("content","c").replace("translationPrefix",""):s=s.join("").replace(/\#/g,"").replace("content","c").replace("scenes","s").replace("translationPrefix",""),{goalNumberPrefix:r,contentId:s}}var La=Y("<a></a>"),za=Y('<!> <div class="observer navigation-highlights"></div> <!>',1);function Ja(t,e){Me(e,!1);const r=P(),s=P();let n=u(e,"data",12),o=P();wt(()=>{var f;const d=async()=>{var h,g,O,D;const U=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(h=n())==null?void 0:h.goal}/${(g=n())==null?void 0:g.goal}.json`)).json();console.log(U),n({...n(),...U});const M=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(O=n())==null?void 0:O.goal}/${(D=n())==null?void 0:D.goal}.en.i18n.json`)).json();C(o,M)};n()&&((f=n())!=null&&f.goal)&&!n().content&&d()});const l=d=>a(o).hasOwnProperty(d)?a(o)[d]:d;let v=P([]);function c(d){a(v).indexOf(d)===-1&&C(v,[...a(v),d])}function y(d){}oe(()=>(te(n()),a(o),rt),()=>{var d;C(r,(d=n())!=null&&d.content&&a(o)?rt(n(),!1,l):null)}),oe(()=>a(r),()=>{console.log(a(r))}),oe(()=>te(n()),()=>{var d;C(s,(d=n())==null?void 0:d.goal)}),oe(()=>{},()=>{C(v,[])}),nt(),Ue();var S=be(),i=le(S);F(i,()=>a(r),d=>{var f=be(),_=le(f);Ut(_,1,()=>a(r).content,Cr,(U,T,M)=>{var h=be(),g=le(h);F(g,()=>Array.isArray(a(T)),O=>{var D=be();const G=we(()=>a(T).find(K=>K.hasOwnProperty("vis")).vis);var N=le(D);ht(N,()=>Ke("wide_scroller",!0),(K,Q)=>{Q(K,Be(()=>a(T),{get graphic(){return a(G)},get shareTitle(){return a(s)},children:($,q)=>{},$$slots:{default:!0,graphic:($,q)=>{const p=we(()=>q.activeScene),R=we(()=>q.parentWidth),L=we(()=>q.parentHeight);var X=be(),re=le(X);F(re,()=>a(G),Z=>{var w=we(()=>Ke(a(G)));ft(Z,Be({get thiz(){return a(w)}},()=>a(T),{get type(){return a(G)},get activeScene(){return a(p)},get parentWidth(){return a(R)},get parentHeight(){return a(L)}}))}),I($,X)},scenes:($,q)=>{var p=be();const R=we(()=>Object.values(a(T).filter(X=>X.hasOwnProperty("scene"))));var L=le(p);F(L,()=>a(R),X=>{var re=be(),Z=le(re);Ut(Z,3,()=>a(R),(w,E)=>{var A;return((A=n())==null?void 0:A.goal)+M+"-"+E},(w,E)=>{var A=za(),k=le(A);F(k,()=>{var z;return(z=a(r))==null?void 0:z.translationPrefix},z=>{var V=La();H(()=>ne(V,"name",Da(a(E).translationPrefix).contentId)),I(z,V)});var J=W(k,2),ee=W(J,2),de=we(()=>Ke(a(E).type));ft(ee,Be({get thiz(){return a(de)}},()=>a(E),{get text(){return a(E).scene},get type(){return a(E).type}})),Ur(J,(z,V)=>Kr(z,V),()=>({rootMargin:"50% 0px 0% 0px"})),je(()=>Ge("enter",J,()=>{c(M)})),je(()=>Ge("leave",J,()=>{a(E)})),I(w,A)}),I(X,re)}),I($,p)}}}))}),I(O,D)},O=>{var D=we(()=>Ke(a(T).type,!0)),G=we(()=>!0);ft(O,Be({get thiz(){return a(D)},get onScreen(){return a(G)}},()=>a(T)))}),I(U,h)}),I(d,f)}),I(t,S),Re()}export{Ja as component,Fa as universal};
