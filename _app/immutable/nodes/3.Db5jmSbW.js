import{b as M,d as L,a as P,t as Z}from"../chunks/disclose-version.jPDmB1xw.js";import{a8 as G,C as S,p as Y,A as H,a9 as V,q as D,l as W,v as q,m as z,o as J,k as K,B as Q,aa as F,ab as $,M as x,F as tt,E as nt,g as A,ac as rt,e as et,K as ot}from"../chunks/runtime.Bn3sFRHl.js";import{i as at}from"../chunks/lifecycle.BpiA623-.js";import{p as it,o as st}from"../chunks/index-client.CJznPkNK.js";const ct=!0;function ut(t,e,r,o,i){var c=t,p="",l;G(()=>{if(p===(p=e())){S&&Y();return}l!==void 0&&(V(l),l=void 0),p!==""&&(l=H(()=>{if(S){D.data;for(var h=Y(),m=h;h!==null&&(h.nodeType!==8||h.data!=="");)m=h,h=W(h);if(h===null)throw q(),z;M(D,m),c=J(h);return}var d=p+"",n=L(d);M(K(n),n.lastChild),c.before(n)}))})}const ft=ct;async function lt({params:t,fetch:e}){var o,i;let{goal:r}=t;if(!r&&ft){const c=(i=(o=document==null?void 0:document.location)==null?void 0:o.pathname)==null?void 0:i.split("/");c.length>0&&(r=c[c.length-1])}console.log("yolo:",t,r);try{return{goal:r.replace(".html",""),doc:{}}}catch(c){return console.log(c),{goal:"goal00",doc:{content:[],config:{}}}}}const wt=Object.freeze(Object.defineProperty({__proto__:null,load:lt},Symbol.toStringTag,{value:"Module"}));var I={},E={},O=34,b=10,U=13;function X(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function ht(t,e){var r=X(t);return function(o,i){return e(r(o),i,t)}}function B(t){var e=Object.create(null),r=[];return t.forEach(function(o){for(var i in o)i in e||r.push(e[i]=i)}),r}function f(t,e){var r=t+"",o=r.length;return o<e?new Array(e-o+1).join(0)+r:r}function pt(t){return t<0?"-"+f(-t,6):t>9999?"+"+f(t,6):f(t,4)}function dt(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":pt(t.getUTCFullYear())+"-"+f(t.getUTCMonth()+1,2)+"-"+f(t.getUTCDate(),2)+(i?"T"+f(e,2)+":"+f(r,2)+":"+f(o,2)+"."+f(i,3)+"Z":o?"T"+f(e,2)+":"+f(r,2)+":"+f(o,2)+"Z":r||e?"T"+f(e,2)+":"+f(r,2)+"Z":"")}function gt(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function o(n,a){var g,u,s=i(n,function(_,v){if(g)return g(_,v-1);u=_,g=a?ht(_,a):X(_)});return s.columns=u||[],s}function i(n,a){var g=[],u=n.length,s=0,_=0,v,j=u<=0,y=!1;n.charCodeAt(u-1)===b&&--u,n.charCodeAt(u-1)===U&&--u;function N(){if(j)return E;if(y)return y=!1,I;var T,R=s,C;if(n.charCodeAt(R)===O){for(;s++<u&&n.charCodeAt(s)!==O||n.charCodeAt(++s)===O;);return(T=s)>=u?j=!0:(C=n.charCodeAt(s++))===b?y=!0:C===U&&(y=!0,n.charCodeAt(s)===b&&++s),n.slice(R+1,T-1).replace(/""/g,'"')}for(;s<u;){if((C=n.charCodeAt(T=s++))===b)y=!0;else if(C===U)y=!0,n.charCodeAt(s)===b&&++s;else if(C!==r)continue;return n.slice(R,T)}return j=!0,n.slice(R,u)}for(;(v=N())!==E;){for(var w=[];v!==I&&v!==E;)w.push(v),v=N();a&&(w=a(w,_++))==null||g.push(w)}return g}function c(n,a){return n.map(function(g){return a.map(function(u){return d(g[u])}).join(t)})}function p(n,a){return a==null&&(a=B(n)),[a.map(d).join(t)].concat(c(n,a)).join(`
`)}function l(n,a){return a==null&&(a=B(n)),c(n,a).join(`
`)}function h(n){return n.map(m).join(`
`)}function m(n){return n.map(d).join(t)}function d(n){return n==null?"":n instanceof Date?dt(n):e.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:o,parseRows:i,format:p,formatBody:l,formatRows:h,formatRow:m,formatValue:d}}var mt=gt("	"),vt=mt.parse;function k(t,e,r){this.k=t,this.x=e,this.y=r}k.prototype={constructor:k,scale:function(t){return t===1?this:new k(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new k(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};k.prototype;var _t=Z("<h1>test:</h1> <!>",1);function Tt(t,e){Q(e,!1);const r=rt();let o=it(e,"data",12);st(()=>{var l;const p=async()=>{var d,n,a;const m=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(d=o())==null?void 0:d.goal}/${(n=o())==null?void 0:n.goal}.csv`)).text();o(o().content=(a=vt(m))==null?void 0:a[0],!0)};o()&&((l=o())!=null&&l.goal)&&!o().content&&p()}),F(()=>et(o()),()=>{var p,l;ot(r,(l=(p=o())==null?void 0:p.content)==null?void 0:l.text.replaceAll(/\\n/g,"<br/>"))}),F(()=>A(r),()=>{console.log(A(r))}),$(),at();var i=_t(),c=x(tt(i),2);ut(c,()=>A(r)),P(t,i),nt()}export{Tt as component,wt as universal};
