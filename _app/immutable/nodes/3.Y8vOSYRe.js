var Yt=Object.defineProperty;var pt=r=>{throw TypeError(r)};var Vt=(r,e,t)=>e in r?Yt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var bt=(r,e,t)=>Vt(r,typeof e!="symbol"?e+"":e,t),tt=(r,e,t)=>e.has(r)||pt("Cannot "+t);var ke=(r,e,t)=>(tt(r,e,"read from private field"),t?t.call(r):e.get(r)),Ne=(r,e,t)=>e.has(r)?pt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),rt=(r,e,t,n)=>(tt(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),mt=(r,e,t)=>(tt(r,e,"access private method"),t);import{b as wt,e as Xt,a as y,t as O,c as we,d as xt}from"../chunks/disclose-version.BAGnBWQX.js";import{h as ue,b as st,a4 as zt,y as Ft,N as Rt,a5 as Kt,a6 as yt,G as Ve,F as at,I as Ie,J as $t,a7 as Lt,P as vt,a8 as jt,an as Jt,Q as kt,w,ao as dt,ap as Qt,v as Zt,$ as St,aq as ft,ar as er,M as tr,as as rr,at as Ot,D as Ut,C as Ht,A as ar,au as Nt,z as nr,av as or,K as sr,E as ir,aa as Ke,k as Pt,ab as lr,o as K,e as cr,aw as vr,q as dr,c as d,s as z,r as f,t as L,p as Re,f as ae,a as Le,n as fr,ax as Z,m as a,ay as Ze,az as A,ag as Be}from"../chunks/runtime.HYkY6oFU.js";import{s as fe,e as Ge}from"../chunks/render.BLTUnQx6.js";import{p as v,l as ur,o as ut,i as D,c as it,s as De,b as Xe}from"../chunks/index-client.C1Zy3QUi.js";import{i as Oe,s as et,a as be}from"../chunks/store.DAwYnGjA.js";import{s as ze,d as gr}from"../chunks/misc.B-zoM8PI.js";import{b as Fe,w as Bt,r as hr}from"../chunks/paths.OxL5nW8b.js";const _r=!0;let nt=null;function pr(r,e){return e}function br(r,e,t,n){for(var o=[],s=e.length,l=0;l<s;l++)er(e[l].e,o,!0);var g=s>0&&o.length===0&&t!==null;if(g){var c=t.parentNode;tr(c),c.append(t),n.clear(),Te(r,e[0].prev,e[s-1].next)}rr(o,()=>{for(var p=0;p<s;p++){var x=e[p];g||(n.delete(x.k),Te(r,x.prev,x.next)),Ot(x.e,!g)}})}function Tt(r,e,t,n,o,s=null){var l=r,g={flags:e,items:new Map,first:null},c=(e&Nt)!==0;if(c){var p=r;l=ue?Ve(Ht(p)):p.appendChild(ar())}ue&&st();var x=null;zt(()=>{var i=t(),h=Ft(i)?i:i==null?[]:Rt(i),b=h.length;let T=!1;if(ue){var E=l.data===Kt;E!==(b===0)&&(l=yt(),Ve(l),at(!1),T=!0)}if(ue){for(var S=null,k,u=0;u<b;u++){if(Ie.nodeType===8&&Ie.data===$t){l=Ie,T=!0,at(!1);break}var _=h[u],C=n(_,u);k=Dt(Ie,g,S,null,_,C,u,o,e),g.items.set(C,k),S=k}b>0&&Ve(yt())}ue||mr(h,g,l,o,e,n),s!==null&&(b===0?x?Lt(x):x=vt(()=>s(l)):x!==null&&jt(x,()=>{x=null})),T&&at(!0)}),ue&&(l=Ie)}function mr(r,e,t,n,o,s){var P,ee,ne,oe;var l=(o&or)!==0,g=(o&(dt|ft))!==0,c=r.length,p=e.items,x=e.first,i=x,h,b=null,T,E=[],S=[],k,u,_,C;if(l)for(C=0;C<c;C+=1)k=r[C],u=s(k,C),_=p.get(u),_!==void 0&&((P=_.a)==null||P.measure(),(T??(T=new Set)).add(_));for(C=0;C<c;C+=1){if(k=r[C],u=s(k,C),_=p.get(u),_===void 0){var $=i?i.e.nodes_start:t;b=Dt($,e,b,b===null?e.first:b.next,k,u,C,n,o),p.set(u,b),E=[],S=[],i=b.next;continue}if(g&&wr(_,k,C,o),_.e.f&Jt&&(Lt(_.e),l&&((ee=_.a)==null||ee.unfix(),(T??(T=new Set)).delete(_))),_!==i){if(h!==void 0&&h.has(_)){if(E.length<S.length){var N=S[0],U;b=N.prev;var Y=E[0],V=E[E.length-1];for(U=0;U<E.length;U+=1)Ct(E[U],N,t);for(U=0;U<S.length;U+=1)h.delete(S[U]);Te(e,Y.prev,V.next),Te(e,b,Y),Te(e,V,N),i=N,b=V,C-=1,E=[],S=[]}else h.delete(_),Ct(_,i,t),Te(e,_.prev,_.next),Te(e,_,b===null?e.first:b.next),Te(e,b,_),b=_;continue}for(E=[],S=[];i!==null&&i.k!==u;)(h??(h=new Set)).add(i),S.push(i),i=i.next;if(i===null)continue;_=i}E.push(_),b=_,i=_.next}if(i!==null||h!==void 0){for(var X=h===void 0?[]:Rt(h);i!==null;)X.push(i),i=i.next;var F=X.length;if(F>0){var G=o&Nt&&c===0?t:null;if(l){for(C=0;C<F;C+=1)(ne=X[C].a)==null||ne.measure();for(C=0;C<F;C+=1)(oe=X[C].a)==null||oe.fix()}br(e,X,G,p)}}l&&nr(()=>{var se;if(T!==void 0)for(_ of T)(se=_.a)==null||se.apply()}),kt.first=e.first&&e.first.e,kt.last=b&&b.e}function wr(r,e,t,n){n&dt&&w(r.v,e),n&ft?w(r.i,t):r.i=t}function Dt(r,e,t,n,o,s,l,g,c){var p=nt;try{var x=(c&dt)!==0,i=(c&Qt)===0,h=x?i?Zt(o):St(o):o,b=c&ft?St(l):l,T={i:b,v:h,k:s,a:null,e:null,prev:t,next:n};return nt=T,T.e=vt(()=>g(r,h,b),ue),T.e.prev=t&&t.e,T.e.next=n&&n.e,t===null?e.first=T:(t.next=T,t.e.next=T.e),n!==null&&(n.prev=T,n.e.prev=T.e),T}finally{nt=p}}function Ct(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,o=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var l=Ut(s);o.before(s),s=l}}function Te(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Me(r,e,t,n,o){var s=r,l="",g;zt(()=>{if(l===(l=e())){ue&&st();return}g!==void 0&&(Ot(g),g=void 0),l!==""&&(g=vt(()=>{if(ue){Ie.data;for(var c=st(),p=c;c!==null&&(c.nodeType!==8||c.data!=="");)p=c,c=Ut(c);if(c===null)throw sr(),ir;wt(Ie,p),s=Ve(c);return}var x=l+"",i=Xt(x);wt(Ht(i),i.lastChild),s.before(i)}))})}function xr(r,e,t){Ke(()=>{var n=Pt(()=>e(r,t==null?void 0:t())||{});if(t&&(n!=null&&n.update)){var o=!1,s={};lr(()=>{var l=t();K(l),o&&cr(s,l)&&(s=l,n.update(l))}),o=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Q(r,e,t,n){t=t==null?null:t+"";var o=r.__attributes??(r.__attributes={});ue&&(o[e]=r.getAttribute(e),e==="src"||e==="href"||e==="srcset")||o[e]!==(o[e]=t)&&(e==="loading"&&(r[vr]=t),t===null?r.removeAttribute(e):r.setAttribute(e,t))}function Pe(r,e,t){if(e in r){var n=r[e],o=typeof n=="boolean"&&t===""?!0:t;(typeof n!="object"||n!==o)&&(r[e]=o)}else Q(r,e,t)}function He(r,e){var t=r.__className,n=yr(e);ue&&r.className===n?r.__className=n:(t!==n||ue&&r.className!==n)&&(e==null?r.removeAttribute("class"):r.className=n,r.__className=n)}function yr(r){return r??""}function pe(r,e,t){if(t){if(r.classList.contains(e))return;r.classList.add(e)}else{if(!r.classList.contains(e))return;r.classList.remove(e)}}function kr(r,e,t,n,o){var s=r.__attributes??(r.__attributes={}),l=r.style,g="style-"+e;s[g]===t&&!o||(s[g]=t,t==null?l.removeProperty(e):l.setProperty(e,t,""))}function Sr(r,e,t,n=!0){n&&t();for(var o of e)r.addEventListener(o,t);dr(()=>{for(var s of e)r.removeEventListener(s,t)})}var Ce,Ue,qe,Je,Gt;const Qe=class Qe{constructor(e){Ne(this,Je);Ne(this,Ce,new WeakMap);Ne(this,Ue);Ne(this,qe);rt(this,qe,e)}observe(e,t){var n=ke(this,Ce).get(e)||new Set;return n.add(t),ke(this,Ce).set(e,n),mt(this,Je,Gt).call(this).observe(e,ke(this,qe)),()=>{var o=ke(this,Ce).get(e);o.delete(t),o.size===0&&(ke(this,Ce).delete(e),ke(this,Ue).unobserve(e))}}};Ce=new WeakMap,Ue=new WeakMap,qe=new WeakMap,Je=new WeakSet,Gt=function(){return ke(this,Ue)??rt(this,Ue,new ResizeObserver(e=>{for(var t of e){Qe.entries.set(t.target,t);for(var n of ke(this,Ce).get(t.target)||[])n(t)}}))},bt(Qe,"entries",new WeakMap);let lt=Qe;var Tr=new lt({box:"border-box"});function Mt(r,e,t){var n=Tr.observe(r,()=>t(r[e]));Ke(()=>(Pt(()=>t(r[e])),n))}function Cr(r,e){Sr(window,["resize"],()=>e(window[r]))}const qt=_r;async function Mr({params:r,fetch:e}){var n,o;let{goal:t}=r;if(!t&&qt){const s=(o=(n=document==null?void 0:document.location)==null?void 0:n.pathname)==null?void 0:o.split("/");s.length>0&&(t=s[s.length-1])}console.log("yolo:",r,t);try{return{goal:t.replace(".html",""),doc:{}}}catch(s){return console.log(s),{goal:"goal00",doc:{content:[],config:{}}}}}const ya=Object.freeze(Object.defineProperty({__proto__:null,load:Mr},Symbol.toStringTag,{value:"Module"})),Er=(r,e,t)=>{const n=r[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((o,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==t?". Note that variables only represent file names one level deep.":""))))})};var Ar=O('<div class="loading svelte-5a8u5a"><img alt="Loading" class="svelte-5a8u5a"> <div style="display: flex"><div style="width: 75%"></div> <div style="width: 25%"><!></div></div></div>');function $e(r,e){var c;let t=v(e,"minHeight",8,!0);var n=Ar(),o=d(n);Q(o,"src",`${Fe}/assets/images/tail-spin.svg`);var s=z(o,2),l=z(d(s),2),g=d(l);ze(g,(c=e.$$slots)==null?void 0:c.scenes,{activeScene:`${{id:"",index:0}}}`}),f(l),f(s),f(n),L(()=>kr(n,"min-height",t()?"60vh":"none")),y(r,n)}function ot(r,e){const t=ur(e,["children","$$slots","$$events","$$legacy"]);Re(e,!1);let n=v(e,"thiz",8),o=v(e,"onScreen",8,!0),s=v(e,"path",8),l=v(e,"data",8),g=Array.isArray(n())?$e:n();ut(async()=>{Array.isArray(n())&&(g=(await Er(Object.assign({}),`./${n()[0]}/${n()[1]}.svelte`,3)).default)}),Oe();var c=we(),p=ae(c);D(p,()=>{var x;return o()&&(!s()||((x=l())==null?void 0:x.length))},x=>{var i=we(),h=ae(i);it(h,()=>g,(b,T)=>{T(b,De(()=>t))}),y(x,i)},x=>{var i=we(),h=ae(i);it(h,()=>$e,(b,T)=>{T(b,{})}),y(x,i)}),y(r,c),Le()}const Et=Math.max(1,Math.floor(Math.random()*17)),gt=Bt({string:"goal"+String(Et).padStart(2,"0"),number:Et}),ht=Bt(!1);var Ir=O('<div class="content svelte-glbrcz"><!> <!></div>'),zr=O('<div class="scene svelte-glbrcz"><!></div>');function Rr(r,e){Re(e,!1);const t=et(),n=()=>be(ht,"$isScreenshotting",t),o=()=>be(gt,"$activeGoal",t);let s=v(e,"text",8,""),l=v(e,"activeScene",8),g=v(e,"hidden",8,!1);Oe();var c=zr(),p=d(c);D(p,()=>!g(),x=>{var i=Ir(),h=d(i);Me(h,s);var b=z(h,2);ze(b,gr(e),{get activeScene(){return l()}}),f(i),L(()=>{Q(i,"style",`--goal-color : var(--color-un-sdg${o().number??""})`),pe(i,"invisible",n())}),y(x,i)}),f(c),y(r,c),Le()}var Lr=O("<div><!></div>");function Or(r,e){let t=v(e,"text",8),n=v(e,"width",8,"");var o=Lr(),s=d(o);Me(s,t),f(o),L(()=>He(o,`text-block ${n()??""} layout-main svelte-1rv19f5`)),y(r,o)}var Ur=O('<div class="unknown-component border layout-main svelte-10tfi0">Unknown component <em> </em></div>');function Hr(r,e){let t=v(e,"type",8);var n=Ur(),o=z(d(n)),s=d(o);f(o),f(n),L(()=>fe(s,t())),y(r,n)}function _t(r){return r}const Nr="en",Pr="#2b98c6",Br="#e56666";var Dr=O('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),Gr=O('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),qr=O('<span class="pref svelte-c7oa2u"> </span> <!> <br>',1),Wr=O('<span class="pref svelte-c7oa2u"> </span> <!>',1),Yr=O('<div><div class="logo-container svelte-c7oa2u"><img class="wb-logo svelte-c7oa2u" title="logo" alt="logo"> <!></div> <p class="source svelte-c7oa2u"><!> <!></p></div>');function Vr(r,e){Re(e,!1);const t=et(),n=()=>be(Nr,"$locale",t),o=()=>be(_t,"$_",t);let s=v(e,"note",8),l=v(e,"source",8),g=v(e,"theme",8);Oe();var c=Yr(),p=d(c),x=d(p);Q(x,"src",`${Fe??""}/assets/external/loop-header-footer/img/logo-wb.svg`);var i=z(x,2);D(i,()=>g()==="dark",E=>{var S=Dr();Q(S,"src",`${Fe??""}/assets/external/loop-header-footer/img/logo-atlas-dark.svg`),y(E,S)},E=>{var S=Gr();L(()=>Q(S,"src",`${Fe??""}/assets/external/loop-header-footer/img/logo-atlas-${n()??""}.svg`)),y(E,S)}),f(p);var h=z(p,2),b=d(h);D(b,s,E=>{var S=qr(),k=ae(S),u=d(k);L(()=>fe(u,o()("note",{default:"Note:"}))),f(k);var _=z(k,2);Me(_,s),fr(2),y(E,S)});var T=z(b,2);D(T,l,E=>{var S=Wr(),k=ae(S),u=d(k);L(()=>fe(u,o()("source",{default:"Source:"}))),f(k);var _=z(k,2);Me(_,l),y(E,S)}),f(h),f(c),L(()=>He(c,`${`screenshot-footer-container ${g()}`??""} svelte-c7oa2u`)),y(r,c),Le()}const Xr=hr(!1);var Fr=O('<h1 class="svelte-1ob8ko5"> </h1>'),Kr=O('<h2 class="svelte-1ob8ko5"><!></h2>'),$r=O('<div class="title-container svelte-1ob8ko5"><!> <!></div>'),jr=O(`<!> <svg width="0px" height="0px"><defs><pattern id="diagonalHatch" width="100px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="50" y2="50" stroke-width="10" style="stroke: var(--color-grey-400);"></line></pattern><pattern id="tightHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path class="visible" d="M-1,1 l2,-2
         M0,4 l4,-4
         M3,5 l2,-2" style="stroke: var(--color-grey-800);"></path></pattern><marker id="arrowhead_pos" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead_neg" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead-large" markerWidth="5" markerHeight="5" refX="2.5" refY="2.5" orient="auto"><polygon points="0 0, 5 2.5, 0 5"></polygon></marker></defs></svg>`,1),Jr=O('<span class="note svelte-1ob8ko5"> <!></span>'),Qr=O('<a class="download-icon svelte-1ob8ko5"><span aria-hidden="true"> </span></a>'),Zr=O('<span class="download svelte-1ob8ko5"><a class="download-icon svelte-1ob8ko5" target="_blank" rel="noreferrer"><span aria-hidden="true"> </span></a></span>'),ea=O('<span class="share svelte-1ob8ko5"><!></span>'),ta=O('<p class="toast svelte-1ob8ko5" aria-hidden="true"><!></p>'),ra=O("<p> <!></p>"),aa=O('<div class="source svelte-1ob8ko5"><!> <span class="download-share svelte-1ob8ko5"><span class="download svelte-1ob8ko5"><!></span> <!> <!> <span class="share svelte-1ob8ko5"><a alt="Copy link to clipboard"><span aria-hidden="true"> </span></a></span></span> <!></div> <!>',1),na=O('<div><div class="internal-container svelte-1ob8ko5"><!> <div class="vis svelte-1ob8ko5" role="img"><!> <!></div> <!></div></div>');function ct(r,e){Re(e,!1);const t=et(),n=()=>be(ht,"$isScreenshotting",t),o=()=>be(gt,"$activeGoal",t),s=()=>be(_t,"$_",t),l=()=>be(Xr,"$isMobile",t),g=A();let c=v(e,"title",8),p=v(e,"subtitle",8),x=v(e,"source",8),i=v(e,"note",8),h=v(e,"visdescription",8),b=v(e,"size",8,"content"),T=v(e,"hide_download",8,!1),E=v(e,"inScroller",8,!1),S=v(e,"theme",8),k=v(e,"dataDownloadUrl",8),u=v(e,"shareUrl",8),_=v(e,"shareImg",8),C=v(e,"shareTitle",8),$=v(e,"graphic",8),N=A(),U=A(),Y=A(0),V=A(0),X=A(),F=A(!1),G=null,P=A();const ee=1700;function ne(){navigator.permissions.query({name:"clipboard-write"}).then(B=>{(B.state==="granted"||B.state==="prompt")&&(navigator.clipboard.writeText(u()),w(F,!0),clearTimeout(G),setTimeout(()=>{w(F,!1),w(X,null)},ee))})}function oe(B){if(a(P)){const q=a(P).getBoundingClientRect();w(X,{x:q.x,y:q.y})}}function se(){a(F)||w(X,null)}Z(()=>{},()=>{w(g,!0)}),Z(()=>a(N),()=>{w(Y,a(N))}),Z(()=>a(U),()=>{w(V,a(U))}),Ze(),Oe();var m=na(),I=d(m),H=d(I);D(H,()=>c()||p(),B=>{var q=$r(),j=d(q);D(j,c,re=>{var W=Fr(),ie=d(W);f(W),L(()=>fe(ie,c())),y(re,W)});var ve=z(j,2);D(ve,p,re=>{var W=Kr(),ie=d(W);Me(ie,p),f(W),y(re,W)}),f(q),y(B,q)});var M=z(H,2);L(()=>Q(M,"aria-label",h()?h():s()("alt.chart")+" "+p()));var te=d(M);D(te,()=>!qt,B=>{$e(B,{})});var ge=z(te,2);D(ge,()=>a(Y)!==void 0&&a(V)!==void 0,B=>{var Se;var q=jr(),j=ae(q);ze(j,(Se=e.$$slots)==null?void 0:Se.graphic,{get parentWidth(){return a(Y)},get parentHeight(){return a(V)}});var ve=z(j,2),re=d(ve),W=z(d(re),2),ie=d(W);Q(ie,"fill",Pr),f(W);var xe=z(W),Ee=d(xe);Q(Ee,"fill",Br),f(xe);var ye=z(xe),_e=d(ye);Q(_e,"stroke-width",0),f(ye),f(re),f(ve),y(B,q)}),f(M);var he=z(M,2);D(he,()=>!n(),B=>{var q=aa(),j=ae(q),ve=d(j);D(ve,i,le=>{var R=Jr(),J=d(R);L(()=>fe(J,`${s()("note",{default:"Note:"})??""} `));var ce=z(J);Me(ce,i),f(R),y(le,R)});var re=z(ve,2),W=d(re),ie=d(W);D(ie,()=>k()&&!T(),le=>{var R=Qr();L(()=>Q(R,"aria-label",s()("alt.download.data")));var J=d(R),ce=d(J);L(()=>fe(ce,s()("data.download"))),f(J),f(R),L(()=>{Q(R,"data-customlink",`download:vis-data-${c()}`),Q(R,"href",k()),pe(J,"hidden",!k()&&!a(g))}),y(le,R)}),f(W);var xe=z(W,2);D(xe,()=>a(g),le=>{var R=Zr(),J=d(R);L(()=>Q(J,"aria-label",s()("alt.download.image")));var ce=d(J),Ae=d(ce);L(()=>fe(Ae,s()("image.download"))),f(ce),f(J),f(R),L(()=>{pe(R,"borderless",!i()&&!k()||i()&&!k()&&l()),Q(J,"href",_()),pe(ce,"hidden",!k()&&!a(g))}),y(le,R)});var Ee=z(xe,2);D(Ee,()=>u()&&!1,le=>{var R=ea(),J=d(R);ShareIcons(J,{get shareUrl(){return u()},get title(){return C()}}),f(R),L(()=>pe(R,"borderless",!i()&&!k()&&!a(g))),y(le,R)});var ye=z(Ee,2),_e=d(ye);Xe(_e,le=>w(P,le),()=>a(P));var Se=d(_e),We=d(Se);L(()=>fe(We,s()("copy.link",{default:"Copy Link"}))),f(Se),f(_e),f(ye),f(re);var de=z(re,2);D(de,()=>a(X)||a(F),le=>{var R=ta(),J=d(R);D(J,()=>a(F),ce=>{var Ae=xt();L(()=>fe(Ae,s()("link.copied",{default:"Link copied to clipboard"}))),y(ce,Ae)},ce=>{var Ae=xt();L(()=>fe(Ae,s()("click.copy",{default:"Click to copy link"}))),y(ce,Ae)}),f(R),L(()=>pe(R,"disappearing",a(F))),y(le,R)}),f(j);var Wt=z(j,2);D(Wt,x,le=>{var R=ra();He(R,"source-text svelte-1ob8ko5");var J=d(R);L(()=>fe(J,`${s()("source",{default:"Source:"})??""} `));var ce=z(J);Me(ce,x),f(R),y(le,R)}),L(()=>{pe(W,"borderless",!i()||l()),pe(ye,"borderless",!i()&&(!k()||T())&&!a(g))}),Ge("click",_e,ne),Ge("mouseover",_e,oe),Ge("mouseout",_e,se),y(B,q)},B=>{Vr(B,{get note(){return i()},get source(){return x()},get theme(){return S()}})}),f(I),f(m),L(()=>{He(m,`${`${$()} vis-container ${E()?"":b()}`??""} svelte-1ob8ko5`),Q(m,"style",`--goal-color : var(--color-un-sdg${o().number??""})`),pe(m,"in-scroller",E()===!0),pe(m,"is-screenshotting",n())}),Mt(M,"clientWidth",B=>w(N,B)),Mt(M,"clientHeight",B=>w(U,B)),y(r,m),Le()}var oa=O("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);const me=[];let je;if(typeof window<"u"){const r=()=>me.forEach(e=>e());window.addEventListener("scroll",r),window.addEventListener("resize",r)}if(typeof IntersectionObserver<"u"){const r=new Map,e=new IntersectionObserver((t,n)=>{t.forEach(o=>{const s=r.get(o.target),l=me.indexOf(s);o.isIntersecting?l===-1&&me.push(s):(s(),l!==-1&&me.splice(l,1))})},{rootMargin:"0px 0px"});je={add:({outer:t,update:n})=>{const{top:o,bottom:s}=t.getBoundingClientRect();o<window.innerHeight&&s>0&&me.push(n),r.set(t,n),e.observe(t)},remove:({outer:t,update:n})=>{const o=me.indexOf(n);o!==-1&&me.splice(o,1),r.delete(t),e.unobserve(t)}}}else je={add:({update:r})=>{me.push(r)},remove:({update:r})=>{const e=me.indexOf(r);e!==-1&&me.splice(e,1)}};function sa(r,e){var I,H;Re(e,!1);const t=A(),n=A(),o=A(),s=A(),l=A();let g=v(e,"top",8,0),c=v(e,"bottom",8,1),p=v(e,"threshold",8,.5),x=v(e,"query",8,"section"),i=v(e,"parallax",8,!1),h=v(e,"expected",8),b=v(e,"index",12,0),T=v(e,"count",12,0),E=v(e,"offset",12,0),S=v(e,"progress",12,0),k=v(e,"visible",12,!1),u=A(),_=A(),C=A(),$,N,U=A(0),Y=A(),V=A(0),X=A(1);function F(){var M;T()||(N=(M=a(_))==null?void 0:M.querySelectorAll(x()),N&&N.length===h()?(T(N.length),G()):setTimeout(F,1250))}ut(()=>{F();const M={outer:a(u),update:G};return je.add(M),()=>je.remove(M)});function G(){if(!a(_))return;const M=a(u).getBoundingClientRect();$=M.left,w(X,M.right-$);const te=a(_).getBoundingClientRect(),ge=a(C).getBoundingClientRect();k(te.top<a(U)&&te.bottom>0);const he=te.bottom-te.top,B=ge.bottom-ge.top,q=a(n)-a(t);S((a(t)-te.top)/(he-q)),S()<=0?(w(V,0),w(Y,!1)):S()>=1?(w(V,i()?he-B:he-q),w(Y,!1)):(w(V,i()?Math.round(a(t)-S()*(B-q)):a(t)),w(Y,!0));for(let j=0;j<N.length;(j+=1)-1){const ve=N[j],{top:re}=ve.getBoundingClientRect(),W=N[j+1],ie=W?W.getBoundingClientRect().top:te.bottom;if(E((a(o)-re)/(ie-re)),ie>=a(o)){b(j);break}}}Z(()=>(K(g()),a(U)),()=>{w(t,Math.round(g()*a(U)))}),Z(()=>(K(c()),a(U)),()=>{w(n,Math.round(c()*a(U)))}),Z(()=>(K(p()),a(U)),()=>{w(o,Math.round(p()*a(U)))}),Z(()=>(K(g()),K(c()),K(p()),K(i())),()=>{g(),c(),p(),i(),G()}),Z(()=>(a(Y),a(V)),()=>{w(s,`
		position: ${a(Y)?"fixed":"absolute"};
    /* override with sticky if supported: */
    position: sticky;
		top: 0;
		transform: translate(0, ${typeof CSS<"u"&&CSS.supports&&CSS.supports("position","sticky")?0:a(V)}px);
		z-index: 1;
	`)}),Z(()=>(a(Y),a(X)),()=>{w(l,a(Y)?`width:${a(X)}px;`:"")}),Ze(),Oe();var P=oa();Xe(P,M=>w(u,M),()=>a(u)),Pe(P,"class","svelte-xdbafy");var ee=d(P);Pe(ee,"class","background-container svelte-xdbafy");var ne=d(ee);Xe(ne,M=>w(C,M),()=>a(C)),Pe(ne,"class","svelte-xdbafy");var oe=d(ne);ze(oe,(I=e.$$slots)==null?void 0:I.background,{}),f(ne),f(ee);var se=z(ee,2);Xe(se,M=>w(_,M),()=>a(_)),Pe(se,"class","svelte-xdbafy");var m=d(se);ze(m,(H=e.$$slots)==null?void 0:H.foreground,{}),f(se),f(P),L(()=>Pe(ee,"style",`${a(s)??""}${a(l)??""}`)),Cr("innerHeight",M=>w(U,M)),y(r,P),Le()}var ia=O('<div class="left svelte-99ar8n" slot="background"><!></div>'),la=O('<div class="right svelte-99ar8n" slot="foreground"><div class="right-inner svelte-99ar8n"><!></div></div>'),ca=O("<p> <!></p>"),va=O('<div><div class="scroller-container svelte-99ar8n"><!> <!></div></div>');function At(r,e){Re(e,!1);const t=et(),n=()=>be(gt,"$activeGoal",t),o=()=>be(ht,"$isScreenshotting",t),s=()=>be(_t,"$_",t),l=A(),g=A();let c=v(e,"data",8),p=v(e,"title",8),x=v(e,"subtitle",8),i=v(e,"source",8),h=v(e,"note",8),b=v(e,"graphic",8),T=v(e,"visdescription",8),E=v(e,"theme",8,"light"),S=v(e,"visSize",8,"default"),k=v(e,"publish_progress",8,!1),u=v(e,"scenes",24,()=>[]),_=v(e,"dataDownloadUrl",8);v(e,"shareUrl",8),v(e,"shareImg",8);let C=v(e,"shareTitle",8),$=A(0),N=A(p()),U=A(x()),Y=A(i()),V=A(h()),X=A(0),F=A(0),G=A();Z(()=>(K(k()),a(X),a($),K(u()),a(F)),()=>{var m,I;k()&&w(G,{progress:a(X),index:a($),id:(I=(m=u())==null?void 0:m[a($)])==null?void 0:I.id,offset:a(F)})}),Z(()=>(K(k()),a($),K(u())),()=>{var m,I;k()||w(G,{index:a($),id:(I=(m=u())==null?void 0:m[a($)])==null?void 0:I.id})}),Z(()=>(K(u()),a(G)),()=>{var m;w(l,(m=u()[a(G).index])==null?void 0:m.shareUrl)}),Z(()=>(K(u()),a(G)),()=>{var m;w(g,(m=u()[a(G).index])==null?void 0:m.shareImg)}),Z(()=>(a($),K(u()),K(p()),K(x()),K(i()),K(h())),()=>{var te,ge,he,B,q,j,ve,re,W,ie,xe,Ee,ye,_e,Se,We;let m,I,H,M;for(let de=a($);de>=0;de+=-1)!m&&((ge=(te=u())==null?void 0:te[de])!=null&&ge.title)&&(m=(B=(he=u())==null?void 0:he[de])==null?void 0:B.title),!I&&((j=(q=u())==null?void 0:q[de])!=null&&j.subtitle)&&(I=(re=(ve=u())==null?void 0:ve[de])==null?void 0:re.subtitle),!H&&((ie=(W=u())==null?void 0:W[de])!=null&&ie.source)&&(H=(Ee=(xe=u())==null?void 0:xe[de])==null?void 0:Ee.source),!M&&((_e=(ye=u())==null?void 0:ye[de])!=null&&_e.note)&&(M=(We=(Se=u())==null?void 0:Se[de])==null?void 0:We.note);m||(m=p()),I||(I=x()),H||(H=i()),M||(M=h()),w(N,m),w(U,I),w(Y,H),w(V,M)}),Ze(),Oe();var P=va(),ee=d(P),ne=d(ee),oe=Be(()=>{var m;return(m=u())==null?void 0:m.length});sa(ne,{get index(){return a($)},set index(m){w($,m)},query:".scene",get expected(){return a(oe)},get progress(){return a(X)},set progress(m){w(X,m)},get offset(){return a(F)},set offset(m){w(F,m)},$$slots:{background:(m,I)=>{var H=ia(),M=d(H);ct(M,{get title(){return a(N)},get subtitle(){return a(U)},get source(){return a(Y)},get note(){return a(V)},get visdescription(){return T()},get dataDownloadUrl(){return _()},get shareUrl(){return a(l)},get shareImg(){return a(g)},get shareTitle(){return C()},get graphic(){return b()},inScroller:!0,get theme(){return E()},$$slots:{graphic:(te,ge)=>{var q;var he=we(),B=ae(he);ze(B,(q=e.$$slots)==null?void 0:q.graphic,{get activeScene(){return a(G)},get data(){return c()},parentWidth,parentHeight}),y(te,he)}}}),f(H),L(()=>pe(H,"screenshot",o())),y(m,H)},foreground:(m,I)=>{var ge;var H=la(),M=d(H),te=d(M);ze(te,(ge=e.$$slots)==null?void 0:ge.scenes,{get activeScene(){return a(G)}}),f(M),f(H),y(m,H)}},$$legacy:!0});var se=z(ne,2);D(se,i,m=>{var I=ca();He(I,"source-text svelte-99ar8n");var H=d(I);L(()=>fe(H,`${s()("source",{default:"Source:"})??""} `));var M=z(H);Me(M,i),f(I),y(m,I)}),f(ee),f(P),L(()=>{He(P,`${"side-by-side layout-full "+E()+" "+S()} svelte-99ar8n`),Q(P,"style",`--goal-color : var(--color-un-sdg${n().number??""})`)}),y(r,P),Le()}const It={wide_scroller:At,scroller:At,visContainer:ct,vis:ct,text:Or,scene:Rr},Ye=(r,e=!0)=>e?It.hasOwnProperty(r)?It[r]:Hr:$e;var da=O("<a></a>"),fa=O('<!> <div class="observer navigation-highlights"></div> <!>',1),ua=O("<h1>test:</h1> <!>",1);function ka(r,e){Re(e,!1);const t=A(),n=A();let o=v(e,"data",12),s=A();ut(()=>{var p;const c=async()=>{var T,E,S,k;const i=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(T=o())==null?void 0:T.goal}/${(E=o())==null?void 0:E.goal}.json`)).json();console.log(i),o({...o(),...i});const b=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(S=o())==null?void 0:S.goal}/${(k=o())==null?void 0:k.goal}.en.i18n.json`)).json();w(s,b)};o()&&((p=o())!=null&&p.goal)&&!o().content&&c()}),Z(()=>(K(o()),a(s)),()=>{var c;w(t,(c=o())!=null&&c.content&&a(s)?o():null)}),Z(()=>a(t),()=>{console.log(a(t))}),Z(()=>K(o()),()=>{var c;w(n,(c=o())==null?void 0:c.goal)}),Ze(),Oe();var l=ua(),g=z(ae(l),2);D(g,()=>a(t),c=>{var p=we(),x=ae(p);Tt(x,1,()=>a(t).content,pr,(i,h)=>{var b=we(),T=ae(b);D(T,()=>Array.isArray(a(h)),E=>{var S=we(),k=ae(S);it(k,()=>Ye(a(h).type,!0),(u,_)=>{_(u,De(()=>a(h),{get shareTitle(){return a(n)},$$slots:{graphic:(C,$)=>{var N=we(),U=ae(N);D(U,()=>a(h).graphic,Y=>{var V=Be(()=>Ye(a(h).graphic));ot(Y,De({get thiz(){return a(V)}},()=>a(h),{get type(){return a(t).graphic},activeScene,parentWidth,parentHeight}))}),y(C,N)},scenes:(C,$)=>{var N=we(),U=ae(N);D(U,()=>a(h).scenes,Y=>{var V=we(),X=ae(V);Tt(X,3,()=>a(h).scenes,(F,G)=>{var P;return((P=archie==null?void 0:archie.config)==null?void 0:P.goal)+index+"-"+G},(F,G,P)=>{var ee=fa(),ne=ae(ee);D(ne,()=>{var I;return(I=a(t))==null?void 0:I.translationPrefix},I=>{var H=da();L(()=>Q(H,"name",translationKeyToId(a(G).translationPrefix).contentId)),y(I,H)});var oe=z(ne,2),se=z(oe,2),m=Be(()=>Ye(a(G).type));ot(se,De({get thiz(){return a(m)}},()=>contentProps[index+"_"+a(P)],{get type(){return a(G).type},activeScene})),xr(oe,(I,H)=>inview(I,H),()=>({rootMargin:"50% 0px 0% 0px"})),Ke(()=>Ge("enter",oe,()=>{highlightGoals(contentProps[index+"_"+a(P)]),indexEntering(index)})),Ke(()=>Ge("leave",oe,()=>{unhighlightGoals(a(G))})),y(F,ee)}),y(Y,V)}),y(C,N)}}}))}),y(E,S)},E=>{var S=Be(()=>Ye(a(h).type,!0)),k=Be(()=>!0);ot(E,De({get thiz(){return a(S)},get onScreen(){return a(k)}},()=>a(h)))}),y(i,b)}),y(c,p)}),y(r,l),Le()}export{ka as component,ya as universal};
