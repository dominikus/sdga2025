var fi=Object.defineProperty;var On=t=>{throw TypeError(t)};var ui=(t,e,n)=>e in t?fi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Dn=(t,e,n)=>ui(t,typeof e!="symbol"?e+"":e,n),Ke=(t,e,n)=>e.has(t)||On("Cannot "+n);var It=(t,e,n)=>(Ke(t,e,"read from private field"),n?n.call(t):e.get(t)),ne=(t,e,n)=>e.has(t)?On("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ze=(t,e,n,r)=>(Ke(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Hn=(t,e,n)=>(Ke(t,e,"access private method"),n);import{z as _r,a0 as ln,V as hi,l as yt,m as cn,a1 as mr,N as wr,a5 as di,a6 as Ln,G as Ce,F as Qe,I as qt,J as vi,a2 as xr,Q as yn,a3 as pi,ar as je,R as Pn,as as Un,at as bn,au as gi,v as _i,X as Fn,av as kn,aw as mi,M as wi,ax as xi,ay as yr,D as br,C as kr,P as yi,az as Sr,A as bi,aA as ki,K as Si,E as Ai,a7 as Le,b as Ar,a8 as Ni,e as it,x as Ei,aB as Ci,aC as Ti,q as Ri,aD as Mi,j as S,s as z,k as A,t as B,p as Gt,i as Wt,h as ht,n as $i,aE as gt,aF as Sn,g as h,w as I,aG as V,ae as Ii,a as Oi,aq as Bn,f as dt}from"../chunks/runtime.DmHyMomh.js";import{b as qn,e as Di,a as R,t as G,d as zn,c as Tt,n as Nr}from"../chunks/disclose-version.oG7i7Xc1.js";import{s as pt,e as fe}from"../chunks/render.BRpGQGp_.js";import{p as b,i as Q,b as Te,a as re,c as xe,s as ye}from"../chunks/props.QEGb6I9y.js";import{s as ge,a as Nt}from"../chunks/store.oB27NE0w.js";import{o as Er}from"../chunks/index-client.BWMC5zQm.js";import{s as Yt,v as Hi}from"../chunks/variables.CXog_YeY.js";import{b as Re,w as Cr,r as Tr}from"../chunks/paths.t53C2G7F.js";import{i as te}from"../chunks/lifecycle.DYw349b8.js";function Li(t,e=!1){return Me(t,new Map)}function Me(t,e,n,r){if(typeof t=="object"&&t!==null){const a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(_r(t)){const s=[];e.set(t,s);for(let o=0;o<t.length;o+=1)s.push(Me(t[o],e));return s}if(ln(t)===hi){const s={};e.set(t,s);for(var i in t)s[i]=Me(t[i],e);return s}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return Me(t.toJSON(),e)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let tn=null;function Pi(t,e){return e}function Ui(t,e,n,r){for(var i=[],a=e.length,s=0;s<a;s++)mi(e[s].e,i,!0);var o=a>0&&i.length===0&&n!==null;if(o){var l=n.parentNode;wi(l),l.append(n),r.clear(),Lt(t,e[0].prev,e[a-1].next)}xi(i,()=>{for(var c=0;c<a;c++){var u=e[c];o||(r.delete(u.k),Lt(t,u.prev,u.next)),yr(u.e,!o)}})}function Xn(t,e,n,r,i,a=null){var s=t,o={flags:e,items:new Map,first:null},l=(e&Sr)!==0;if(l){var c=t;s=yt?Ce(kr(c)):c.appendChild(yi())}yt&&cn();var u=null,f=!1;mr(()=>{var d=n(),v=_r(d)?d:d==null?[]:wr(d),_=v.length;if(f&&_===0)return;f=_===0;let m=!1;if(yt){var y=s.data===di;y!==(_===0)&&(s=Ln(),Ce(s),Qe(!1),m=!0)}if(yt){for(var k=null,p,g=0;g<_;g++){if(qt.nodeType===8&&qt.data===vi){s=qt,m=!0,Qe(!1);break}var C=v[g],M=r(C,g);p=Rr(qt,o,k,null,C,M,g,i,e),o.items.set(M,p),k=p}_>0&&Ce(Ln())}yt||Fi(v,o,s,i,e,r),a!==null&&(_===0?u?xr(u):u=yn(()=>a(s)):u!==null&&pi(u,()=>{u=null})),m&&Qe(!0),n()}),yt&&(s=qt)}function Fi(t,e,n,r,i,a){var P,tt,q,L;var s=(i&ki)!==0,o=(i&(bn|kn))!==0,l=t.length,c=e.items,u=e.first,f=u,d,v=null,_,m=[],y=[],k,p,g,C;if(s)for(C=0;C<l;C+=1)k=t[C],p=a(k,C),g=c.get(p),g!==void 0&&((P=g.a)==null||P.measure(),(_??(_=new Set)).add(g));for(C=0;C<l;C+=1){if(k=t[C],p=a(k,C),g=c.get(p),g===void 0){var M=f?f.e.nodes_start:n;v=Rr(M,e,v,v===null?e.first:v.next,k,p,C,r,i),c.set(p,v),m=[],y=[],f=v.next;continue}if(o&&Bi(g,k,C,i),g.e.f&je&&(xr(g.e),s&&((tt=g.a)==null||tt.unfix(),(_??(_=new Set)).delete(g))),g!==f){if(d!==void 0&&d.has(g)){if(m.length<y.length){var T=y[0],O;v=T.prev;var w=m[0],D=m[m.length-1];for(O=0;O<m.length;O+=1)Yn(m[O],T,n);for(O=0;O<y.length;O+=1)d.delete(y[O]);Lt(e,w.prev,D.next),Lt(e,v,w),Lt(e,D,T),f=T,v=D,C-=1,m=[],y=[]}else d.delete(g),Yn(g,f,n),Lt(e,g.prev,g.next),Lt(e,g,v===null?e.first:v.next),Lt(e,v,g),v=g;continue}for(m=[],y=[];f!==null&&f.k!==p;)f.e.f&je||(d??(d=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;g=f}m.push(g),v=g,f=g.next}if(f!==null||d!==void 0){for(var $=d===void 0?[]:wr(d);f!==null;)f.e.f&je||$.push(f),f=f.next;var H=$.length;if(H>0){var X=i&Sr&&l===0?n:null;if(s){for(C=0;C<H;C+=1)(q=$[C].a)==null||q.measure();for(C=0;C<H;C+=1)(L=$[C].a)==null||L.fix()}Ui(e,$,X,c)}}s&&bi(()=>{var Z;if(_!==void 0)for(g of _)(Z=g.a)==null||Z.apply()}),Pn.first=e.first&&e.first.e,Pn.last=v&&v.e}function Bi(t,e,n,r){r&bn&&Un(t.v,e),r&kn?Un(t.i,n):t.i=n}function Rr(t,e,n,r,i,a,s,o,l){var c=tn;try{var u=(l&bn)!==0,f=(l&gi)===0,d=u?f?_i(i):Fn(i):i,v=l&kn?Fn(s):s,_={i:v,v:d,k:a,a:null,e:null,prev:n,next:r};return tn=_,_.e=yn(()=>o(t,d,v),yt),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?e.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{tn=c}}function Yn(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,a=t.e.nodes_start;a!==r;){var s=br(a);i.before(a),a=s}}function Lt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Ft(t,e,n,r,i){var a=t,s="",o;mr(()=>{if(s===(s=e()??"")){yt&&cn();return}o!==void 0&&(yr(o),o=void 0),s!==""&&(o=yn(()=>{if(yt){qt.data;for(var l=cn(),c=l;l!==null&&(l.nodeType!==8||l.data!=="");)c=l,l=br(l);if(l===null)throw Si(),Ai;qn(qt,c),a=Ce(l);return}var u=s+"",f=Di(u);qn(kr(f),f.lastChild),a.before(f)}))})}function qi(t,e,n){Le(()=>{var r=Ar(()=>e(t,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,a={};Ni(()=>{var s=n();it(s),i&&Ei(a,s)&&(a=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function st(t,e,n,r){var i=t.__attributes??(t.__attributes={});yt&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[Ci]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Mr(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ie(t,e,n){Mr(t).includes(e)?t[e]=n:st(t,e,n)}var Vn=new Map;function Mr(t){var e=Vn.get(t.nodeName);if(e)return e;Vn.set(t.nodeName,e=[]);for(var n,r=ln(t);r.constructor.name!=="Element";){n=Ti(r);for(var i in n)n[i].set&&e.push(i);r=ln(r)}return e}function Zt(t,e){var n=t.__className,r=zi(e);yt&&t.className===r?t.__className=r:(n!==r||yt&&t.className!==r)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function zi(t){return t??""}function St(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function Xi(t,e,n,r,i){var a=t.__attributes??(t.__attributes={}),s=t.style,o="style-"+e;a[o]===n&&!i||(a[o]=n,n==null?s.removeProperty(e):s.setProperty(e,n,""))}function Yi(t,e,n,r=!0){r&&n();for(var i of e)t.addEventListener(i,n);Ri(()=>{for(var a of e)t.removeEventListener(a,n)})}var Ut,Kt,pe,Ye,$r;const Ve=class Ve{constructor(e){ne(this,Ye);ne(this,Ut,new WeakMap);ne(this,Kt);ne(this,pe);Ze(this,pe,e)}observe(e,n){var r=It(this,Ut).get(e)||new Set;return r.add(n),It(this,Ut).set(e,r),Hn(this,Ye,$r).call(this).observe(e,It(this,pe)),()=>{var i=It(this,Ut).get(e);i.delete(n),i.size===0&&(It(this,Ut).delete(e),It(this,Kt).unobserve(e))}}};Ut=new WeakMap,Kt=new WeakMap,pe=new WeakMap,Ye=new WeakSet,$r=function(){return It(this,Kt)??Ze(this,Kt,new ResizeObserver(e=>{for(var n of e){Ve.entries.set(n.target,n);for(var r of It(this,Ut).get(n.target)||[])r(n)}}))},Dn(Ve,"entries",new WeakMap);let fn=Ve;var Vi=new fn({box:"border-box"});function Gn(t,e,n){var r=Vi.observe(t,()=>n(t[e]));Le(()=>(Ar(()=>n(t[e])),r))}function Gi(t,e){Yi(window,["resize"],()=>e(window[t]))}const Ir=Mi;async function Wi({params:t,fetch:e}){var r,i;let{goal:n}=t;if(!n&&Ir){const a=(i=(r=document==null?void 0:document.location)==null?void 0:r.pathname)==null?void 0:i.split("/");a.length>0&&(n=a[a.length-1])}console.log("yolo:",t,n);try{return{goal:n.replace(".html",""),doc:{}}}catch(a){return console.log(a),{goal:"goal00",doc:{content:[],config:{}}}}}const Sc=Object.freeze(Object.defineProperty({__proto__:null,load:Wi},Symbol.toStringTag,{value:"Module"}));function Ji(t){return t()}function Ki(t){t.forEach(Ji)}const be=[],Wn=[],$e=[],Jn=[],Or=Promise.resolve();let un=!1;function Zi(){un||(un=!0,Or.then(ta))}function Qi(){return Zi(),Or}function ji(t){$e.push(t)}const en=new Set;let ke=0;function ta(){do{for(;ke<be.length;){const t=be[ke];ke++,ea(t.$$)}for(be.length=0,ke=0;Wn.length;)Wn.pop()();for(let t=0;t<$e.length;t+=1){const e=$e[t];en.has(e)||(en.add(e),e())}$e.length=0}while(be.length);for(;Jn.length;)Jn.pop()();un=!1,en.clear()}function ea(t){if(t.fragment!==null){t.update(),Ki(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ji)}}const na={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},Ht=(t,e)=>new CustomEvent(t,{detail:e});function ra(t,e={}){const{root:n,rootMargin:r,threshold:i,unobserveOnEnter:a}=Object.assign(Object.assign({},na),e);let s={x:void 0,y:void 0},o={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const l=new IntersectionObserver((c,u)=>{c.forEach(f=>{s.y>f.boundingClientRect.y?o.vertical="up":o.vertical="down",s.x>f.boundingClientRect.x?o.horizontal="left":o.horizontal="right",s={y:f.boundingClientRect.y,x:f.boundingClientRect.x};const d={inView:f.isIntersecting,entry:f,scrollDirection:o,node:t,observer:u};t.dispatchEvent(Ht("inview_change",d)),t.dispatchEvent(Ht("change",d)),f.isIntersecting?(t.dispatchEvent(Ht("inview_enter",d)),t.dispatchEvent(Ht("enter",d)),a&&u.unobserve(t)):(t.dispatchEvent(Ht("inview_leave",d)),t.dispatchEvent(Ht("leave",d)))})},{root:n,rootMargin:r,threshold:i});return Qi().then(()=>{t.dispatchEvent(Ht("inview_init",{observer:l,node:t})),t.dispatchEvent(Ht("init",{observer:l,node:t}))}),l.observe(t),{destroy(){l.unobserve(t)}}}}var ia=G('<div class="loading svelte-5a8u5a"><img alt="Loading" class="svelte-5a8u5a"> <div style="display: flex"><div style="width: 75%"></div> <div style="width: 25%"><!></div></div></div>');function Dr(t,e){let n=b(e,"minHeight",8,!0);var r=ia(),i=S(r);st(i,"src",`${Re}/assets/images/tail-spin.svg`);var a=z(i,2),s=z(S(a),2),o=S(s);Yt(o,e,"scenes",{activeScene:`${{id:"",index:0}}}`}),A(s),A(a),A(r),B(()=>Xi(r,"min-height",n()?"60vh":"none")),R(t,r)}const Kn=Math.max(1,Math.floor(Math.random()*17)),An=Cr({string:"goal"+String(Kn).padStart(2,"0"),number:Kn}),Nn=Cr(!1);var aa=G('<div class="content svelte-glbrcz"><!> <!></div>'),sa=G('<div class="scene svelte-glbrcz"><!></div>');function oa(t,e){Gt(e,!1);const n=ge(),r=()=>Nt(Nn,"$isScreenshotting",n),i=()=>Nt(An,"$activeGoal",n);let a=b(e,"text",8,""),s=b(e,"activeScene",8),o=b(e,"hidden",8,!1);te();var l=sa(),c=S(l);Q(c,()=>!o(),u=>{var f=aa(),d=S(f);Ft(d,a);var v=z(d,2);Yt(v,e,"default",{get activeScene(){return s()}}),A(f),B(()=>{st(f,"style",`--goal-color : var(--color-un-sdg${i().number??""})`),St(f,"invisible",r())}),R(u,f)}),A(l),R(t,l),Wt()}var la=G("<div><!></div>");function ca(t,e){let n=b(e,"text",8),r=b(e,"width",8,"");var i=la(),a=S(i);Ft(a,n),A(i),B(()=>Zt(i,`text-block ${r()??""} layout-main svelte-1rv19f5`)),R(t,i)}var fa=G('<div class="unknown-component border layout-main svelte-10tfi0">Unknown component <em> </em></div>');function ua(t,e){let n=b(e,"type",8);var r=fa(),i=z(S(r)),a=S(i);A(i),A(r),B(()=>pt(a,n())),R(t,r)}const En=Tr(t=>(console.log(t),t)),hn="en",ha="#2b98c6",da="#e56666";var va=G('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),pa=G('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),ga=G('<span class="pref svelte-c7oa2u"> </span> <!> <br>',1),_a=G('<span class="pref svelte-c7oa2u"> </span> <!>',1),ma=G('<div><div class="logo-container svelte-c7oa2u"><img class="wb-logo svelte-c7oa2u" title="logo" alt="logo"> <!></div> <p class="source svelte-c7oa2u"><!> <!></p></div>');function wa(t,e){Gt(e,!1);const n=ge(),r=()=>Nt(hn,"$locale",n),i=()=>Nt(En,"$_",n);let a=b(e,"note",8),s=b(e,"source",8),o=b(e,"theme",8);te();var l=ma(),c=S(l),u=S(c);st(u,"src",`${Re??""}/assets/external/loop-header-footer/img/logo-wb.svg`);var f=z(u,2);Q(f,()=>o()==="dark",m=>{var y=va();st(y,"src",`${Re??""}/assets/external/loop-header-footer/img/logo-atlas-dark.svg`),R(m,y)},m=>{var y=pa();B(()=>st(y,"src",`${Re??""}/assets/external/loop-header-footer/img/logo-atlas-${r()??""}.svg`)),R(m,y)}),A(c);var d=z(c,2),v=S(d);Q(v,a,m=>{var y=ga(),k=ht(y),p=S(k);B(()=>pt(p,i()("note",{default:"Note:"}))),A(k);var g=z(k,2);Ft(g,a),$i(2),R(m,y)});var _=z(v,2);Q(_,s,m=>{var y=_a(),k=ht(y),p=S(k);B(()=>pt(p,i()("source",{default:"Source:"}))),A(k);var g=z(k,2);Ft(g,s),R(m,y)}),A(d),A(l),B(()=>Zt(l,`${`screenshot-footer-container ${o()}`??""} svelte-c7oa2u`)),R(t,l),Wt()}const xa=Tr(!1);var ya=G('<h1 class="svelte-1ob8ko5"> </h1>'),ba=G('<h2 class="svelte-1ob8ko5"><!></h2>'),ka=G('<div class="title-container svelte-1ob8ko5"><!> <!></div>'),Sa=G(`<!> <svg width="0px" height="0px"><defs><pattern id="diagonalHatch" width="100px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="50" y2="50" stroke-width="10" style="stroke: var(--color-grey-400);"></line></pattern><pattern id="tightHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path class="visible" d="M-1,1 l2,-2
         M0,4 l4,-4
         M3,5 l2,-2" style="stroke: var(--color-grey-800);"></path></pattern><marker id="arrowhead_pos" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead_neg" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead-large" markerWidth="5" markerHeight="5" refX="2.5" refY="2.5" orient="auto"><polygon points="0 0, 5 2.5, 0 5"></polygon></marker></defs></svg>`,1),Aa=G('<span class="note svelte-1ob8ko5"> <!></span>'),Na=G('<a class="download-icon svelte-1ob8ko5"><span aria-hidden="true"> </span></a>'),Ea=G('<span class="download svelte-1ob8ko5"><a class="download-icon svelte-1ob8ko5" target="_blank" rel="noreferrer"><span aria-hidden="true"> </span></a></span>'),Ca=G('<span class="share svelte-1ob8ko5"><!></span>'),Ta=G('<p class="toast svelte-1ob8ko5" aria-hidden="true"><!></p>'),Ra=G("<p> <!></p>"),Ma=G('<div class="source svelte-1ob8ko5"><!> <span class="download-share svelte-1ob8ko5"><span class="download svelte-1ob8ko5"><!></span> <!> <!> <span class="share svelte-1ob8ko5"><a alt="Copy link to clipboard"><span aria-hidden="true"> </span></a></span></span> <!></div> <!>',1),$a=G('<div><div class="internal-container svelte-1ob8ko5"><!> <div class="vis svelte-1ob8ko5" role="img"><!> <!></div> <!></div></div>');function dn(t,e){Gt(e,!1);const n=ge(),r=()=>Nt(Nn,"$isScreenshotting",n),i=()=>Nt(An,"$activeGoal",n),a=()=>Nt(En,"$_",n),s=()=>Nt(xa,"$isMobile",n),o=V();let l=b(e,"title",8),c=b(e,"subtitle",8),u=b(e,"source",8),f=b(e,"note",8),d=b(e,"visdescription",8),v=b(e,"size",8,"content"),_=b(e,"hide_download",8,!1),m=b(e,"inScroller",8,!1),y=b(e,"theme",8),k=b(e,"dataDownloadUrl",8),p=b(e,"shareUrl",8),g=b(e,"shareImg",8),C=b(e,"shareTitle",8),M=b(e,"graphic",8),T=V(),O=V(),w=V(0),D=V(0),$=V(),H=V(!1),X=null,P=V();const tt=1700;function q(){navigator.permissions.query({name:"clipboard-write"}).then(F=>{(F.state==="granted"||F.state==="prompt")&&(navigator.clipboard.writeText(p()),I(H,!0),clearTimeout(X),setTimeout(()=>{I(H,!1),I($,null)},tt))})}function L(F){if(x,h(P)){const j=h(P).getBoundingClientRect();I($,{x:j.x,y:j.y})}}function Z(){h(H)||I($,null)}gt(()=>{},()=>{I(o,!0)}),gt(()=>h(T),()=>{I(w,h(T))}),gt(()=>h(O),()=>{I(D,h(O))}),Sn(),te();var E=$a(),N=S(E),U=S(N);Q(U,()=>l()||c(),F=>{var j=ka(),K=S(j);Q(K,l,nt=>{var J=ya(),rt=S(J);A(J),B(()=>pt(rt,l())),R(nt,J)});var et=z(K,2);Q(et,c,nt=>{var J=ba(),rt=S(J);Ft(rt,c),A(J),R(nt,J)}),A(j),R(F,j)});var W=z(U,2);B(()=>st(W,"aria-label",d()?d():a()("alt.chart")+" "+c()));var ot=S(W);Q(ot,()=>!Ir,F=>{Dr(F,{})});var lt=z(ot,2);Q(lt,()=>h(w)!==void 0&&h(D)!==void 0,F=>{var j=Sa(),K=ht(j);Yt(K,e,"graphic",{get parentWidth(){return h(w)},get parentHeight(){return h(D)}});var et=z(K,2),nt=S(et),J=z(S(nt),2),rt=S(J);st(rt,"fill",ha),A(J);var bt=z(J),ft=S(bt);st(ft,"fill",da),A(bt);var ut=z(bt),kt=S(ut);st(kt,"stroke-width",0),A(ut),A(nt),A(et),R(F,j)}),A(W);var ct=z(W,2);Q(ct,()=>!r(),F=>{var j=Ma(),K=ht(j),et=S(K);Q(et,f,mt=>{var Y=Aa(),at=S(Y);B(()=>pt(at,`${a()("note",{default:"Note:"})??""} `));var wt=z(at);Ft(wt,f),A(Y),R(mt,Y)});var nt=z(et,2),J=S(nt),rt=S(J);Q(rt,()=>k()&&!_(),mt=>{var Y=Na();B(()=>st(Y,"aria-label",a()("alt.download.data")));var at=S(Y),wt=S(at);B(()=>pt(wt,a()("data.download"))),A(at),A(Y),B(()=>{st(Y,"data-customlink",`download:vis-data-${l()}`),st(Y,"href",k()),St(at,"hidden",!k()&&!h(o))}),R(mt,Y)}),A(J);var bt=z(J,2);Q(bt,()=>h(o),mt=>{var Y=Ea(),at=S(Y);B(()=>st(at,"aria-label",a()("alt.download.image")));var wt=S(at),Bt=S(wt);B(()=>pt(Bt,a()("image.download"))),A(wt),A(at),A(Y),B(()=>{St(Y,"borderless",!f()&&!k()||f()&&!k()&&s()),st(at,"href",g()),St(wt,"hidden",!k()&&!h(o))}),R(mt,Y)});var ft=z(bt,2);Q(ft,()=>p()&&!1,mt=>{var Y=Ca(),at=S(Y);ShareIcons(at,{get shareUrl(){return p()},get title(){return C()}}),A(Y),B(()=>St(Y,"borderless",!f()&&!k()&&!h(o))),R(mt,Y)});var ut=z(ft,2),kt=S(ut);Te(kt,mt=>I(P,mt),()=>h(P));var ee=S(kt),we=S(ee);B(()=>pt(we,a()("copy.link",{default:"Copy Link"}))),A(ee),A(kt),A(ut),A(nt);var xt=z(nt,2);Q(xt,()=>h($)||h(H),mt=>{var Y=Ta(),at=S(Y);Q(at,()=>h(H),wt=>{var Bt=zn();B(()=>pt(Bt,a()("link.copied",{default:"Link copied to clipboard"}))),R(wt,Bt)},wt=>{var Bt=zn();B(()=>pt(Bt,a()("click.copy",{default:"Click to copy link"}))),R(wt,Bt)}),A(Y),B(()=>St(Y,"disappearing",h(H))),R(mt,Y)}),A(K);var ci=z(K,2);Q(ci,u,mt=>{var Y=Ra();Zt(Y,"source-text svelte-1ob8ko5");var at=S(Y);B(()=>pt(at,`${a()("source",{default:"Source:"})??""} `));var wt=z(at);Ft(wt,u),A(Y),R(mt,Y)}),B(()=>{St(J,"borderless",!f()||s()),St(ut,"borderless",!f()&&(!k()||_())&&!h(o))}),fe("click",kt,q),fe("mouseover",kt,L),fe("mouseout",kt,Z),R(F,j)},F=>{wa(F,{get note(){return f()},get source(){return u()},get theme(){return y()}})}),A(N),A(E),B(()=>{Zt(E,`${`${M()} vis-container ${m()?"":v()}`??""} svelte-1ob8ko5`),st(E,"style",`--goal-color : var(--color-un-sdg${i().number??""})`),St(E,"in-scroller",m()===!0),St(E,"is-screenshotting",r())}),Gn(W,"clientWidth",F=>I(T,F)),Gn(W,"clientHeight",F=>I(O,F)),R(t,E),Wt()}const Rt=[];let Pe;if(typeof window<"u"){const t=()=>Rt.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((n,r)=>{n.forEach(i=>{const a=t.get(i.target),s=Rt.indexOf(a);i.isIntersecting?s===-1&&Rt.push(a):(a(),s!==-1&&Rt.splice(s,1))})},{rootMargin:"0px 0px"});Pe={add:({outer:n,update:r})=>{const{top:i,bottom:a}=n.getBoundingClientRect();i<window.innerHeight&&a>0&&Rt.push(r),t.set(n,r),e.observe(n)},remove:({outer:n,update:r})=>{const i=Rt.indexOf(r);i!==-1&&Rt.splice(i,1),t.delete(n),e.unobserve(n)}}}else Pe={add:({update:t})=>{Rt.push(t)},remove:({update:t})=>{const e=Rt.indexOf(t);e!==-1&&Rt.splice(e,1)}};var Ia=G("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);function Oa(t,e){Gt(e,!1);const n=V(),r=V(),i=V(),a=V(),s=V();let o=b(e,"top",8,0),l=b(e,"bottom",8,1),c=b(e,"threshold",8,.5),u=b(e,"query",8,"section"),f=b(e,"parallax",8,!1),d=b(e,"expected",8),v=b(e,"index",12,0),_=b(e,"count",12,0),m=b(e,"offset",12,0),y=b(e,"progress",12,0),k=b(e,"visible",12,!1),p=V(),g=V(),C=V(),M,T,O=V(0),w=V(),D=V(0),$=V(1);function H(){var N;_()||(T=(N=h(g))==null?void 0:N.querySelectorAll(u()),T&&T.length===d()?(_(T.length),X()):setTimeout(H,1250))}Er(()=>{H();const N={outer:h(p),update:X};return Pe.add(N),()=>Pe.remove(N)});function X(){if(!h(g))return;const N=h(p).getBoundingClientRect();M=N.left,I($,N.right-M);const U=h(g).getBoundingClientRect(),W=h(C).getBoundingClientRect();k(U.top<h(O)&&U.bottom>0);const ot=U.bottom-U.top,lt=W.bottom-W.top,ct=h(r)-h(n);y((h(n)-U.top)/(ot-ct)),y()<=0?(I(D,0),I(w,!1)):y()>=1?(I(D,f()?ot-lt:ot-ct),I(w,!1)):(I(D,f()?Math.round(h(n)-y()*(lt-ct)):h(n)),I(w,!0));for(let F=0;F<T.length;(F+=1)-1){const j=T[F],{top:K}=j.getBoundingClientRect(),et=T[F+1],nt=et?et.getBoundingClientRect().top:U.bottom;if(m((h(i)-K)/(nt-K)),nt>=h(i)){v(F);break}}}gt(()=>(it(o()),h(O)),()=>{I(n,Math.round(o()*h(O)))}),gt(()=>(it(l()),h(O)),()=>{I(r,Math.round(l()*h(O)))}),gt(()=>(it(c()),h(O)),()=>{I(i,Math.round(c()*h(O)))}),gt(()=>(it(o()),it(l()),it(c()),it(f())),()=>{o(),l(),c(),f(),X()}),gt(()=>(h(w),h(D)),()=>{I(a,`
		position: ${h(w)?"fixed":"absolute"};
    /* override with sticky if supported: */
    position: sticky;
		top: 0;
		transform: translate(0, ${typeof CSS<"u"&&CSS.supports&&CSS.supports("position","sticky")?0:h(D)}px);
		z-index: 1;
	`)}),gt(()=>(h(w),h($)),()=>{I(s,h(w)?`width:${h($)}px;`:"")}),Sn(),te();var P=Ia();Te(P,N=>I(p,N),()=>h(p)),ie(P,"class","svelte-xdbafy");var tt=S(P);ie(tt,"class","background-container svelte-xdbafy");var q=S(tt);Te(q,N=>I(C,N),()=>h(C)),ie(q,"class","svelte-xdbafy");var L=S(q);Yt(L,e,"background",{}),A(q),A(tt);var Z=z(tt,2);Te(Z,N=>I(g,N),()=>h(g)),ie(Z,"class","svelte-xdbafy");var E=S(Z);Yt(E,e,"foreground",{}),A(Z),A(P),B(()=>ie(tt,"style",`${h(a)??""}${h(s)??""}`)),Gi("innerHeight",N=>I(O,N)),R(t,P),Wt()}var Da=G('<div class="left svelte-99ar8n" slot="background"><!></div>'),Ha=G('<div class="right svelte-99ar8n" slot="foreground"><div class="right-inner svelte-99ar8n"><!></div></div>'),La=G("<p> <!></p>"),Pa=G('<div><div class="scroller-container svelte-99ar8n"><!> <!></div></div>');function Zn(t,e){Gt(e,!1);const n=ge(),r=()=>Nt(An,"$activeGoal",n),i=()=>Nt(Nn,"$isScreenshotting",n),a=()=>Nt(En,"$_",n),s=V(),o=V();let l=b(e,"data",8),c=b(e,"title",8),u=b(e,"subtitle",8),f=b(e,"source",8),d=b(e,"note",8),v=b(e,"graphic",8),_=b(e,"visdescription",8),m=b(e,"theme",8,"light"),y=b(e,"visSize",8,"default"),k=b(e,"publish_progress",8,!1),p=b(e,"scenes",24,()=>[]),g=b(e,"dataDownloadUrl",8);b(e,"shareUrl",8),b(e,"shareImg",8);let C=b(e,"shareTitle",8),M=V(0),T=V(c()),O=V(u()),w=V(f()),D=V(d()),$=V(0),H=V(0),X=V();gt(()=>(it(k()),h($),h(M),it(p()),h(H)),()=>{var E,N;k()&&I(X,{progress:h($),index:h(M),id:(N=(E=p())==null?void 0:E[h(M)])==null?void 0:N.id,offset:h(H)})}),gt(()=>(it(k()),h(M),it(p())),()=>{var E,N;k()||I(X,{index:h(M),id:(N=(E=p())==null?void 0:E[h(M)])==null?void 0:N.id})}),gt(()=>(it(p()),h(X)),()=>{var E;I(s,(E=p()[h(X).index])==null?void 0:E.shareUrl)}),gt(()=>(it(p()),h(X)),()=>{var E;I(o,(E=p()[h(X).index])==null?void 0:E.shareImg)}),gt(()=>(h(M),it(p()),it(c()),it(u()),it(f()),it(d())),()=>{var ot,lt,ct,F,j,K,et,nt,J,rt,bt,ft,ut,kt,ee,we;let E,N,U,W;for(let xt=h(M);xt>=0;xt+=-1)!E&&((lt=(ot=p())==null?void 0:ot[xt])!=null&&lt.title)&&(E=(F=(ct=p())==null?void 0:ct[xt])==null?void 0:F.title),!N&&((K=(j=p())==null?void 0:j[xt])!=null&&K.subtitle)&&(N=(nt=(et=p())==null?void 0:et[xt])==null?void 0:nt.subtitle),!U&&((rt=(J=p())==null?void 0:J[xt])!=null&&rt.source)&&(U=(ft=(bt=p())==null?void 0:bt[xt])==null?void 0:ft.source),!W&&((kt=(ut=p())==null?void 0:ut[xt])!=null&&kt.note)&&(W=(we=(ee=p())==null?void 0:ee[xt])==null?void 0:we.note);E||(E=c()),N||(N=u()),U||(U=f()),W||(W=d()),I(T,E),I(O,N),I(w,U),I(D,W)}),Sn(),te();var P=Pa(),tt=S(P),q=S(tt),L=Ii(()=>{var E;return(E=p())==null?void 0:E.length});Oa(q,{get index(){return h(M)},set index(E){I(M,E)},query:".scene",get expected(){return h(L)},get progress(){return h($)},set progress(E){I($,E)},get offset(){return h(H)},set offset(E){I(H,E)},$$slots:{background:(E,N)=>{var U=Da(),W=S(U);dn(W,{get title(){return h(T)},get subtitle(){return h(O)},get source(){return h(w)},get note(){return h(D)},get visdescription(){return _()},get dataDownloadUrl(){return g()},get shareUrl(){return h(s)},get shareImg(){return h(o)},get shareTitle(){return C()},get graphic(){return v()},inScroller:!0,get theme(){return m()},$$slots:{graphic:(ot,lt)=>{var ct=Tt(),F=ht(ct);Yt(F,e,"graphic",{get activeScene(){return h(X)},get data(){return l()}}),R(ot,ct)}}}),A(U),B(()=>St(U,"screenshot",i())),R(E,U)},foreground:(E,N)=>{var U=Ha(),W=S(U),ot=S(W);Yt(ot,e,"scenes",{get activeScene(){return h(X)}}),A(W),A(U),R(E,U)}},$$legacy:!0});var Z=z(q,2);Q(Z,f,E=>{var N=La();Zt(N,"source-text svelte-99ar8n");var U=S(N);B(()=>pt(U,`${a()("source",{default:"Source:"})??""} `));var W=z(U);Ft(W,f),A(N),R(E,N)}),A(tt),A(P),B(()=>{Zt(P,`${"side-by-side layout-full "+m()+" "+y()} svelte-99ar8n`),st(P,"style",`--goal-color : var(--color-un-sdg${r().number??""})`)}),R(t,P),Wt()}var Ua=Nr('<text x="10" y="30"> </text>'),Fa=Nr('<svg class="simple-vis svelte-1ngoytk"><!><text x="10" y="60"> </text></svg>');function Ba(t,e){Gt(e,!1);let n=b(e,"data",8),r=b(e,"activeScene",8);te();var i=Fa(),a=S(i);Q(a,n,l=>{var c=Ua(),u=S(c);A(c),B(()=>{var f;return pt(u,(f=n())==null?void 0:f.length)}),R(l,c)});var s=z(a),o=S(s);A(s),A(i),B(()=>{var l,c;return pt(o,`scene: #${((l=r())==null?void 0:l.index)??""} ${((c=r())==null?void 0:c.id)??""}`)}),R(t,i),Wt()}const Qn={wide_scroller:Zn,scroller:Zn,visContainer:dn,vis:dn,text:ca,scene:oa,simplevis:Ba},Se=(t,e=!0)=>e?Qn.hasOwnProperty(t)?Qn[t]:ua:Dr;function Hr(t,e=!1){let[n,...r]=t.split(".");return e&&t.includes("scenes")?r=r.slice(0,r.length-3).join("").replace(/\#/g,"").replace("content","c").replace("translationPrefix",""):r=r.join("").replace(/\#/g,"").replace("content","c").replace("scenes","s").replace("translationPrefix",""),{goalNumberPrefix:n,contentId:r}}let qa=0;function Ie(t,e=!1,n,r){const i="translationPrefix",a="shareUrl",s="shareImg",o="anchorKey";if(Array.isArray(t))return t.map(c=>Ie(c,e,n,r));const l=t[i];return!l&&!e?t:Object.keys(t).reduce((c,u)=>{var v,_;if(typeof t[u]=="object")return Array.isArray(t[u])?c[u]=t[u].map(m=>Ie(m,e,n,r)):c[u]=Ie(t[u],e,n,r),c;const f=e?u:`${l}.${u}`;let d=""+n(f);if(f.endsWith(i)&&((t==null?void 0:t.type)==="vis"||(v=t==null?void 0:t.type)!=null&&v.startsWith("scene"))){const{goalNumberPrefix:m,contentId:y}=Hr(f,!1);t[a]=`${r.origin+r.pathname}?lang=${hn}#${y}`,t[s]=`https://${Hi.shareHostname}/${hn}/${m}/${y}.png`,t[o]=y}if(!e&&d===f)c[u]=t[u];else{const m=/(\[)|(\])/gim;if(e)if(t[u]&&typeof t[u]=="string")d=t[u];else return c[u]=t[u],c;const y=d.split(m).filter(w=>w&&w!=='""');let k=[];const p={type:"text",value:[]};let g=p,C=!1,M=!0;k.push(g);for(let w=0;w<y.length;w++){let D=y[w];if(D.startsWith("["))C=!0;else if(D.startsWith("]")&&k.length>1)M?(k.pop(),g=k[k.length-1]):(M=!0,g.value.push("]"));else{if(C){const $=(_=D.match(/(\w+): /))==null?void 0:_[1];if($){M=!0;let H={type:$,value:[]};g.value.push(H),g=H,k.push(H),D=D.replace(`${$}: `,"")}else D="["+D,M=!1;C=!1}D.length>0&&g.value.push(D)}}g=p;let T=[];const O=w=>{var H;if(typeof w=="string")return w;let D=!1,$="";if(Array.isArray(w.value)){if(w.type==="link"){let[q,...L]=w.value[0].trim().split(" ");return L=L.join(" "),w.value.length>1&&(L+=(H=w.value.slice(1))==null?void 0:H.join("")),`<a href='${q}' title='${L}' target='blank'>${L}</a>`}const X=`${w.type}_`+new Date().getTime()+qa++;let P,tt=!1;if(w.type==="emphasis")$+='<span class="emphasis">';else if(w.type==="footnote")$+=`<div class="summary"> <div class="bg" aria-label="footnote"><label class="footnote" aria-hidden="true" for='${X}'>i</label></div><input type="checkbox" role="switch" aria-label="read footnote" id='${X}'/><div class="details">`;else if(w.type==="chapterlink"){const[q,...L]=w.value[0].trim().split(" ");$+=`<a href="${generateChapterURL(q)}">${L.join(" ")}</a>`,T.push(+q),D=!0}else if(w.type==="chapterurl"){const[q,...L]=w.value[0].trim().split(" ");$+=r.href,T.push(+q),D=!0}else if(w.type==="target"||w.type==="goal"){const[q,...L]=w.value[0].trim().split(" "),[Z,...E]=q.split(".");let N;w.type==="target"?(N=n("base.sdg")+" "+n("base.target")+" ",N==="base.sdg base.target "&&(N="SDG Target ")):(N=n("base.sdg")+" ",N==="base.sdg "&&(N="SDG ")),T.push(Z),$+=`<div class="summary targ" style="--sdg-color: var(--color-un-sdg${Z}); --sdg-text-color: var(--color-un-text-sdg${Z})"
              onmouseenter="window.sdga2023_highlightGoal(${Z})"
              onmouseleave="window.sdga2023_lowlightGoal(${Z})"
              ><input type="checkbox" id='${X}' aria-hidden="true" /><label class="unstyled" for='${X}'><p class="goal-target">${N}<span class="goal">${Z}${E.length>0?`.</span><span class="target">${E.join(".")}</span>`:"</span>"}</p></label><p class="details goal-details"><span class="target">${n("target."+q)}</span></p></div>`,D=!0}else if(w.type==="reference"){const q=JSON.stringify(w.value).replace(/[\s\,\"]/g,"");let L=references.map(Z=>Z==null?void 0:Z.text).indexOf(q);L===-1?(P={text:q,index:references.length,formatted:""},tt=!0):P=references[L],$+=`<div class="summary reference ${P.index+1>9?"wide":""}"><div class="bg" aria-label="reference ${P.index+1}"><label for='${X}' aria-hidden="true">${P.index+1}</label></div><input type="checkbox" role="switch" aria-label="read reference" id='${X}'/><div class="details">`}D||w.value.forEach(q=>{const L=O(q);$+=L,tt&&(P.formatted+=L)}),w.type==="emphasis"?$+="</span>":(w.type==="footnote"||w.type==="reference")&&($+="</div></div>"),tt&&(references=[...references,P])}return $};d=O(g),c[u]=d,T.length>0&&(c.highlights?c.highlights=[...c.highlights,...T]:c.highlights=T)}return c},{})}var za={value:()=>{}};function Lr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Oe(n)}function Oe(t){this._=t}function Xa(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Oe.prototype=Lr.prototype={constructor:Oe,on:function(t,e){var n=this._,r=Xa(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=Ya(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=jn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=jn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oe(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Ya(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function jn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=za,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var vn="http://www.w3.org/1999/xhtml";const tr={svg:"http://www.w3.org/2000/svg",xhtml:vn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ge(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),tr.hasOwnProperty(e)?{space:tr[e],local:t}:t}function Va(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vn&&e.documentElement.namespaceURI===vn?e.createElement(t):e.createElementNS(n,t)}}function Ga(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Pr(t){var e=Ge(t);return(e.local?Ga:Va)(e)}function Wa(){}function Cn(t){return t==null?Wa:function(){return this.querySelector(t)}}function Ja(t){typeof t!="function"&&(t=Cn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new Et(r,this._parents)}function Ka(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Za(){return[]}function Ur(t){return t==null?Za:function(){return this.querySelectorAll(t)}}function Qa(t){return function(){return Ka(t.apply(this,arguments))}}function ja(t){typeof t=="function"?t=Qa(t):t=Ur(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new Et(r,i)}function Fr(t){return function(){return this.matches(t)}}function Br(t){return function(e){return e.matches(t)}}var ts=Array.prototype.find;function es(t){return function(){return ts.call(this.children,t)}}function ns(){return this.firstElementChild}function rs(t){return this.select(t==null?ns:es(typeof t=="function"?t:Br(t)))}var is=Array.prototype.filter;function as(){return Array.from(this.children)}function ss(t){return function(){return is.call(this.children,t)}}function os(t){return this.selectAll(t==null?as:ss(typeof t=="function"?t:Br(t)))}function ls(t){typeof t!="function"&&(t=Fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Et(r,this._parents)}function qr(t){return new Array(t.length)}function cs(){return new Et(this._enter||this._groups.map(qr),this._parents)}function Ue(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ue.prototype={constructor:Ue,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fs(t){return function(){return t}}function us(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Ue(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function hs(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,f=a.length,d=new Array(u),v;for(o=0;o<u;++o)(l=e[o])&&(d[o]=v=s.call(l,l.__data__,o,e)+"",c.has(v)?i[o]=l:c.set(v,l));for(o=0;o<f;++o)v=s.call(t,a[o],o,a)+"",(l=c.get(v))?(r[o]=l,l.__data__=a[o],c.delete(v)):n[o]=new Ue(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(d[o])===l&&(i[o]=l)}function ds(t){return t.__data__}function vs(t,e){if(!arguments.length)return Array.from(this,ds);var n=e?hs:us,r=this._parents,i=this._groups;typeof t!="function"&&(t=fs(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],f=i[c],d=f.length,v=ps(t.call(u,u&&u.__data__,c,r)),_=v.length,m=o[c]=new Array(_),y=s[c]=new Array(_),k=l[c]=new Array(d);n(u,f,m,y,k,v,e);for(var p=0,g=0,C,M;p<_;++p)if(C=m[p]){for(p>=g&&(g=p+1);!(M=y[g])&&++g<_;);C._next=M||null}}return s=new Et(s,r),s._enter=o,s._exit=l,s}function ps(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gs(){return new Et(this._exit||this._groups.map(qr),this._parents)}function _s(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ms(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,d=o[l]=new Array(f),v,_=0;_<f;++_)(v=c[_]||u[_])&&(d[_]=v);for(;l<i;++l)o[l]=n[l];return new Et(o,this._parents)}function ws(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function xs(t){t||(t=ys);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new Et(i,this._parents).order()}function ys(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ks(){return Array.from(this)}function Ss(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function As(){let t=0;for(const e of this)++t;return t}function Ns(){return!this.node()}function Es(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function Cs(t){return function(){this.removeAttribute(t)}}function Ts(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rs(t,e){return function(){this.setAttribute(t,e)}}function Ms(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $s(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Is(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Os(t,e){var n=Ge(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ts:Cs:typeof e=="function"?n.local?Is:$s:n.local?Ms:Rs)(n,e))}function zr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ds(t){return function(){this.style.removeProperty(t)}}function Hs(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ls(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ps(t,e,n){return arguments.length>1?this.each((e==null?Ds:typeof e=="function"?Ls:Hs)(t,e,n??"")):Qt(this.node(),t)}function Qt(t,e){return t.style.getPropertyValue(e)||zr(t).getComputedStyle(t,null).getPropertyValue(e)}function Us(t){return function(){delete this[t]}}function Fs(t,e){return function(){this[t]=e}}function Bs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function qs(t,e){return arguments.length>1?this.each((e==null?Us:typeof e=="function"?Bs:Fs)(t,e)):this.node()[t]}function Xr(t){return t.trim().split(/^|\s+/)}function Tn(t){return t.classList||new Yr(t)}function Yr(t){this._node=t,this._names=Xr(t.getAttribute("class")||"")}Yr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Vr(t,e){for(var n=Tn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Gr(t,e){for(var n=Tn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function zs(t){return function(){Vr(this,t)}}function Xs(t){return function(){Gr(this,t)}}function Ys(t,e){return function(){(e.apply(this,arguments)?Vr:Gr)(this,t)}}function Vs(t,e){var n=Xr(t+"");if(arguments.length<2){for(var r=Tn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ys:e?zs:Xs)(n,e))}function Gs(){this.textContent=""}function Ws(t){return function(){this.textContent=t}}function Js(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ks(t){return arguments.length?this.each(t==null?Gs:(typeof t=="function"?Js:Ws)(t)):this.node().textContent}function Zs(){this.innerHTML=""}function Qs(t){return function(){this.innerHTML=t}}function js(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function to(t){return arguments.length?this.each(t==null?Zs:(typeof t=="function"?js:Qs)(t)):this.node().innerHTML}function eo(){this.nextSibling&&this.parentNode.appendChild(this)}function no(){return this.each(eo)}function ro(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function io(){return this.each(ro)}function ao(t){var e=typeof t=="function"?t:Pr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function so(){return null}function oo(t,e){var n=typeof t=="function"?t:Pr(t),r=e==null?so:typeof e=="function"?e:Cn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lo(){var t=this.parentNode;t&&t.removeChild(this)}function co(){return this.each(lo)}function fo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function uo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ho(t){return this.select(t?uo:fo)}function vo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function po(t){return function(e){t.call(this,e,this.__data__)}}function go(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function _o(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function mo(t,e,n){return function(){var r=this.__on,i,a=po(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function wo(t,e,n){var r=go(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?mo:_o,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function Wr(t,e,n){var r=zr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function xo(t,e){return function(){return Wr(this,t,e)}}function yo(t,e){return function(){return Wr(this,t,e.apply(this,arguments))}}function bo(t,e){return this.each((typeof e=="function"?yo:xo)(t,e))}function*ko(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var So=[null];function Et(t,e){this._groups=t,this._parents=e}function _e(){return new Et([[document.documentElement]],So)}function Ao(){return this}Et.prototype=_e.prototype={constructor:Et,select:Ja,selectAll:ja,selectChild:rs,selectChildren:os,filter:ls,data:vs,enter:cs,exit:gs,join:_s,merge:ms,selection:Ao,order:ws,sort:xs,call:bs,nodes:ks,node:Ss,size:As,empty:Ns,each:Es,attr:Os,style:Ps,property:qs,classed:Vs,text:Ks,html:to,raise:no,lower:io,append:ao,insert:oo,remove:co,clone:ho,datum:vo,on:wo,dispatch:bo,[Symbol.iterator]:ko};function Rn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Jr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function me(){}var ue=.7,Fe=1/ue,Jt="\\s*([+-]?\\d+)\\s*",he="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",No=/^#([0-9a-f]{3,8})$/,Eo=new RegExp(`^rgb\\(${Jt},${Jt},${Jt}\\)$`),Co=new RegExp(`^rgb\\(${Mt},${Mt},${Mt}\\)$`),To=new RegExp(`^rgba\\(${Jt},${Jt},${Jt},${he}\\)$`),Ro=new RegExp(`^rgba\\(${Mt},${Mt},${Mt},${he}\\)$`),Mo=new RegExp(`^hsl\\(${he},${Mt},${Mt}\\)$`),$o=new RegExp(`^hsla\\(${he},${Mt},${Mt},${he}\\)$`),er={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rn(me,de,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nr,formatHex:nr,formatHex8:Io,formatHsl:Oo,formatRgb:rr,toString:rr});function nr(){return this.rgb().formatHex()}function Io(){return this.rgb().formatHex8()}function Oo(){return Kr(this).formatHsl()}function rr(){return this.rgb().formatRgb()}function de(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=No.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ir(e):n===3?new _t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ae(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ae(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Eo.exec(t))?new _t(e[1],e[2],e[3],1):(e=Co.exec(t))?new _t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=To.exec(t))?Ae(e[1],e[2],e[3],e[4]):(e=Ro.exec(t))?Ae(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Mo.exec(t))?or(e[1],e[2]/100,e[3]/100,1):(e=$o.exec(t))?or(e[1],e[2]/100,e[3]/100,e[4]):er.hasOwnProperty(t)?ir(er[t]):t==="transparent"?new _t(NaN,NaN,NaN,0):null}function ir(t){return new _t(t>>16&255,t>>8&255,t&255,1)}function Ae(t,e,n,r){return r<=0&&(t=e=n=NaN),new _t(t,e,n,r)}function Do(t){return t instanceof me||(t=de(t)),t?(t=t.rgb(),new _t(t.r,t.g,t.b,t.opacity)):new _t}function pn(t,e,n,r){return arguments.length===1?Do(t):new _t(t,e,n,r??1)}function _t(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Rn(_t,pn,Jr(me,{brighter(t){return t=t==null?Fe:Math.pow(Fe,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ue:Math.pow(ue,t),new _t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _t(Xt(this.r),Xt(this.g),Xt(this.b),Be(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ar,formatHex:ar,formatHex8:Ho,formatRgb:sr,toString:sr}));function ar(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}`}function Ho(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}${zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function sr(){const t=Be(this.opacity);return`${t===1?"rgb(":"rgba("}${Xt(this.r)}, ${Xt(this.g)}, ${Xt(this.b)}${t===1?")":`, ${t})`}`}function Be(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zt(t){return t=Xt(t),(t<16?"0":"")+t.toString(16)}function or(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new At(t,e,n,r)}function Kr(t){if(t instanceof At)return new At(t.h,t.s,t.l,t.opacity);if(t instanceof me||(t=de(t)),!t)return new At;if(t instanceof At)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new At(s,o,l,t.opacity)}function Lo(t,e,n,r){return arguments.length===1?Kr(t):new At(t,e,n,r??1)}function At(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rn(At,Lo,Jr(me,{brighter(t){return t=t==null?Fe:Math.pow(Fe,t),new At(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ue:Math.pow(ue,t),new At(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _t(nn(t>=240?t-240:t+120,i,r),nn(t,i,r),nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new At(lr(this.h),Ne(this.s),Ne(this.l),Be(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Be(this.opacity);return`${t===1?"hsl(":"hsla("}${lr(this.h)}, ${Ne(this.s)*100}%, ${Ne(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lr(t){return t=(t||0)%360,t<0?t+360:t}function Ne(t){return Math.max(0,Math.min(1,t||0))}function nn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Zr=t=>()=>t;function Po(t,e){return function(n){return t+n*e}}function Uo(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Fo(t){return(t=+t)==1?Qr:function(e,n){return n-e?Uo(e,n,t):Zr(isNaN(e)?n:e)}}function Qr(t,e){var n=e-t;return n?Po(t,n):Zr(isNaN(t)?e:t)}const cr=function t(e){var n=Fo(e);function r(i,a){var s=n((i=pn(i)).r,(a=pn(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=Qr(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Pt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(gn.source,"g");function Bo(t){return function(){return t}}function qo(t){return function(e){return t(e)+""}}function zo(t,e){var n=gn.lastIndex=rn.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=gn.exec(t))&&(i=rn.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Pt(r,i)})),n=rn.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?qo(l[0].x):Bo(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}var fr=180/Math.PI,_n={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jr(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*fr,skewX:Math.atan(l)*fr,scaleX:s,scaleY:o}}var Ee;function Xo(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_n:jr(e.a,e.b,e.c,e.d,e.e,e.f)}function Yo(t){return t==null||(Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","g")),Ee.setAttribute("transform",t),!(t=Ee.transform.baseVal.consolidate()))?_n:(t=t.matrix,jr(t.a,t.b,t.c,t.d,t.e,t.f))}function ti(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,f,d,v,_){if(c!==f||u!==d){var m=v.push("translate(",null,e,null,n);_.push({i:m-4,x:Pt(c,f)},{i:m-2,x:Pt(u,d)})}else(f||d)&&v.push("translate("+f+e+d+n)}function s(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Pt(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function o(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Pt(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,v,_){if(c!==f||u!==d){var m=v.push(i(v)+"scale(",null,",",null,")");_.push({i:m-4,x:Pt(c,f)},{i:m-2,x:Pt(u,d)})}else(f!==1||d!==1)&&v.push(i(v)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,f,d),s(c.rotate,u.rotate,f,d),o(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(v){for(var _=-1,m=d.length,y;++_<m;)f[(y=d[_]).i]=y.x(v);return f.join("")}}}var Vo=ti(Xo,"px, ","px)","deg)"),Go=ti(Yo,", ",")",")"),jt=0,oe=0,ae=0,ei=1e3,qe,le,ze=0,Vt=0,We=0,ve=typeof performance=="object"&&performance.now?performance:Date,ni=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mn(){return Vt||(ni(Wo),Vt=ve.now()+We)}function Wo(){Vt=0}function Xe(){this._call=this._time=this._next=null}Xe.prototype=ri.prototype={constructor:Xe,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Mn():+n)+(e==null?0:+e),!this._next&&le!==this&&(le?le._next=this:qe=this,le=this),this._call=t,this._time=n,mn()},stop:function(){this._call&&(this._call=null,this._time=1/0,mn())}};function ri(t,e,n){var r=new Xe;return r.restart(t,e,n),r}function Jo(){Mn(),++jt;for(var t=qe,e;t;)(e=Vt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jt}function ur(){Vt=(ze=ve.now())+We,jt=oe=0;try{Jo()}finally{jt=0,Zo(),Vt=0}}function Ko(){var t=ve.now(),e=t-ze;e>ei&&(We-=e,ze=t)}function Zo(){for(var t,e=qe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qe=n);le=t,mn(r)}function mn(t){if(!jt){oe&&(oe=clearTimeout(oe));var e=t-Vt;e>24?(t<1/0&&(oe=setTimeout(ur,t-ve.now()-We)),ae&&(ae=clearInterval(ae))):(ae||(ze=ve.now(),ae=setInterval(Ko,ei)),jt=1,ni(ur))}}function hr(t,e,n){var r=new Xe;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Qo=Lr("start","end","cancel","interrupt"),jo=[],ii=0,dr=1,wn=2,De=3,vr=4,xn=5,He=6;function Je(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;tl(t,n,{name:e,index:r,group:i,on:Qo,tween:jo,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ii})}function $n(t,e){var n=Ct(t,e);if(n.state>ii)throw new Error("too late; already scheduled");return n}function $t(t,e){var n=Ct(t,e);if(n.state>De)throw new Error("too late; already running");return n}function Ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function tl(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ri(a,0,n.time);function a(c){n.state=dr,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,d,v;if(n.state!==dr)return l();for(u in r)if(v=r[u],v.name===n.name){if(v.state===De)return hr(s);v.state===vr?(v.state=He,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[u]):+u<e&&(v.state=He,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[u])}if(hr(function(){n.state===De&&(n.state=vr,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=wn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===wn){for(n.state=De,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(v=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=v);i.length=f+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=xn,1),f=-1,d=i.length;++f<d;)i[f].call(t,u);n.state===xn&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=He,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function el(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>wn&&r.state<xn,r.state=He,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function nl(t){return this.each(function(){el(this,t)})}function rl(t,e){var n,r;return function(){var i=$t(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function il(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=$t(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function al(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ct(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?rl:il)(n,t,e))}function In(t,e,n){var r=t._id;return t.each(function(){var i=$t(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ct(i,r).value[e]}}function ai(t,e){var n;return(typeof e=="number"?Pt:e instanceof de?cr:(n=de(e))?(e=n,cr):zo)(t,e)}function sl(t){return function(){this.removeAttribute(t)}}function ol(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ll(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function cl(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function fl(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function ul(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function hl(t,e){var n=Ge(t),r=n==="transform"?Go:ai;return this.attrTween(t,typeof e=="function"?(n.local?ul:fl)(n,r,In(this,"attr."+t,e)):e==null?(n.local?ol:sl)(n):(n.local?cl:ll)(n,r,e))}function dl(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function vl(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function pl(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&vl(t,a)),n}return i._value=e,i}function gl(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&dl(t,a)),n}return i._value=e,i}function _l(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ge(t);return this.tween(n,(r.local?pl:gl)(r,e))}function ml(t,e){return function(){$n(this,t).delay=+e.apply(this,arguments)}}function wl(t,e){return e=+e,function(){$n(this,t).delay=e}}function xl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ml:wl)(e,t)):Ct(this.node(),e).delay}function yl(t,e){return function(){$t(this,t).duration=+e.apply(this,arguments)}}function bl(t,e){return e=+e,function(){$t(this,t).duration=e}}function kl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?yl:bl)(e,t)):Ct(this.node(),e).duration}function Sl(t,e){if(typeof e!="function")throw new Error;return function(){$t(this,t).ease=e}}function Al(t){var e=this._id;return arguments.length?this.each(Sl(e,t)):Ct(this.node(),e).ease}function Nl(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;$t(this,t).ease=n}}function El(t){if(typeof t!="function")throw new Error;return this.each(Nl(this._id,t))}function Cl(t){typeof t!="function"&&(t=Fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Dt(r,this._parents,this._name,this._id)}function Tl(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,f=s[o]=new Array(u),d,v=0;v<u;++v)(d=l[v]||c[v])&&(f[v]=d);for(;o<r;++o)s[o]=e[o];return new Dt(s,this._parents,this._name,this._id)}function Rl(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ml(t,e,n){var r,i,a=Rl(e)?$n:$t;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function $l(t,e){var n=this._id;return arguments.length<2?Ct(this.node(),n).on.on(t):this.each(Ml(n,t,e))}function Il(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ol(){return this.on("end.remove",Il(this._id))}function Dl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Cn(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,f,d=0;d<l;++d)(u=o[d])&&(f=t.call(u,u.__data__,d,o))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,Je(c[d],e,n,d,c,Ct(u,n)));return new Dt(a,this._parents,e,n)}function Hl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ur(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=t.call(u,u.__data__,f,l),v,_=Ct(u,n),m=0,y=d.length;m<y;++m)(v=d[m])&&Je(v,e,n,m,d,_);a.push(d),s.push(u)}return new Dt(a,s,e,n)}var Ll=_e.prototype.constructor;function Pl(){return new Ll(this._groups,this._parents)}function Ul(t,e){var n,r,i;return function(){var a=Qt(this,t),s=(this.style.removeProperty(t),Qt(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function si(t){return function(){this.style.removeProperty(t)}}function Fl(t,e,n){var r,i=n+"",a;return function(){var s=Qt(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function Bl(t,e,n){var r,i,a;return function(){var s=Qt(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Qt(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function ql(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=$t(this,t),c=l.on,u=l.value[a]==null?o||(o=si(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function zl(t,e,n){var r=(t+="")=="transform"?Vo:ai;return e==null?this.styleTween(t,Ul(t,r)).on("end.style."+t,si(t)):typeof e=="function"?this.styleTween(t,Bl(t,r,In(this,"style."+t,e))).each(ql(this._id,t)):this.styleTween(t,Fl(t,r,e),n).on("end.style."+t,null)}function Xl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Yl(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Xl(t,s,n)),r}return a._value=e,a}function Vl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Yl(t,e,n??""))}function Gl(t){return function(){this.textContent=t}}function Wl(t){return function(){var e=t(this);this.textContent=e??""}}function Jl(t){return this.tween("text",typeof t=="function"?Wl(In(this,"text",t)):Gl(t==null?"":t+""))}function Kl(t){return function(e){this.textContent=t.call(this,e)}}function Zl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Kl(i)),e}return r._value=t,r}function Ql(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Zl(t))}function jl(){for(var t=this._name,e=this._id,n=oi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=Ct(l,e);Je(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Dt(r,this._parents,t,n)}function tc(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=$t(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var ec=0;function Dt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function oi(){return++ec}var Ot=_e.prototype;Dt.prototype={constructor:Dt,select:Dl,selectAll:Hl,selectChild:Ot.selectChild,selectChildren:Ot.selectChildren,filter:Cl,merge:Tl,selection:Pl,transition:jl,call:Ot.call,nodes:Ot.nodes,node:Ot.node,size:Ot.size,empty:Ot.empty,each:Ot.each,on:$l,attr:hl,attrTween:_l,style:zl,styleTween:Vl,text:Jl,textTween:Ql,remove:Ol,tween:al,delay:xl,duration:kl,ease:Al,easeVarying:El,end:tc,[Symbol.iterator]:Ot[Symbol.iterator]};function nc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var rc={time:null,delay:0,duration:250,ease:nc};function ic(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ac(t){var e,n;t instanceof Dt?(e=t._id,t=t._name):(e=oi(),(n=rc).time=Mn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&Je(l,t,e,c,s,n||ic(l,e));return new Dt(r,this._parents,t,e)}_e.prototype.interrupt=nl;_e.prototype.transition=ac;var pr={},an={},sn=34,se=10,on=13;function li(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function sc(t,e){var n=li(t);return function(r,i){return e(n(r),i,t)}}function gr(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function vt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function oc(t){return t<0?"-"+vt(-t,6):t>9999?"+"+vt(t,6):vt(t,4)}function lc(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":oc(t.getUTCFullYear())+"-"+vt(t.getUTCMonth()+1,2)+"-"+vt(t.getUTCDate(),2)+(i?"T"+vt(e,2)+":"+vt(n,2)+":"+vt(r,2)+"."+vt(i,3)+"Z":r?"T"+vt(e,2)+":"+vt(n,2)+":"+vt(r,2)+"Z":n||e?"T"+vt(e,2)+":"+vt(n,2)+"Z":"")}function cc(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(f,d){var v,_,m=i(f,function(y,k){if(v)return v(y,k-1);_=y,v=d?sc(y,d):li(y)});return m.columns=_||[],m}function i(f,d){var v=[],_=f.length,m=0,y=0,k,p=_<=0,g=!1;f.charCodeAt(_-1)===se&&--_,f.charCodeAt(_-1)===on&&--_;function C(){if(p)return an;if(g)return g=!1,pr;var T,O=m,w;if(f.charCodeAt(O)===sn){for(;m++<_&&f.charCodeAt(m)!==sn||f.charCodeAt(++m)===sn;);return(T=m)>=_?p=!0:(w=f.charCodeAt(m++))===se?g=!0:w===on&&(g=!0,f.charCodeAt(m)===se&&++m),f.slice(O+1,T-1).replace(/""/g,'"')}for(;m<_;){if((w=f.charCodeAt(T=m++))===se)g=!0;else if(w===on)g=!0,f.charCodeAt(m)===se&&++m;else if(w!==n)continue;return f.slice(O,T)}return p=!0,f.slice(O,_)}for(;(k=C())!==an;){for(var M=[];k!==pr&&k!==an;)M.push(k),k=C();d&&(M=d(M,y++))==null||v.push(M)}return v}function a(f,d){return f.map(function(v){return d.map(function(_){return u(v[_])}).join(t)})}function s(f,d){return d==null&&(d=gr(f)),[d.map(u).join(t)].concat(a(f,d)).join(`
`)}function o(f,d){return d==null&&(d=gr(f)),a(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(t)}function u(f){return f==null?"":f instanceof Date?lc(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:l,formatRow:c,formatValue:u}}var fc=cc("	"),uc=fc.parse;function ce(t,e,n){this.k=t,this.x=e,this.y=n}ce.prototype={constructor:ce,scale:function(t){return t===1?this:new ce(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ce(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ce.prototype;var hc=G("<a></a>"),dc=G('<!> <div class="observer navigation-highlights"></div> <!>',1);function Ac(t,e){Gt(e,!0),ge();let n=b(e,"data",7),r=Bn(null);const i="https://www.boredchess.club/sdga2025/data";Er(()=>{var g;const p=async()=>{var w,D,$,H;const M=await(await fetch(`${i}/${(w=n())==null?void 0:w.goal}/${(D=n())==null?void 0:D.goal}.json`)).json();console.log(M),n({...n(),...M});const O=await(await fetch(`${i}/${($=n())==null?void 0:$.goal}/${(H=n())==null?void 0:H.goal}.en.i18n.json`)).json();I(r,re(O))};console.log(n()),n()&&((g=n())!=null&&g.goal)&&!n().content&&p()});const a=p=>h(r).hasOwnProperty(p)?h(r)[p]:p,s={origin:"",pathname:"",href:""};let o=dt(()=>{var p;return(p=n())!=null&&p.content&&h(r)?Ie(n(),!1,a,s):null}),l=re({});const c=async p=>{f[p]=[],l[p]=new Promise(async(g,C)=>{var M;try{const O=await(await fetch(`${i}/${(M=n())==null?void 0:M.goal}/${p}.tsv`)).text(),w=uc(O);f[p]=w,g(w)}catch(T){C(T)}})},u=p=>{if(Array.isArray(p))for(let g of p)u(g);else typeof p=="object"&&(p.type==="data"&&c(p.data),Object.values(p).forEach(g=>{u(g)}))};let f=re({});Oi(()=>{h(o)&&(console.log("fetching data"),u(h(o)))});let d=dt(()=>{var p;return(p=n())==null?void 0:p.goal}),v=Bn(re([]));function _(p){h(v).indexOf(p)===-1&&I(v,re([...h(v),p]))}function m(p){}var y=Tt(),k=ht(y);Q(k,()=>h(o),p=>{var g=Tt(),C=ht(g);Xn(C,17,()=>h(o).content,Pi,(M,T,O)=>{var w=Tt(),D=ht(w);Q(D,()=>Array.isArray(h(T)),$=>{var H=Tt();const X=dt(()=>h(T).find(L=>L.hasOwnProperty("vis")).vis),P=dt(()=>h(T).find(L=>(L==null?void 0:L.type)==="data")),tt=dt(()=>Se("wide_scroller",!0));var q=ht(H);xe(q,()=>h(tt),(L,Z)=>{Z(L,ye(()=>h(T),{get graphic(){return h(X)},get shareTitle(){return h(d)},$$slots:{graphic:(E,N)=>{const U=dt(()=>N.activeScene),W=dt(()=>N.parentWidth),ot=dt(()=>N.parentHeight);var lt=Tt(),ct=ht(lt);Q(ct,()=>h(X),F=>{var j=Tt();const K=dt(()=>Se(h(X)));var et=ht(j),nt=dt(()=>{var J,rt;return f.hasOwnProperty((J=h(P))==null?void 0:J.data)?Li(f[(rt=h(P))==null?void 0:rt.data]):[]});xe(et,()=>h(K),(J,rt)=>{rt(J,ye(()=>h(T),{get type(){return h(X)},get activeScene(){return h(U)},get parentWidth(){return h(W)},get parentHeight(){return h(ot)},get data(){return h(nt)}}))}),R(F,j)}),R(E,lt)},scenes:(E,N)=>{var U=Tt();const W=dt(()=>Object.values(h(T).filter(lt=>(lt==null?void 0:lt.type)==="scene")));var ot=ht(U);Q(ot,()=>h(W),lt=>{var ct=Tt(),F=ht(ct);Xn(F,19,()=>h(W),(j,K)=>{var et;return((et=n())==null?void 0:et.goal)+O+"-"+K},(j,K)=>{var et=dc();const nt=dt(()=>Se(h(K).type));var J=ht(et);Q(J,()=>{var ft;return(ft=h(o))==null?void 0:ft.translationPrefix},ft=>{var ut=hc();B(()=>st(ut,"name",Hr(h(K).translationPrefix).contentId)),R(ft,ut)});var rt=z(J,2),bt=z(rt,2);xe(bt,()=>h(nt),(ft,ut)=>{ut(ft,ye(()=>h(K),{get text(){return h(K).text},get type(){return h(K).type}}))}),qi(rt,(ft,ut)=>ra(ft,ut),()=>({rootMargin:"50% 0px 0% 0px"})),Le(()=>fe("enter",rt,()=>{_(O)})),Le(()=>fe("leave",rt,()=>{h(K)})),R(j,et)}),R(lt,ct)}),R(E,U)}}}))}),R($,H)},$=>{var H=Tt();const X=dt(()=>Se(h(T).type,!0));var P=ht(H),tt=dt(()=>!0);xe(P,()=>h(X),(q,L)=>{L(q,ye({get onScreen(){return h(tt)}},()=>h(T)))}),R($,H)}),R(M,w)}),R(p,g)}),R(t,y),Wt()}export{Ac as component,Sc as universal};
