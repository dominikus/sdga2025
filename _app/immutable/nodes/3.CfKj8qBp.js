var vr=Object.defineProperty;var Et=t=>{throw TypeError(t)};var fr=(t,e,r)=>e in t?vr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ct=(t,e,r)=>fr(t,typeof e!="symbol"?e+"":e,r),it=(t,e,r)=>e.has(t)||Et("Cannot "+r);var Ee=(t,e,r)=>(it(t,e,"read from private field"),r?r.call(t):e.get(t)),Ge=(t,e,r)=>e.has(t)?Et("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ot=(t,e,r,s)=>(it(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),It=(t,e,r)=>(it(t,e,"access private method"),r);import{l as pe,m as ut,a1 as Yt,z as ur,N as Jt,a5 as hr,a6 as Ot,G as Ke,F as lt,I as Re,J as gr,a2 as Vt,Q as mt,a3 as pr,ar as ct,R as Tt,as as At,at as bt,au as _r,v as mr,X as Mt,av as xt,aw as br,M as xr,ax as wr,ay as Xt,D as $t,C as Qt,P as yr,az as Kt,A as kr,aA as Sr,K as Er,E as Cr,a7 as rt,b as Zt,a8 as Ir,e as ae,x as Or,aB as Tr,a0 as Rt,aC as Ar,q as Mr,aD as Rr,j as _,s as F,k as m,t as B,p as Ne,i as Le,h as le,n as Dr,aE as de,aF as wt,g as a,w as A,aG as Y,ae as Nr,a as Lr,aq as Dt,f as ge}from"../chunks/runtime.DmHyMomh.js";import{b as Nt,e as Hr,a as C,t as V,d as Lt,c as we,n as jt}from"../chunks/disclose-version.oG7i7Xc1.js";import{s as ce,e as We}from"../chunks/render.BRpGQGp_.js";import{p,i as K,b as Ze,a as dt,c as Je,s as Ve}from"../chunks/props.QEGb6I9y.js";import{s as qe,a as be}from"../chunks/store.oB27NE0w.js";import{o as er}from"../chunks/index-client.BWMC5zQm.js";import{s as De,v as Pr}from"../chunks/variables.CXog_YeY.js";import{b as je,w as tr,r as rr}from"../chunks/paths.BNbvTJx1.js";import{i as Ue}from"../chunks/lifecycle.DYw349b8.js";let vt=null;function Ur(t,e){return e}function zr(t,e,r,s){for(var n=[],i=e.length,l=0;l<i;l++)br(e[l].e,n,!0);var h=i>0&&n.length===0&&r!==null;if(h){var v=r.parentNode;xr(v),v.append(r),s.clear(),Ie(t,e[0].prev,e[i-1].next)}wr(n,()=>{for(var c=0;c<i;c++){var f=e[c];h||(s.delete(f.k),Ie(t,f.prev,f.next)),Xt(f.e,!h)}})}function Ht(t,e,r,s,n,i=null){var l=t,h={flags:e,items:new Map,first:null},v=(e&Kt)!==0;if(v){var c=t;l=pe?Ke(Qt(c)):c.appendChild(yr())}pe&&ut();var f=null,o=!1;Yt(()=>{var S=r(),u=ur(S)?S:S==null?[]:Jt(S),I=u.length;if(o&&I===0)return;o=I===0;let M=!1;if(pe){var E=l.data===hr;E!==(I===0)&&(l=Ot(),Ke(l),lt(!1),M=!0)}if(pe){for(var k=null,b,d=0;d<I;d++){if(Re.nodeType===8&&Re.data===gr){l=Re,M=!0,lt(!1);break}var O=u[d],z=s(O,d);b=ar(Re,h,k,null,O,z,d,n,e),h.items.set(z,b),k=b}I>0&&Ke(Ot())}pe||Gr(u,h,l,n,e,s),i!==null&&(I===0?f?Vt(f):f=mt(()=>i(l)):f!==null&&pr(f,()=>{f=null})),M&&lt(!0),r()}),pe&&(l=Re)}function Gr(t,e,r,s,n,i){var L,Z,G,$;var l=(n&Sr)!==0,h=(n&(bt|xt))!==0,v=t.length,c=e.items,f=e.first,o=f,S,u=null,I,M=[],E=[],k,b,d,O;if(l)for(O=0;O<v;O+=1)k=t[O],b=i(k,O),d=c.get(b),d!==void 0&&((L=d.a)==null||L.measure(),(I??(I=new Set)).add(d));for(O=0;O<v;O+=1){if(k=t[O],b=i(k,O),d=c.get(b),d===void 0){var z=o?o.e.nodes_start:r;u=ar(z,e,u,u===null?e.first:u.next,k,b,O,s,n),c.set(b,u),M=[],E=[],o=u.next;continue}if(h&&Br(d,k,O,n),d.e.f&ct&&(Vt(d.e),l&&((Z=d.a)==null||Z.unfix(),(I??(I=new Set)).delete(d))),d!==o){if(S!==void 0&&S.has(d)){if(M.length<E.length){var R=E[0],N;u=R.prev;var g=M[0],D=M[M.length-1];for(N=0;N<M.length;N+=1)Pt(M[N],R,r);for(N=0;N<E.length;N+=1)S.delete(E[N]);Ie(e,g.prev,D.next),Ie(e,u,g),Ie(e,D,R),o=R,u=D,O-=1,M=[],E=[]}else S.delete(d),Pt(d,o,r),Ie(e,d.prev,d.next),Ie(e,d,u===null?e.first:u.next),Ie(e,u,d),u=d;continue}for(M=[],E=[];o!==null&&o.k!==b;)o.e.f&ct||(S??(S=new Set)).add(o),E.push(o),o=o.next;if(o===null)continue;d=o}M.push(d),u=d,o=d.next}if(o!==null||S!==void 0){for(var T=S===void 0?[]:Jt(S);o!==null;)o.e.f&ct||T.push(o),o=o.next;var J=T.length;if(J>0){var X=n&Kt&&v===0?r:null;if(l){for(O=0;O<J;O+=1)(G=T[O].a)==null||G.measure();for(O=0;O<J;O+=1)($=T[O].a)==null||$.fix()}zr(e,T,X,c)}}l&&kr(()=>{var W;if(I!==void 0)for(d of I)(W=d.a)==null||W.apply()}),Tt.first=e.first&&e.first.e,Tt.last=u&&u.e}function Br(t,e,r,s){s&bt&&At(t.v,e),s&xt?At(t.i,r):t.i=r}function ar(t,e,r,s,n,i,l,h,v){var c=vt;try{var f=(v&bt)!==0,o=(v&_r)===0,S=f?o?mr(n):Mt(n):n,u=v&xt?Mt(l):l,I={i:u,v:S,k:i,a:null,e:null,prev:r,next:s};return vt=I,I.e=mt(()=>h(t,S,u),pe),I.e.prev=r&&r.e,I.e.next=s&&s.e,r===null?e.first=I:(r.next=I,r.e.next=I.e),s!==null&&(s.prev=I,s.e.prev=I.e),I}finally{vt=c}}function Pt(t,e,r){for(var s=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==s;){var l=$t(i);n.before(i),i=l}}function Ie(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Te(t,e,r,s,n){var i=t,l="",h;Yt(()=>{if(l===(l=e()??"")){pe&&ut();return}h!==void 0&&(Xt(h),h=void 0),l!==""&&(h=mt(()=>{if(pe){Re.data;for(var v=ut(),c=v;v!==null&&(v.nodeType!==8||v.data!=="");)c=v,v=$t(v);if(v===null)throw Er(),Cr;Nt(Re,c),i=Ke(v);return}var f=l+"",o=Hr(f);Nt(Qt(o),o.lastChild),i.before(o)}))})}function Wr(t,e,r){rt(()=>{var s=Zt(()=>e(t,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var n=!1,i={};Ir(()=>{var l=r();ae(l),n&&Or(i,l)&&(i=l,s.update(l))}),n=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function ne(t,e,r,s){var n=t.__attributes??(t.__attributes={});pe&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=r)&&(e==="loading"&&(t[Tr]=r),r==null?t.removeAttribute(e):typeof r!="string"&&sr(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Be(t,e,r){sr(t).includes(e)?t[e]=r:ne(t,e,r)}var Ut=new Map;function sr(t){var e=Ut.get(t.nodeName);if(e)return e;Ut.set(t.nodeName,e=[]);for(var r,s=Rt(t);s.constructor.name!=="Element";){r=Ar(s);for(var n in r)r[n].set&&e.push(n);s=Rt(s)}return e}function Pe(t,e){var r=t.__className,s=Fr(e);pe&&t.className===s?t.__className=s:(r!==s||pe&&t.className!==s)&&(e==null?t.removeAttribute("class"):t.className=s,t.__className=s)}function Fr(t){return t??""}function me(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function qr(t,e,r,s,n){var i=t.__attributes??(t.__attributes={}),l=t.style,h="style-"+e;i[h]===r&&!n||(i[h]=r,r==null?l.removeProperty(e):l.setProperty(e,r,""))}function Yr(t,e,r,s=!0){s&&r();for(var n of e)t.addEventListener(n,r);Mr(()=>{for(var i of e)t.removeEventListener(i,r)})}var Oe,He,Fe,st,nr;const nt=class nt{constructor(e){Ge(this,st);Ge(this,Oe,new WeakMap);Ge(this,He);Ge(this,Fe);ot(this,Fe,e)}observe(e,r){var s=Ee(this,Oe).get(e)||new Set;return s.add(r),Ee(this,Oe).set(e,s),It(this,st,nr).call(this).observe(e,Ee(this,Fe)),()=>{var n=Ee(this,Oe).get(e);n.delete(r),n.size===0&&(Ee(this,Oe).delete(e),Ee(this,He).unobserve(e))}}};Oe=new WeakMap,He=new WeakMap,Fe=new WeakMap,st=new WeakSet,nr=function(){return Ee(this,He)??ot(this,He,new ResizeObserver(e=>{for(var r of e){nt.entries.set(r.target,r);for(var s of Ee(this,Oe).get(r.target)||[])s(r)}}))},Ct(nt,"entries",new WeakMap);let ht=nt;var Jr=new ht({box:"border-box"});function zt(t,e,r){var s=Jr.observe(t,()=>r(t[e]));rt(()=>(Zt(()=>r(t[e])),s))}function Vr(t,e){Yr(window,["resize"],()=>e(window[t]))}const ir=Rr;async function Xr({params:t,fetch:e}){var s,n;let{goal:r}=t;if(!r&&ir){const i=(n=(s=document==null?void 0:document.location)==null?void 0:s.pathname)==null?void 0:n.split("/");i.length>0&&(r=i[i.length-1])}console.log("yolo:",t,r);try{return{goal:r.replace(".html",""),doc:{}}}catch(i){return console.log(i),{goal:"goal00",doc:{content:[],config:{}}}}}const ts=Object.freeze(Object.defineProperty({__proto__:null,load:Xr},Symbol.toStringTag,{value:"Module"}));function $r(t){return t()}function Qr(t){t.forEach($r)}const Xe=[],Gt=[],et=[],Bt=[],or=Promise.resolve();let gt=!1;function Kr(){gt||(gt=!0,or.then(ea))}function Zr(){return Kr(),or}function jr(t){et.push(t)}const ft=new Set;let $e=0;function ea(){do{for(;$e<Xe.length;){const t=Xe[$e];$e++,ta(t.$$)}for(Xe.length=0,$e=0;Gt.length;)Gt.pop()();for(let t=0;t<et.length;t+=1){const e=et[t];ft.has(e)||(ft.add(e),e())}et.length=0}while(Xe.length);for(;Bt.length;)Bt.pop()();gt=!1,ft.clear()}function ta(t){if(t.fragment!==null){t.update(),Qr(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(jr)}}const ra={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},Ce=(t,e)=>new CustomEvent(t,{detail:e});function aa(t,e={}){const{root:r,rootMargin:s,threshold:n,unobserveOnEnter:i}=Object.assign(Object.assign({},ra),e);let l={x:void 0,y:void 0},h={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const v=new IntersectionObserver((c,f)=>{c.forEach(o=>{l.y>o.boundingClientRect.y?h.vertical="up":h.vertical="down",l.x>o.boundingClientRect.x?h.horizontal="left":h.horizontal="right",l={y:o.boundingClientRect.y,x:o.boundingClientRect.x};const S={inView:o.isIntersecting,entry:o,scrollDirection:h,node:t,observer:f};t.dispatchEvent(Ce("inview_change",S)),t.dispatchEvent(Ce("change",S)),o.isIntersecting?(t.dispatchEvent(Ce("inview_enter",S)),t.dispatchEvent(Ce("enter",S)),i&&f.unobserve(t)):(t.dispatchEvent(Ce("inview_leave",S)),t.dispatchEvent(Ce("leave",S)))})},{root:r,rootMargin:s,threshold:n});return Zr().then(()=>{t.dispatchEvent(Ce("inview_init",{observer:v,node:t})),t.dispatchEvent(Ce("init",{observer:v,node:t}))}),v.observe(t),{destroy(){v.unobserve(t)}}}}var sa=V('<div class="loading svelte-5a8u5a"><img alt="Loading" class="svelte-5a8u5a"> <div style="display: flex"><div style="width: 75%"></div> <div style="width: 25%"><!></div></div></div>');function lr(t,e){let r=p(e,"minHeight",8,!0);var s=sa(),n=_(s);ne(n,"src",`${je}/assets/images/tail-spin.svg`);var i=F(n,2),l=F(_(i),2),h=_(l);De(h,e,"scenes",{activeScene:`${{id:"",index:0}}}`}),m(l),m(i),m(s),B(()=>qr(s,"min-height",r()?"60vh":"none")),C(t,s)}const Wt=Math.max(1,Math.floor(Math.random()*17)),yt=tr({string:"goal"+String(Wt).padStart(2,"0"),number:Wt}),kt=tr(!1);var na=V('<div class="content svelte-glbrcz"><!> <!></div>'),ia=V('<div class="scene svelte-glbrcz"><!></div>');function oa(t,e){Ne(e,!1);const r=qe(),s=()=>be(kt,"$isScreenshotting",r),n=()=>be(yt,"$activeGoal",r);let i=p(e,"text",8,""),l=p(e,"activeScene",8),h=p(e,"hidden",8,!1);Ue();var v=ia(),c=_(v);K(c,()=>!h(),f=>{var o=na(),S=_(o);Te(S,i);var u=F(S,2);De(u,e,"default",{get activeScene(){return l()}}),m(o),B(()=>{ne(o,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),me(o,"invisible",s())}),C(f,o)}),m(v),C(t,v),Le()}var la=V("<div><!></div>");function ca(t,e){let r=p(e,"text",8),s=p(e,"width",8,"");var n=la(),i=_(n);Te(i,r),m(n),B(()=>Pe(n,`text-block ${s()??""} layout-main svelte-1rv19f5`)),C(t,n)}var da=V('<div class="unknown-component border layout-main svelte-10tfi0">Unknown component <em> </em></div>');function va(t,e){let r=p(e,"type",8);var s=da(),n=F(_(s)),i=_(n);m(n),m(s),B(()=>ce(i,r())),C(t,s)}const St=rr(t=>(console.log(t),t)),pt="en",fa="#2b98c6",ua="#e56666";var ha=V('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),ga=V('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),pa=V('<span class="pref svelte-c7oa2u"> </span> <!> <br>',1),_a=V('<span class="pref svelte-c7oa2u"> </span> <!>',1),ma=V('<div><div class="logo-container svelte-c7oa2u"><img class="wb-logo svelte-c7oa2u" title="logo" alt="logo"> <!></div> <p class="source svelte-c7oa2u"><!> <!></p></div>');function ba(t,e){Ne(e,!1);const r=qe(),s=()=>be(pt,"$locale",r),n=()=>be(St,"$_",r);let i=p(e,"note",8),l=p(e,"source",8),h=p(e,"theme",8);Ue();var v=ma(),c=_(v),f=_(c);ne(f,"src",`${je??""}/assets/external/loop-header-footer/img/logo-wb.svg`);var o=F(f,2);K(o,()=>h()==="dark",M=>{var E=ha();ne(E,"src",`${je??""}/assets/external/loop-header-footer/img/logo-atlas-dark.svg`),C(M,E)},M=>{var E=ga();B(()=>ne(E,"src",`${je??""}/assets/external/loop-header-footer/img/logo-atlas-${s()??""}.svg`)),C(M,E)}),m(c);var S=F(c,2),u=_(S);K(u,i,M=>{var E=pa(),k=le(E),b=_(k);B(()=>ce(b,n()("note",{default:"Note:"}))),m(k);var d=F(k,2);Te(d,i),Dr(2),C(M,E)});var I=F(u,2);K(I,l,M=>{var E=_a(),k=le(E),b=_(k);B(()=>ce(b,n()("source",{default:"Source:"}))),m(k);var d=F(k,2);Te(d,l),C(M,E)}),m(S),m(v),B(()=>Pe(v,`${`screenshot-footer-container ${h()}`??""} svelte-c7oa2u`)),C(t,v),Le()}const xa=rr(!1);var wa=V('<h1 class="svelte-1ob8ko5"> </h1>'),ya=V('<h2 class="svelte-1ob8ko5"><!></h2>'),ka=V('<div class="title-container svelte-1ob8ko5"><!> <!></div>'),Sa=V(`<!> <svg width="0px" height="0px"><defs><pattern id="diagonalHatch" width="100px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="50" y2="50" stroke-width="10" style="stroke: var(--color-grey-400);"></line></pattern><pattern id="tightHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path class="visible" d="M-1,1 l2,-2
         M0,4 l4,-4
         M3,5 l2,-2" style="stroke: var(--color-grey-800);"></path></pattern><marker id="arrowhead_pos" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead_neg" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead-large" markerWidth="5" markerHeight="5" refX="2.5" refY="2.5" orient="auto"><polygon points="0 0, 5 2.5, 0 5"></polygon></marker></defs></svg>`,1),Ea=V('<span class="note svelte-1ob8ko5"> <!></span>'),Ca=V('<a class="download-icon svelte-1ob8ko5"><span aria-hidden="true"> </span></a>'),Ia=V('<span class="download svelte-1ob8ko5"><a class="download-icon svelte-1ob8ko5" target="_blank" rel="noreferrer"><span aria-hidden="true"> </span></a></span>'),Oa=V('<span class="share svelte-1ob8ko5"><!></span>'),Ta=V('<p class="toast svelte-1ob8ko5" aria-hidden="true"><!></p>'),Aa=V("<p> <!></p>"),Ma=V('<div class="source svelte-1ob8ko5"><!> <span class="download-share svelte-1ob8ko5"><span class="download svelte-1ob8ko5"><!></span> <!> <!> <span class="share svelte-1ob8ko5"><a alt="Copy link to clipboard"><span aria-hidden="true"> </span></a></span></span> <!></div> <!>',1),Ra=V('<div><div class="internal-container svelte-1ob8ko5"><!> <div class="vis svelte-1ob8ko5" role="img"><!> <!></div> <!></div></div>');function _t(t,e){Ne(e,!1);const r=qe(),s=()=>be(kt,"$isScreenshotting",r),n=()=>be(yt,"$activeGoal",r),i=()=>be(St,"$_",r),l=()=>be(xa,"$isMobile",r),h=Y();let v=p(e,"title",8),c=p(e,"subtitle",8),f=p(e,"source",8),o=p(e,"note",8),S=p(e,"visdescription",8),u=p(e,"size",8,"content"),I=p(e,"hide_download",8,!1),M=p(e,"inScroller",8,!1),E=p(e,"theme",8),k=p(e,"dataDownloadUrl",8),b=p(e,"shareUrl",8),d=p(e,"shareImg",8),O=p(e,"shareTitle",8),z=p(e,"graphic",8),R=Y(),N=Y(),g=Y(0),D=Y(0),T=Y(),J=Y(!1),X=null,L=Y();const Z=1700;function G(){navigator.permissions.query({name:"clipboard-write"}).then(U=>{(U.state==="granted"||U.state==="prompt")&&(navigator.clipboard.writeText(b()),A(J,!0),clearTimeout(X),setTimeout(()=>{A(J,!1),A(T,null)},Z))})}function $(U){if(x,a(L)){const te=a(L).getBoundingClientRect();A(T,{x:te.x,y:te.y})}}function W(){a(J)||A(T,null)}de(()=>{},()=>{A(h,!0)}),de(()=>a(R),()=>{A(g,a(R))}),de(()=>a(N),()=>{A(D,a(N))}),wt(),Ue();var w=Ra(),y=_(w),H=_(y);K(H,()=>v()||c(),U=>{var te=ka(),Q=_(te);K(Q,v,oe=>{var re=wa(),xe=_(re);m(re),B(()=>ce(xe,v())),C(oe,re)});var ee=F(Q,2);K(ee,c,oe=>{var re=ya(),xe=_(re);Te(xe,c),m(re),C(oe,re)}),m(te),C(U,te)});var P=F(H,2);B(()=>ne(P,"aria-label",S()?S():i()("alt.chart")+" "+c()));var j=_(P);K(j,()=>!ir,U=>{lr(U,{})});var ue=F(j,2);K(ue,()=>a(g)!==void 0&&a(D)!==void 0,U=>{var te=Sa(),Q=le(te);De(Q,e,"graphic",{get parentWidth(){return a(g)},get parentHeight(){return a(D)}});var ee=F(Q,2),oe=_(ee),re=F(_(oe),2),xe=_(re);ne(xe,"fill",fa),m(re);var ke=F(re),Ae=_(ke);ne(Ae,"fill",ua),m(ke);var Se=F(ke),_e=_(Se);ne(_e,"stroke-width",0),m(Se),m(oe),m(ee),C(U,te)}),m(P);var ie=F(P,2);K(ie,()=>!s(),U=>{var te=Ma(),Q=le(te),ee=_(Q);K(ee,o,ve=>{var q=Ea(),se=_(q);B(()=>ce(se,`${i()("note",{default:"Note:"})??""} `));var fe=F(se);Te(fe,o),m(q),C(ve,q)});var oe=F(ee,2),re=_(oe),xe=_(re);K(xe,()=>k()&&!I(),ve=>{var q=Ca();B(()=>ne(q,"aria-label",i()("alt.download.data")));var se=_(q),fe=_(se);B(()=>ce(fe,i()("data.download"))),m(se),m(q),B(()=>{ne(q,"data-customlink",`download:vis-data-${v()}`),ne(q,"href",k()),me(se,"hidden",!k()&&!a(h))}),C(ve,q)}),m(re);var ke=F(re,2);K(ke,()=>a(h),ve=>{var q=Ia(),se=_(q);B(()=>ne(se,"aria-label",i()("alt.download.image")));var fe=_(se),Me=_(fe);B(()=>ce(Me,i()("image.download"))),m(fe),m(se),m(q),B(()=>{me(q,"borderless",!o()&&!k()||o()&&!k()&&l()),ne(se,"href",d()),me(fe,"hidden",!k()&&!a(h))}),C(ve,q)});var Ae=F(ke,2);K(Ae,()=>b()&&!1,ve=>{var q=Oa(),se=_(q);ShareIcons(se,{get shareUrl(){return b()},get title(){return O()}}),m(q),B(()=>me(q,"borderless",!o()&&!k()&&!a(h))),C(ve,q)});var Se=F(Ae,2),_e=_(Se);Ze(_e,ve=>A(L,ve),()=>a(L));var ze=_(_e),Ye=_(ze);B(()=>ce(Ye,i()("copy.link",{default:"Copy Link"}))),m(ze),m(_e),m(Se),m(oe);var he=F(oe,2);K(he,()=>a(T)||a(J),ve=>{var q=Ta(),se=_(q);K(se,()=>a(J),fe=>{var Me=Lt();B(()=>ce(Me,i()("link.copied",{default:"Link copied to clipboard"}))),C(fe,Me)},fe=>{var Me=Lt();B(()=>ce(Me,i()("click.copy",{default:"Click to copy link"}))),C(fe,Me)}),m(q),B(()=>me(q,"disappearing",a(J))),C(ve,q)}),m(Q);var dr=F(Q,2);K(dr,f,ve=>{var q=Aa();Pe(q,"source-text svelte-1ob8ko5");var se=_(q);B(()=>ce(se,`${i()("source",{default:"Source:"})??""} `));var fe=F(se);Te(fe,f),m(q),C(ve,q)}),B(()=>{me(re,"borderless",!o()||l()),me(Se,"borderless",!o()&&(!k()||I())&&!a(h))}),We("click",_e,G),We("mouseover",_e,$),We("mouseout",_e,W),C(U,te)},U=>{ba(U,{get note(){return o()},get source(){return f()},get theme(){return E()}})}),m(y),m(w),B(()=>{Pe(w,`${`${z()} vis-container ${M()?"":u()}`??""} svelte-1ob8ko5`),ne(w,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),me(w,"in-scroller",M()===!0),me(w,"is-screenshotting",s())}),zt(P,"clientWidth",U=>A(R,U)),zt(P,"clientHeight",U=>A(N,U)),C(t,w),Le()}const ye=[];let at;if(typeof window<"u"){const t=()=>ye.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((r,s)=>{r.forEach(n=>{const i=t.get(n.target),l=ye.indexOf(i);n.isIntersecting?l===-1&&ye.push(i):(i(),l!==-1&&ye.splice(l,1))})},{rootMargin:"0px 0px"});at={add:({outer:r,update:s})=>{const{top:n,bottom:i}=r.getBoundingClientRect();n<window.innerHeight&&i>0&&ye.push(s),t.set(r,s),e.observe(r)},remove:({outer:r,update:s})=>{const n=ye.indexOf(s);n!==-1&&ye.splice(n,1),t.delete(r),e.unobserve(r)}}}else at={add:({update:t})=>{ye.push(t)},remove:({update:t})=>{const e=ye.indexOf(t);e!==-1&&ye.splice(e,1)}};var Da=V("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);function Na(t,e){Ne(e,!1);const r=Y(),s=Y(),n=Y(),i=Y(),l=Y();let h=p(e,"top",8,0),v=p(e,"bottom",8,1),c=p(e,"threshold",8,.5),f=p(e,"query",8,"section"),o=p(e,"parallax",8,!1),S=p(e,"expected",8),u=p(e,"index",12,0),I=p(e,"count",12,0),M=p(e,"offset",12,0),E=p(e,"progress",12,0),k=p(e,"visible",12,!1),b=Y(),d=Y(),O=Y(),z,R,N=Y(0),g=Y(),D=Y(0),T=Y(1);function J(){var y;I()||(R=(y=a(d))==null?void 0:y.querySelectorAll(f()),R&&R.length===S()?(I(R.length),X()):setTimeout(J,1250))}er(()=>{J();const y={outer:a(b),update:X};return at.add(y),()=>at.remove(y)});function X(){if(!a(d))return;const y=a(b).getBoundingClientRect();z=y.left,A(T,y.right-z);const H=a(d).getBoundingClientRect(),P=a(O).getBoundingClientRect();k(H.top<a(N)&&H.bottom>0);const j=H.bottom-H.top,ue=P.bottom-P.top,ie=a(s)-a(r);E((a(r)-H.top)/(j-ie)),E()<=0?(A(D,0),A(g,!1)):E()>=1?(A(D,o()?j-ue:j-ie),A(g,!1)):(A(D,o()?Math.round(a(r)-E()*(ue-ie)):a(r)),A(g,!0));for(let U=0;U<R.length;(U+=1)-1){const te=R[U],{top:Q}=te.getBoundingClientRect(),ee=R[U+1],oe=ee?ee.getBoundingClientRect().top:H.bottom;if(M((a(n)-Q)/(oe-Q)),oe>=a(n)){u(U);break}}}de(()=>(ae(h()),a(N)),()=>{A(r,Math.round(h()*a(N)))}),de(()=>(ae(v()),a(N)),()=>{A(s,Math.round(v()*a(N)))}),de(()=>(ae(c()),a(N)),()=>{A(n,Math.round(c()*a(N)))}),de(()=>(ae(h()),ae(v()),ae(c()),ae(o())),()=>{h(),v(),c(),o(),X()}),de(()=>(a(g),a(D)),()=>{A(i,`
		position: ${a(g)?"fixed":"absolute"};
    /* override with sticky if supported: */
    position: sticky;
		top: 0;
		transform: translate(0, ${typeof CSS<"u"&&CSS.supports&&CSS.supports("position","sticky")?0:a(D)}px);
		z-index: 1;
	`)}),de(()=>(a(g),a(T)),()=>{A(l,a(g)?`width:${a(T)}px;`:"")}),wt(),Ue();var L=Da();Ze(L,y=>A(b,y),()=>a(b)),Be(L,"class","svelte-xdbafy");var Z=_(L);Be(Z,"class","background-container svelte-xdbafy");var G=_(Z);Ze(G,y=>A(O,y),()=>a(O)),Be(G,"class","svelte-xdbafy");var $=_(G);De($,e,"background",{}),m(G),m(Z);var W=F(Z,2);Ze(W,y=>A(d,y),()=>a(d)),Be(W,"class","svelte-xdbafy");var w=_(W);De(w,e,"foreground",{}),m(W),m(L),B(()=>Be(Z,"style",`${a(i)??""}${a(l)??""}`)),Vr("innerHeight",y=>A(N,y)),C(t,L),Le()}var La=V('<div class="left svelte-99ar8n" slot="background"><!></div>'),Ha=V('<div class="right svelte-99ar8n" slot="foreground"><div class="right-inner svelte-99ar8n"><!></div></div>'),Pa=V("<p> <!></p>"),Ua=V('<div><div class="scroller-container svelte-99ar8n"><!> <!></div></div>');function Ft(t,e){Ne(e,!1);const r=qe(),s=()=>be(yt,"$activeGoal",r),n=()=>be(kt,"$isScreenshotting",r),i=()=>be(St,"$_",r),l=Y(),h=Y();let v=p(e,"data",8),c=p(e,"title",8),f=p(e,"subtitle",8),o=p(e,"source",8),S=p(e,"note",8),u=p(e,"graphic",8),I=p(e,"visdescription",8),M=p(e,"theme",8,"light"),E=p(e,"visSize",8,"default"),k=p(e,"publish_progress",8,!1),b=p(e,"scenes",24,()=>[]),d=p(e,"dataDownloadUrl",8);p(e,"shareUrl",8),p(e,"shareImg",8);let O=p(e,"shareTitle",8),z=Y(0),R=Y(c()),N=Y(f()),g=Y(o()),D=Y(S()),T=Y(0),J=Y(0),X=Y();de(()=>(ae(k()),a(T),a(z),ae(b()),a(J)),()=>{var w,y;k()&&A(X,{progress:a(T),index:a(z),id:(y=(w=b())==null?void 0:w[a(z)])==null?void 0:y.id,offset:a(J)})}),de(()=>(ae(k()),a(z),ae(b())),()=>{var w,y;k()||A(X,{index:a(z),id:(y=(w=b())==null?void 0:w[a(z)])==null?void 0:y.id})}),de(()=>(ae(b()),a(X)),()=>{var w;A(l,(w=b()[a(X).index])==null?void 0:w.shareUrl)}),de(()=>(ae(b()),a(X)),()=>{var w;A(h,(w=b()[a(X).index])==null?void 0:w.shareImg)}),de(()=>(a(z),ae(b()),ae(c()),ae(f()),ae(o()),ae(S())),()=>{var j,ue,ie,U,te,Q,ee,oe,re,xe,ke,Ae,Se,_e,ze,Ye;let w,y,H,P;for(let he=a(z);he>=0;he+=-1)!w&&((ue=(j=b())==null?void 0:j[he])!=null&&ue.title)&&(w=(U=(ie=b())==null?void 0:ie[he])==null?void 0:U.title),!y&&((Q=(te=b())==null?void 0:te[he])!=null&&Q.subtitle)&&(y=(oe=(ee=b())==null?void 0:ee[he])==null?void 0:oe.subtitle),!H&&((xe=(re=b())==null?void 0:re[he])!=null&&xe.source)&&(H=(Ae=(ke=b())==null?void 0:ke[he])==null?void 0:Ae.source),!P&&((_e=(Se=b())==null?void 0:Se[he])!=null&&_e.note)&&(P=(Ye=(ze=b())==null?void 0:ze[he])==null?void 0:Ye.note);w||(w=c()),y||(y=f()),H||(H=o()),P||(P=S()),A(R,w),A(N,y),A(g,H),A(D,P)}),wt(),Ue();var L=Ua(),Z=_(L),G=_(Z),$=Nr(()=>{var w;return(w=b())==null?void 0:w.length});Na(G,{get index(){return a(z)},set index(w){A(z,w)},query:".scene",get expected(){return a($)},get progress(){return a(T)},set progress(w){A(T,w)},get offset(){return a(J)},set offset(w){A(J,w)},$$slots:{background:(w,y)=>{var H=La(),P=_(H);_t(P,{get title(){return a(R)},get subtitle(){return a(N)},get source(){return a(g)},get note(){return a(D)},get visdescription(){return I()},get dataDownloadUrl(){return d()},get shareUrl(){return a(l)},get shareImg(){return a(h)},get shareTitle(){return O()},get graphic(){return u()},inScroller:!0,get theme(){return M()},$$slots:{graphic:(j,ue)=>{var ie=we(),U=le(ie);De(U,e,"graphic",{get activeScene(){return a(X)},get data(){return v()}}),C(j,ie)}}}),m(H),B(()=>me(H,"screenshot",n())),C(w,H)},foreground:(w,y)=>{var H=Ha(),P=_(H),j=_(P);De(j,e,"scenes",{get activeScene(){return a(X)}}),m(P),m(H),C(w,H)}},$$legacy:!0});var W=F(G,2);K(W,o,w=>{var y=Pa();Pe(y,"source-text svelte-99ar8n");var H=_(y);B(()=>ce(H,`${i()("source",{default:"Source:"})??""} `));var P=F(H);Te(P,o),m(y),C(w,y)}),m(Z),m(L),B(()=>{Pe(L,`${"side-by-side layout-full "+M()+" "+E()} svelte-99ar8n`),ne(L,"style",`--goal-color : var(--color-un-sdg${s().number??""})`)}),C(t,L),Le()}var za=jt('<text x="10" y="30"> </text>'),Ga=jt('<svg class="simple-vis svelte-1ngoytk"><!><text x="10" y="60"> </text></svg>');function Ba(t,e){Ne(e,!1);let r=p(e,"data",8),s=p(e,"activeScene",8);Ue();var n=Ga(),i=_(n);K(i,r,v=>{var c=za(),f=_(c);m(c),B(()=>{var o;return ce(f,(o=r())==null?void 0:o.length)}),C(v,c)});var l=F(i),h=_(l);m(l),m(n),B(()=>{var v,c;return ce(h,`scene: #${((v=s())==null?void 0:v.index)??""} ${((c=s())==null?void 0:c.id)??""}`)}),C(t,n),Le()}const qt={wide_scroller:Ft,scroller:Ft,visContainer:_t,vis:_t,text:ca,scene:oa,simplevis:Ba},Qe=(t,e=!0)=>e?qt.hasOwnProperty(t)?qt[t]:va:lr;function cr(t,e=!1){let[r,...s]=t.split(".");return e&&t.includes("scenes")?s=s.slice(0,s.length-3).join("").replace(/\#/g,"").replace("content","c").replace("translationPrefix",""):s=s.join("").replace(/\#/g,"").replace("content","c").replace("scenes","s").replace("translationPrefix",""),{goalNumberPrefix:r,contentId:s}}let Wa=0;function tt(t,e=!1,r,s){const n="translationPrefix",i="shareUrl",l="shareImg",h="anchorKey";if(Array.isArray(t))return console.log("DDSFDJFDSDFSJSDFIDFSJDFSIDFJDFSJISFJFIS"),t.map(c=>tt(c,e,r,s));const v=t[n];return!v&&!e?t:Object.keys(t).reduce((c,f)=>{var u,I;if(typeof t[f]=="object")return Array.isArray(t[f])?c[f]=t[f].map(M=>tt(M,e,r,s)):c[f]=tt(t[f],e,r,s),c;const o=e?f:`${v}.${f}`;let S=""+r(o);if(o.endsWith(n)&&((t==null?void 0:t.type)==="vis"||(u=t==null?void 0:t.type)!=null&&u.startsWith("scene"))){const{goalNumberPrefix:M,contentId:E}=cr(o,!1);t[i]=`${s.origin+s.pathname}?lang=${pt}#${E}`,t[l]=`https://${Pr.shareHostname}/${pt}/${M}/${E}.png`,t[h]=E}if(!e&&S===o)c[f]=t[f];else{const M=/(\[)|(\])/gim;if(e)if(t[f]&&typeof t[f]=="string")S=t[f];else return c[f]=t[f],c;const E=S.split(M).filter(g=>g&&g!=='""');let k=[];const b={type:"text",value:[]};let d=b,O=!1,z=!0;k.push(d);for(let g=0;g<E.length;g++){let D=E[g];if(D.startsWith("["))O=!0;else if(D.startsWith("]")&&k.length>1)z?(k.pop(),d=k[k.length-1]):(z=!0,d.value.push("]"));else{if(O){const T=(I=D.match(/(\w+): /))==null?void 0:I[1];if(T){z=!0;let J={type:T,value:[]};d.value.push(J),d=J,k.push(J),D=D.replace(`${T}: `,"")}else D="["+D,z=!1;O=!1}D.length>0&&d.value.push(D)}}d=b;let R=[];const N=g=>{var J;if(typeof g=="string")return g;let D=!1,T="";if(Array.isArray(g.value)){if(g.type==="link"){let[G,...$]=g.value[0].trim().split(" ");return $=$.join(" "),g.value.length>1&&($+=(J=g.value.slice(1))==null?void 0:J.join("")),`<a href='${G}' title='${$}' target='blank'>${$}</a>`}const X=`${g.type}_`+new Date().getTime()+Wa++;let L,Z=!1;if(g.type==="emphasis")T+='<span class="emphasis">';else if(g.type==="footnote")T+=`<div class="summary"> <div class="bg" aria-label="footnote"><label class="footnote" aria-hidden="true" for='${X}'>i</label></div><input type="checkbox" role="switch" aria-label="read footnote" id='${X}'/><div class="details">`;else if(g.type==="chapterlink"){const[G,...$]=g.value[0].trim().split(" ");T+=`<a href="${generateChapterURL(G)}">${$.join(" ")}</a>`,R.push(+G),D=!0}else if(g.type==="chapterurl"){const[G,...$]=g.value[0].trim().split(" ");T+=s.href,R.push(+G),D=!0}else if(g.type==="target"||g.type==="goal"){const[G,...$]=g.value[0].trim().split(" "),[W,...w]=G.split(".");let y;g.type==="target"?(y=r("base.sdg")+" "+r("base.target")+" ",y==="base.sdg base.target "&&(y="SDG Target ")):(y=r("base.sdg")+" ",y==="base.sdg "&&(y="SDG ")),R.push(W),T+=`<div class="summary targ" style="--sdg-color: var(--color-un-sdg${W}); --sdg-text-color: var(--color-un-text-sdg${W})"
              onmouseenter="window.sdga2023_highlightGoal(${W})"
              onmouseleave="window.sdga2023_lowlightGoal(${W})"
              ><input type="checkbox" id='${X}' aria-hidden="true" /><label class="unstyled" for='${X}'><p class="goal-target">${y}<span class="goal">${W}${w.length>0?`.</span><span class="target">${w.join(".")}</span>`:"</span>"}</p></label><p class="details goal-details"><span class="target">${r("target."+G)}</span></p></div>`,D=!0}else if(g.type==="reference"){const G=JSON.stringify(g.value).replace(/[\s\,\"]/g,"");let $=references.map(W=>W==null?void 0:W.text).indexOf(G);$===-1?(L={text:G,index:references.length,formatted:""},Z=!0):L=references[$],T+=`<div class="summary reference ${L.index+1>9?"wide":""}"><div class="bg" aria-label="reference ${L.index+1}"><label for='${X}' aria-hidden="true">${L.index+1}</label></div><input type="checkbox" role="switch" aria-label="read reference" id='${X}'/><div class="details">`}D||g.value.forEach(G=>{const $=N(G);T+=$,Z&&(L.formatted+=$)}),g.type==="emphasis"?T+="</span>":(g.type==="footnote"||g.type==="reference")&&(T+="</div></div>"),Z&&(references=[...references,L])}return T};S=N(d),c[f]=S,R.length>0&&(c.highlights?c.highlights=[...c.highlights,...R]:c.highlights=R)}return c},{})}var Fa=V("<a></a>"),qa=V('<!> <div class="observer navigation-highlights"></div> <!>',1);function rs(t,e){Ne(e,!0),qe();let r=p(e,"data",7),s=Dt(null);er(()=>{var I;const u=async()=>{var d,O,z,R;const E=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(d=r())==null?void 0:d.goal}/${(O=r())==null?void 0:O.goal}.json`)).json();console.log(E),r({...r(),...E});const b=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(z=r())==null?void 0:z.goal}/${(R=r())==null?void 0:R.goal}.en.i18n.json`)).json();A(s,dt(b))};console.log(r()),r()&&((I=r())!=null&&I.goal)&&!r().content&&u()});const n=u=>a(s).hasOwnProperty(u)?a(s)[u]:u,i={origin:"",pathname:"",href:""};let l=ge(()=>{var u;return(u=r())!=null&&u.content&&a(s)?tt(r(),!1,n,i):null});Lr(()=>{a(l)});let h=ge(()=>{var u;return(u=r())==null?void 0:u.goal}),v=Dt(dt([]));function c(u){a(v).indexOf(u)===-1&&A(v,dt([...a(v),u]))}function f(u){}var o=we(),S=le(o);K(S,()=>a(l),u=>{var I=we(),M=le(I);Ht(M,17,()=>a(l).content,Ur,(E,k,b)=>{var d=we(),O=le(d);K(O,()=>Array.isArray(a(k)),z=>{var R=we();const N=ge(()=>a(k).find(T=>T.hasOwnProperty("vis")).vis),g=ge(()=>Qe("wide_scroller",!0));var D=le(R);Je(D,()=>a(g),(T,J)=>{J(T,Ve(()=>a(k),{get graphic(){return a(N)},get shareTitle(){return a(h)},children:(X,L)=>{},$$slots:{default:!0,graphic:(X,L)=>{const Z=ge(()=>L.activeScene),G=ge(()=>L.parentWidth),$=ge(()=>L.parentHeight);var W=we(),w=le(W);K(w,()=>a(N),y=>{var H=we();const P=ge(()=>Qe(a(N)));var j=le(H);Je(j,()=>a(P),(ue,ie)=>{ie(ue,Ve(()=>a(k),{get type(){return a(N)},get activeScene(){return a(Z)},get parentWidth(){return a(G)},get parentHeight(){return a($)}}))}),C(y,H)}),C(X,W)},scenes:(X,L)=>{var Z=we();const G=ge(()=>Object.values(a(k).filter(W=>(W==null?void 0:W.type)==="scene")));var $=le(Z);K($,()=>a(G),W=>{var w=we(),y=le(w);Ht(y,19,()=>a(G),(H,P)=>{var j;return((j=r())==null?void 0:j.goal)+b+"-"+P},(H,P)=>{var j=qa();const ue=ge(()=>Qe(a(P).type));var ie=le(j);K(ie,()=>{var Q;return(Q=a(l))==null?void 0:Q.translationPrefix},Q=>{var ee=Fa();B(()=>ne(ee,"name",cr(a(P).translationPrefix).contentId)),C(Q,ee)});var U=F(ie,2),te=F(U,2);Je(te,()=>a(ue),(Q,ee)=>{ee(Q,Ve(()=>a(P),{get text(){return a(P).text},get type(){return a(P).type}}))}),Wr(U,(Q,ee)=>aa(Q,ee),()=>({rootMargin:"50% 0px 0% 0px"})),rt(()=>We("enter",U,()=>{c(b)})),rt(()=>We("leave",U,()=>{a(P)})),C(H,j)}),C(W,w)}),C(X,Z)}}}))}),C(z,R)},z=>{var R=we();const N=ge(()=>Qe(a(k).type,!0));var g=le(R),D=ge(()=>!0);Je(g,()=>a(N),(T,J)=>{J(T,Ve({get onScreen(){return a(D)}},()=>a(k)))}),C(z,R)}),C(E,d)}),C(u,I)}),C(t,o),Le()}export{rs as component,ts as universal};
