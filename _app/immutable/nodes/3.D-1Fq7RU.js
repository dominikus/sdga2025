var dr=Object.defineProperty;var Ot=t=>{throw TypeError(t)};var vr=(t,e,r)=>e in t?dr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ct=(t,e,r)=>vr(t,typeof e!="symbol"?e+"":e,r),ot=(t,e,r)=>e.has(t)||Ot("Cannot "+r);var Ee=(t,e,r)=>(ot(t,e,"read from private field"),r?r.call(t):e.get(t)),Be=(t,e,r)=>e.has(t)?Ot("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),lt=(t,e,r,s)=>(ot(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),Tt=(t,e,r)=>(ot(t,e,"access private method"),r);import{l as ge,m as ht,a1 as Jt,z as fr,N as Vt,a5 as ur,a6 as At,G as Ke,F as ct,I as Le,J as hr,a2 as Xt,Q as xt,a3 as gr,as as dt,R as Mt,at as Rt,au as wt,av as pr,v as _r,X as Dt,aw as yt,ax as mr,M as br,ay as xr,az as $t,D as Qt,C as Kt,P as wr,aA as Zt,A as yr,aB as kr,K as Sr,E as Er,a7 as tt,b as jt,a8 as Ir,e as j,x as Or,a0 as Nt,aC as Cr,aD as Tr,q as Ar,aE as Mr,j as p,s as W,k as _,t as U,p as Ae,aF as N,w as I,h as oe,g as a,i as Me,n as Rr,aG as se,aH as it,ag as we}from"../chunks/runtime.YRoqm2IX.js";import{b as Lt,e as Dr,a as O,t as V,c as me,d as zt,n as er}from"../chunks/disclose-version.CEdsz3ZQ.js";import{s as le,e as Fe}from"../chunks/render.DKEgnGL1.js";import{p as h,l as Nr,i as Q,c as gt,s as We,b as Ze}from"../chunks/props.fc69S3v_.js";import{i as Re}from"../chunks/lifecycle.Z1sfmhWx.js";import{s as Je,a as be}from"../chunks/store.CdVhq8mn.js";import{o as kt}from"../chunks/index-client.Dmd7OPFC.js";import{s as ze,v as Lr}from"../chunks/variables.BkazyFWG.js";import{b as je,w as tr,r as rr}from"../chunks/paths.DGJWBixk.js";let vt=null;function zr(t,e){return e}function Pr(t,e,r,s){for(var n=[],i=e.length,l=0;l<i;l++)mr(e[l].e,n,!0);var g=i>0&&n.length===0&&r!==null;if(g){var c=r.parentNode;br(c),c.append(r),s.clear(),Oe(t,e[0].prev,e[i-1].next)}xr(n,()=>{for(var d=0;d<i;d++){var v=e[d];g||(s.delete(v.k),Oe(t,v.prev,v.next)),$t(v.e,!g)}})}function Pt(t,e,r,s,n,i=null){var l=t,g={flags:e,items:new Map,first:null},c=(e&Zt)!==0;if(c){var d=t;l=ge?Ke(Kt(d)):d.appendChild(wr())}ge&&ht();var v=null,o=!1;Jt(()=>{var y=r(),u=fr(y)?y:y==null?[]:Vt(y),E=u.length;if(o&&E===0)return;o=E===0;let A=!1;if(ge){var C=l.data===ur;C!==(E===0)&&(l=At(),Ke(l),ct(!1),A=!0)}if(ge){for(var k=null,m,f=0;f<E;f++){if(Le.nodeType===8&&Le.data===hr){l=Le,A=!0,ct(!1);break}var T=u[f],P=s(T,f);m=ar(Le,g,k,null,T,P,f,n,e),g.items.set(P,m),k=m}E>0&&Ke(At())}ge||Hr(u,g,l,n,e,s),i!==null&&(E===0?v?Xt(v):v=xt(()=>i(l)):v!==null&&gr(v,()=>{v=null})),A&&ct(!0),r()}),ge&&(l=Le)}function Hr(t,e,r,s,n,i){var H,Z,B,G;var l=(n&kr)!==0,g=(n&(wt|yt))!==0,c=t.length,d=e.items,v=e.first,o=v,y,u=null,E,A=[],C=[],k,m,f,T;if(l)for(T=0;T<c;T+=1)k=t[T],m=i(k,T),f=d.get(m),f!==void 0&&((H=f.a)==null||H.measure(),(E??(E=new Set)).add(f));for(T=0;T<c;T+=1){if(k=t[T],m=i(k,T),f=d.get(m),f===void 0){var P=o?o.e.nodes_start:r;u=ar(P,e,u,u===null?e.first:u.next,k,m,T,s,n),d.set(m,u),A=[],C=[],o=u.next;continue}if(g&&Ur(f,k,T,n),f.e.f&dt&&(Xt(f.e),l&&((Z=f.a)==null||Z.unfix(),(E??(E=new Set)).delete(f))),f!==o){if(y!==void 0&&y.has(f)){if(A.length<C.length){var L=C[0],z;u=L.prev;var b=A[0],D=A[A.length-1];for(z=0;z<A.length;z+=1)Ht(A[z],L,r);for(z=0;z<C.length;z+=1)y.delete(C[z]);Oe(e,b.prev,D.next),Oe(e,u,b),Oe(e,D,L),o=L,u=D,T-=1,A=[],C=[]}else y.delete(f),Ht(f,o,r),Oe(e,f.prev,f.next),Oe(e,f,u===null?e.first:u.next),Oe(e,u,f),u=f;continue}for(A=[],C=[];o!==null&&o.k!==m;)o.e.f&dt||(y??(y=new Set)).add(o),C.push(o),o=o.next;if(o===null)continue;f=o}A.push(f),u=f,o=f.next}if(o!==null||y!==void 0){for(var M=y===void 0?[]:Vt(y);o!==null;)o.e.f&dt||M.push(o),o=o.next;var F=M.length;if(F>0){var J=n&Zt&&c===0?r:null;if(l){for(T=0;T<F;T+=1)(B=M[T].a)==null||B.measure();for(T=0;T<F;T+=1)(G=M[T].a)==null||G.fix()}Pr(e,M,J,d)}}l&&yr(()=>{var $;if(E!==void 0)for(f of E)($=f.a)==null||$.apply()}),Mt.first=e.first&&e.first.e,Mt.last=u&&u.e}function Ur(t,e,r,s){s&wt&&Rt(t.v,e),s&yt?Rt(t.i,r):t.i=r}function ar(t,e,r,s,n,i,l,g,c){var d=vt;try{var v=(c&wt)!==0,o=(c&pr)===0,y=v?o?_r(n):Dt(n):n,u=c&yt?Dt(l):l,E={i:u,v:y,k:i,a:null,e:null,prev:r,next:s};return vt=E,E.e=xt(()=>g(t,y,u),ge),E.e.prev=r&&r.e,E.e.next=s&&s.e,r===null?e.first=E:(r.next=E,r.e.next=E.e),s!==null&&(s.prev=E,s.e.prev=E.e),E}finally{vt=d}}function Ht(t,e,r){for(var s=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==s;){var l=Qt(i);n.before(i),i=l}}function Oe(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Te(t,e,r,s,n){var i=t,l="",g;Jt(()=>{if(l===(l=e()??"")){ge&&ht();return}g!==void 0&&($t(g),g=void 0),l!==""&&(g=xt(()=>{if(ge){Le.data;for(var c=ht(),d=c;c!==null&&(c.nodeType!==8||c.data!=="");)d=c,c=Qt(c);if(c===null)throw Sr(),Er;Lt(Le,d),i=Ke(c);return}var v=l+"",o=Dr(v);Lt(Kt(o),o.lastChild),i.before(o)}))})}function Br(t,e,r){tt(()=>{var s=jt(()=>e(t,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var n=!1,i={};Ir(()=>{var l=r();j(l),n&&Or(i,l)&&(i=l,s.update(l))}),n=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function ae(t,e,r,s){var n=t.__attributes??(t.__attributes={});ge&&(n[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||n[e]!==(n[e]=r)&&(e==="loading"&&(t[Cr]=r),r==null?t.removeAttribute(e):typeof r!="string"&&sr(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Ge(t,e,r){sr(t).includes(e)?t[e]=r:ae(t,e,r)}var Ut=new Map;function sr(t){var e=Ut.get(t.nodeName);if(e)return e;Ut.set(t.nodeName,e=[]);for(var r,s=Nt(t);s.constructor.name!=="Element";){r=Tr(s);for(var n in r)r[n].set&&e.push(n);s=Nt(s)}return e}function He(t,e){var r=t.__className,s=Gr(e);ge&&t.className===s?t.__className=s:(r!==s||ge&&t.className!==s)&&(e==null?t.removeAttribute("class"):t.className=s,t.__className=s)}function Gr(t){return t??""}function _e(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function Wr(t,e,r,s,n){var i=t.__attributes??(t.__attributes={}),l=t.style,g="style-"+e;i[g]===r&&!n||(i[g]=r,r==null?l.removeProperty(e):l.setProperty(e,r,""))}function Fr(t,e,r,s=!0){s&&r();for(var n of e)t.addEventListener(n,r);Ar(()=>{for(var i of e)t.removeEventListener(i,r)})}var Ce,Pe,Ye,st,nr;const nt=class nt{constructor(e){Be(this,st);Be(this,Ce,new WeakMap);Be(this,Pe);Be(this,Ye);lt(this,Ye,e)}observe(e,r){var s=Ee(this,Ce).get(e)||new Set;return s.add(r),Ee(this,Ce).set(e,s),Tt(this,st,nr).call(this).observe(e,Ee(this,Ye)),()=>{var n=Ee(this,Ce).get(e);n.delete(r),n.size===0&&(Ee(this,Ce).delete(e),Ee(this,Pe).unobserve(e))}}};Ce=new WeakMap,Pe=new WeakMap,Ye=new WeakMap,st=new WeakSet,nr=function(){return Ee(this,Pe)??lt(this,Pe,new ResizeObserver(e=>{for(var r of e){nt.entries.set(r.target,r);for(var s of Ee(this,Ce).get(r.target)||[])s(r)}}))},Ct(nt,"entries",new WeakMap);let pt=nt;var qr=new pt({box:"border-box"});function Bt(t,e,r){var s=qr.observe(t,()=>r(t[e]));tt(()=>(jt(()=>r(t[e])),s))}function Yr(t,e){Fr(window,["resize"],()=>e(window[t]))}const ir=Mr;async function Jr({params:t,fetch:e}){var s,n;let{goal:r}=t;if(!r&&ir){const i=(n=(s=document==null?void 0:document.location)==null?void 0:s.pathname)==null?void 0:n.split("/");i.length>0&&(r=i[i.length-1])}console.log("yolo:",t,r);try{return{goal:r.replace(".html",""),doc:{}}}catch(i){return console.log(i),{goal:"goal00",doc:{content:[],config:{}}}}}const es=Object.freeze(Object.defineProperty({__proto__:null,load:Jr},Symbol.toStringTag,{value:"Module"}));function Vr(t){return t()}function Xr(t){t.forEach(Vr)}const Xe=[],Gt=[],et=[],Wt=[],or=Promise.resolve();let _t=!1;function $r(){_t||(_t=!0,or.then(Zr))}function Qr(){return $r(),or}function Kr(t){et.push(t)}const ft=new Set;let $e=0;function Zr(){do{for(;$e<Xe.length;){const t=Xe[$e];$e++,jr(t.$$)}for(Xe.length=0,$e=0;Gt.length;)Gt.pop()();for(let t=0;t<et.length;t+=1){const e=et[t];ft.has(e)||(ft.add(e),e())}et.length=0}while(Xe.length);for(;Wt.length;)Wt.pop()();_t=!1,ft.clear()}function jr(t){if(t.fragment!==null){t.update(),Xr(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Kr)}}const ea={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},Ie=(t,e)=>new CustomEvent(t,{detail:e});function ta(t,e={}){const{root:r,rootMargin:s,threshold:n,unobserveOnEnter:i}=Object.assign(Object.assign({},ea),e);let l={x:void 0,y:void 0},g={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const c=new IntersectionObserver((d,v)=>{d.forEach(o=>{l.y>o.boundingClientRect.y?g.vertical="up":g.vertical="down",l.x>o.boundingClientRect.x?g.horizontal="left":g.horizontal="right",l={y:o.boundingClientRect.y,x:o.boundingClientRect.x};const y={inView:o.isIntersecting,entry:o,scrollDirection:g,node:t,observer:v};t.dispatchEvent(Ie("inview_change",y)),t.dispatchEvent(Ie("change",y)),o.isIntersecting?(t.dispatchEvent(Ie("inview_enter",y)),t.dispatchEvent(Ie("enter",y)),i&&v.unobserve(t)):(t.dispatchEvent(Ie("inview_leave",y)),t.dispatchEvent(Ie("leave",y)))})},{root:r,rootMargin:s,threshold:n});return Qr().then(()=>{t.dispatchEvent(Ie("inview_init",{observer:c,node:t})),t.dispatchEvent(Ie("init",{observer:c,node:t}))}),c.observe(t),{destroy(){c.unobserve(t)}}}}const ra=(t,e,r)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var aa=V('<div class="loading svelte-5a8u5a"><img alt="Loading" class="svelte-5a8u5a"> <div style="display: flex"><div style="width: 75%"></div> <div style="width: 25%"><!></div></div></div>');function rt(t,e){let r=h(e,"minHeight",8,!0);var s=aa(),n=p(s);ae(n,"src",`${je}/assets/images/tail-spin.svg`);var i=W(n,2),l=W(p(i),2),g=p(l);ze(g,e,"scenes",{activeScene:`${{id:"",index:0}}}`}),_(l),_(i),_(s),U(()=>Wr(s,"min-height",r()?"60vh":"none")),O(t,s)}function ut(t,e){const r=Nr(e,["children","$$slots","$$events","$$legacy"]);Ae(e,!1);let s=h(e,"thiz",8),n=h(e,"onScreen",8,!0),i=h(e,"path",8),l=h(e,"data",8),g=N(Array.isArray(s())?rt:s());kt(async()=>{Array.isArray(s())&&I(g,(await ra(Object.assign({}),`./${s()[0]}/${s()[1]}.svelte`,3)).default)}),Re();var c=me(),d=oe(c);Q(d,()=>{var v;return n()&&(!i()||((v=l())==null?void 0:v.length))},v=>{var o=me(),y=oe(o);gt(y,()=>a(g),(u,E)=>{E(u,We(()=>r))}),O(v,o)},v=>{var o=me(),y=oe(o);gt(y,()=>rt,(u,E)=>{E(u,{})}),O(v,o)}),O(t,c),Me()}const Ft=Math.max(1,Math.floor(Math.random()*17)),St=tr({string:"goal"+String(Ft).padStart(2,"0"),number:Ft}),Et=tr(!1);var sa=V('<div class="content svelte-glbrcz"><!> <!></div>'),na=V('<div class="scene svelte-glbrcz"><!></div>');function ia(t,e){Ae(e,!1);const r=Je(),s=()=>be(Et,"$isScreenshotting",r),n=()=>be(St,"$activeGoal",r);let i=h(e,"text",8,""),l=h(e,"activeScene",8),g=h(e,"hidden",8,!1);Re();var c=na(),d=p(c);Q(d,()=>!g(),v=>{var o=sa(),y=p(o);Te(y,i);var u=W(y,2);ze(u,e,"default",{get activeScene(){return l()}}),_(o),U(()=>{ae(o,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),_e(o,"invisible",s())}),O(v,o)}),_(c),O(t,c),Me()}var oa=V("<div><!></div>");function la(t,e){let r=h(e,"text",8),s=h(e,"width",8,"");var n=oa(),i=p(n);Te(i,r),_(n),U(()=>He(n,`text-block ${s()??""} layout-main svelte-1rv19f5`)),O(t,n)}var ca=V('<div class="unknown-component border layout-main svelte-10tfi0">Unknown component <em> </em></div>');function da(t,e){let r=h(e,"type",8);var s=ca(),n=W(p(s)),i=p(n);_(n),_(s),U(()=>le(i,r())),O(t,s)}const It=rr(t=>(console.log(t),t)),mt="en",va="#2b98c6",fa="#e56666";var ua=V('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),ha=V('<img class="atlas-logo svelte-c7oa2u" title="logo" alt="logo">'),ga=V('<span class="pref svelte-c7oa2u"> </span> <!> <br>',1),pa=V('<span class="pref svelte-c7oa2u"> </span> <!>',1),_a=V('<div><div class="logo-container svelte-c7oa2u"><img class="wb-logo svelte-c7oa2u" title="logo" alt="logo"> <!></div> <p class="source svelte-c7oa2u"><!> <!></p></div>');function ma(t,e){Ae(e,!1);const r=Je(),s=()=>be(mt,"$locale",r),n=()=>be(It,"$_",r);let i=h(e,"note",8),l=h(e,"source",8),g=h(e,"theme",8);Re();var c=_a(),d=p(c),v=p(d);ae(v,"src",`${je??""}/assets/external/loop-header-footer/img/logo-wb.svg`);var o=W(v,2);Q(o,()=>g()==="dark",A=>{var C=ua();ae(C,"src",`${je??""}/assets/external/loop-header-footer/img/logo-atlas-dark.svg`),O(A,C)},A=>{var C=ha();U(()=>ae(C,"src",`${je??""}/assets/external/loop-header-footer/img/logo-atlas-${s()??""}.svg`)),O(A,C)}),_(d);var y=W(d,2),u=p(y);Q(u,i,A=>{var C=ga(),k=oe(C),m=p(k);U(()=>le(m,n()("note",{default:"Note:"}))),_(k);var f=W(k,2);Te(f,i),Rr(2),O(A,C)});var E=W(u,2);Q(E,l,A=>{var C=pa(),k=oe(C),m=p(k);U(()=>le(m,n()("source",{default:"Source:"}))),_(k);var f=W(k,2);Te(f,l),O(A,C)}),_(y),_(c),U(()=>He(c,`${`screenshot-footer-container ${g()}`??""} svelte-c7oa2u`)),O(t,c),Me()}const ba=rr(!1);var xa=V('<h1 class="svelte-1ob8ko5"> </h1>'),wa=V('<h2 class="svelte-1ob8ko5"><!></h2>'),ya=V('<div class="title-container svelte-1ob8ko5"><!> <!></div>'),ka=V(`<!> <svg width="0px" height="0px"><defs><pattern id="diagonalHatch" width="100px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="50" y2="50" stroke-width="10" style="stroke: var(--color-grey-400);"></line></pattern><pattern id="tightHatch" patternUnits="userSpaceOnUse" width="4" height="4"><path class="visible" d="M-1,1 l2,-2
         M0,4 l4,-4
         M3,5 l2,-2" style="stroke: var(--color-grey-800);"></path></pattern><marker id="arrowhead_pos" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead_neg" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker id="arrowhead-large" markerWidth="5" markerHeight="5" refX="2.5" refY="2.5" orient="auto"><polygon points="0 0, 5 2.5, 0 5"></polygon></marker></defs></svg>`,1),Sa=V('<span class="note svelte-1ob8ko5"> <!></span>'),Ea=V('<a class="download-icon svelte-1ob8ko5"><span aria-hidden="true"> </span></a>'),Ia=V('<span class="download svelte-1ob8ko5"><a class="download-icon svelte-1ob8ko5" target="_blank" rel="noreferrer"><span aria-hidden="true"> </span></a></span>'),Oa=V('<span class="share svelte-1ob8ko5"><!></span>'),Ca=V('<p class="toast svelte-1ob8ko5" aria-hidden="true"><!></p>'),Ta=V("<p> <!></p>"),Aa=V('<div class="source svelte-1ob8ko5"><!> <span class="download-share svelte-1ob8ko5"><span class="download svelte-1ob8ko5"><!></span> <!> <!> <span class="share svelte-1ob8ko5"><a alt="Copy link to clipboard"><span aria-hidden="true"> </span></a></span></span> <!></div> <!>',1),Ma=V('<div><div class="internal-container svelte-1ob8ko5"><!> <div class="vis svelte-1ob8ko5" role="img"><!> <!></div> <!></div></div>');function bt(t,e){Ae(e,!1);const r=Je(),s=()=>be(Et,"$isScreenshotting",r),n=()=>be(St,"$activeGoal",r),i=()=>be(It,"$_",r),l=()=>be(ba,"$isMobile",r),g=N();let c=h(e,"title",8),d=h(e,"subtitle",8),v=h(e,"source",8),o=h(e,"note",8),y=h(e,"visdescription",8),u=h(e,"size",8,"content"),E=h(e,"hide_download",8,!1),A=h(e,"inScroller",8,!1),C=h(e,"theme",8),k=h(e,"dataDownloadUrl",8),m=h(e,"shareUrl",8),f=h(e,"shareImg",8),T=h(e,"shareTitle",8),P=h(e,"graphic",8),L=N(),z=N(),b=N(0),D=N(0),M=N(),F=N(!1),J=null,H=N();const Z=1700;function B(){navigator.permissions.query({name:"clipboard-write"}).then(q=>{(q.state==="granted"||q.state==="prompt")&&(navigator.clipboard.writeText(m()),I(F,!0),clearTimeout(J),setTimeout(()=>{I(F,!1),I(M,null)},Z))})}function G(q){if(x,a(H)){const K=a(H).getBoundingClientRect();I(M,{x:K.x,y:K.y})}}function $(){a(F)||I(M,null)}se(()=>{},()=>{I(g,!0)}),se(()=>a(L),()=>{I(b,a(L))}),se(()=>a(z),()=>{I(D,a(z))}),it(),Re();var S=Ma(),w=p(S),R=p(w);Q(R,()=>c()||d(),q=>{var K=ya(),ee=p(K);Q(ee,c,ie=>{var te=xa(),xe=p(te);_(te),U(()=>le(xe,c())),O(ie,te)});var ve=W(ee,2);Q(ve,d,ie=>{var te=wa(),xe=p(te);Te(xe,d),_(te),O(ie,te)}),_(K),O(q,K)});var X=W(R,2);U(()=>ae(X,"aria-label",y()?y():i()("alt.chart")+" "+d()));var ne=p(X);Q(ne,()=>!ir,q=>{rt(q,{})});var ce=W(ne,2);Q(ce,()=>a(b)!==void 0&&a(D)!==void 0,q=>{var K=ka(),ee=oe(K);ze(ee,e,"graphic",{get parentWidth(){return a(b)},get parentHeight(){return a(D)}});var ve=W(ee,2),ie=p(ve),te=W(p(ie),2),xe=p(te);ae(xe,"fill",va),_(te);var ke=W(te),De=p(ke);ae(De,"fill",fa),_(ke);var Se=W(ke),pe=p(Se);ae(pe,"stroke-width",0),_(Se),_(ie),_(ve),O(q,K)}),_(X);var de=W(X,2);Q(de,()=>!s(),q=>{var K=Aa(),ee=oe(K),ve=p(ee);Q(ve,o,fe=>{var Y=Sa(),re=p(Y);U(()=>le(re,`${i()("note",{default:"Note:"})??""} `));var ue=W(re);Te(ue,o),_(Y),O(fe,Y)});var ie=W(ve,2),te=p(ie),xe=p(te);Q(xe,()=>k()&&!E(),fe=>{var Y=Ea();U(()=>ae(Y,"aria-label",i()("alt.download.data")));var re=p(Y),ue=p(re);U(()=>le(ue,i()("data.download"))),_(re),_(Y),U(()=>{ae(Y,"data-customlink",`download:vis-data-${c()}`),ae(Y,"href",k()),_e(re,"hidden",!k()&&!a(g))}),O(fe,Y)}),_(te);var ke=W(te,2);Q(ke,()=>a(g),fe=>{var Y=Ia(),re=p(Y);U(()=>ae(re,"aria-label",i()("alt.download.image")));var ue=p(re),Ne=p(ue);U(()=>le(Ne,i()("image.download"))),_(ue),_(re),_(Y),U(()=>{_e(Y,"borderless",!o()&&!k()||o()&&!k()&&l()),ae(re,"href",f()),_e(ue,"hidden",!k()&&!a(g))}),O(fe,Y)});var De=W(ke,2);Q(De,()=>m()&&!1,fe=>{var Y=Oa(),re=p(Y);ShareIcons(re,{get shareUrl(){return m()},get title(){return T()}}),_(Y),U(()=>_e(Y,"borderless",!o()&&!k()&&!a(g))),O(fe,Y)});var Se=W(De,2),pe=p(Se);Ze(pe,fe=>I(H,fe),()=>a(H));var Ue=p(pe),Ve=p(Ue);U(()=>le(Ve,i()("copy.link",{default:"Copy Link"}))),_(Ue),_(pe),_(Se),_(ie);var he=W(ie,2);Q(he,()=>a(M)||a(F),fe=>{var Y=Ca(),re=p(Y);Q(re,()=>a(F),ue=>{var Ne=zt();U(()=>le(Ne,i()("link.copied",{default:"Link copied to clipboard"}))),O(ue,Ne)},ue=>{var Ne=zt();U(()=>le(Ne,i()("click.copy",{default:"Click to copy link"}))),O(ue,Ne)}),_(Y),U(()=>_e(Y,"disappearing",a(F))),O(fe,Y)}),_(ee);var cr=W(ee,2);Q(cr,v,fe=>{var Y=Ta();He(Y,"source-text svelte-1ob8ko5");var re=p(Y);U(()=>le(re,`${i()("source",{default:"Source:"})??""} `));var ue=W(re);Te(ue,v),_(Y),O(fe,Y)}),U(()=>{_e(te,"borderless",!o()||l()),_e(Se,"borderless",!o()&&(!k()||E())&&!a(g))}),Fe("click",pe,B),Fe("mouseover",pe,G),Fe("mouseout",pe,$),O(q,K)},q=>{ma(q,{get note(){return o()},get source(){return v()},get theme(){return C()}})}),_(w),_(S),U(()=>{He(S,`${`${P()} vis-container ${A()?"":u()}`??""} svelte-1ob8ko5`),ae(S,"style",`--goal-color : var(--color-un-sdg${n().number??""})`),_e(S,"in-scroller",A()===!0),_e(S,"is-screenshotting",s())}),Bt(X,"clientWidth",q=>I(L,q)),Bt(X,"clientHeight",q=>I(z,q)),O(t,S),Me()}const ye=[];let at;if(typeof window<"u"){const t=()=>ye.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((r,s)=>{r.forEach(n=>{const i=t.get(n.target),l=ye.indexOf(i);n.isIntersecting?l===-1&&ye.push(i):(i(),l!==-1&&ye.splice(l,1))})},{rootMargin:"0px 0px"});at={add:({outer:r,update:s})=>{const{top:n,bottom:i}=r.getBoundingClientRect();n<window.innerHeight&&i>0&&ye.push(s),t.set(r,s),e.observe(r)},remove:({outer:r,update:s})=>{const n=ye.indexOf(s);n!==-1&&ye.splice(n,1),t.delete(r),e.unobserve(r)}}}else at={add:({update:t})=>{ye.push(t)},remove:({update:t})=>{const e=ye.indexOf(t);e!==-1&&ye.splice(e,1)}};var Ra=V("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);function Da(t,e){Ae(e,!1);const r=N(),s=N(),n=N(),i=N(),l=N();let g=h(e,"top",8,0),c=h(e,"bottom",8,1),d=h(e,"threshold",8,.5),v=h(e,"query",8,"section"),o=h(e,"parallax",8,!1),y=h(e,"expected",8),u=h(e,"index",12,0),E=h(e,"count",12,0),A=h(e,"offset",12,0),C=h(e,"progress",12,0),k=h(e,"visible",12,!1),m=N(),f=N(),T=N(),P,L,z=N(0),b=N(),D=N(0),M=N(1);function F(){var w;E()||(L=(w=a(f))==null?void 0:w.querySelectorAll(v()),L&&L.length===y()?(E(L.length),J()):setTimeout(F,1250))}kt(()=>{F();const w={outer:a(m),update:J};return at.add(w),()=>at.remove(w)});function J(){if(!a(f))return;const w=a(m).getBoundingClientRect();P=w.left,I(M,w.right-P);const R=a(f).getBoundingClientRect(),X=a(T).getBoundingClientRect();k(R.top<a(z)&&R.bottom>0);const ne=R.bottom-R.top,ce=X.bottom-X.top,de=a(s)-a(r);C((a(r)-R.top)/(ne-de)),C()<=0?(I(D,0),I(b,!1)):C()>=1?(I(D,o()?ne-ce:ne-de),I(b,!1)):(I(D,o()?Math.round(a(r)-C()*(ce-de)):a(r)),I(b,!0));for(let q=0;q<L.length;(q+=1)-1){const K=L[q],{top:ee}=K.getBoundingClientRect(),ve=L[q+1],ie=ve?ve.getBoundingClientRect().top:R.bottom;if(A((a(n)-ee)/(ie-ee)),ie>=a(n)){u(q);break}}}se(()=>(j(g()),a(z)),()=>{I(r,Math.round(g()*a(z)))}),se(()=>(j(c()),a(z)),()=>{I(s,Math.round(c()*a(z)))}),se(()=>(j(d()),a(z)),()=>{I(n,Math.round(d()*a(z)))}),se(()=>(j(g()),j(c()),j(d()),j(o())),()=>{g(),c(),d(),o(),J()}),se(()=>(a(b),a(D)),()=>{I(i,`
		position: ${a(b)?"fixed":"absolute"};
    /* override with sticky if supported: */
    position: sticky;
		top: 0;
		transform: translate(0, ${typeof CSS<"u"&&CSS.supports&&CSS.supports("position","sticky")?0:a(D)}px);
		z-index: 1;
	`)}),se(()=>(a(b),a(M)),()=>{I(l,a(b)?`width:${a(M)}px;`:"")}),it(),Re();var H=Ra();Ze(H,w=>I(m,w),()=>a(m)),Ge(H,"class","svelte-xdbafy");var Z=p(H);Ge(Z,"class","background-container svelte-xdbafy");var B=p(Z);Ze(B,w=>I(T,w),()=>a(T)),Ge(B,"class","svelte-xdbafy");var G=p(B);ze(G,e,"background",{}),_(B),_(Z);var $=W(Z,2);Ze($,w=>I(f,w),()=>a(f)),Ge($,"class","svelte-xdbafy");var S=p($);ze(S,e,"foreground",{}),_($),_(H),U(()=>Ge(Z,"style",`${a(i)??""}${a(l)??""}`)),Yr("innerHeight",w=>I(z,w)),O(t,H),Me()}var Na=V('<div class="left svelte-99ar8n" slot="background"><!></div>'),La=V('<div class="right svelte-99ar8n" slot="foreground"><div class="right-inner svelte-99ar8n"><!></div></div>'),za=V("<p> <!></p>"),Pa=V('<div><div class="scroller-container svelte-99ar8n"><!> <!></div></div>');function qt(t,e){Ae(e,!1);const r=Je(),s=()=>be(St,"$activeGoal",r),n=()=>be(Et,"$isScreenshotting",r),i=()=>be(It,"$_",r),l=N(),g=N();let c=h(e,"data",8),d=h(e,"title",8),v=h(e,"subtitle",8),o=h(e,"source",8),y=h(e,"note",8),u=h(e,"graphic",8),E=h(e,"visdescription",8),A=h(e,"theme",8,"light"),C=h(e,"visSize",8,"default"),k=h(e,"publish_progress",8,!1),m=h(e,"scenes",24,()=>[]),f=h(e,"dataDownloadUrl",8);h(e,"shareUrl",8),h(e,"shareImg",8);let T=h(e,"shareTitle",8),P=N(0),L=N(d()),z=N(v()),b=N(o()),D=N(y()),M=N(0),F=N(0),J=N();se(()=>(j(k()),a(M),a(P),j(m()),a(F)),()=>{var S,w;k()&&I(J,{progress:a(M),index:a(P),id:(w=(S=m())==null?void 0:S[a(P)])==null?void 0:w.id,offset:a(F)})}),se(()=>(j(k()),a(P),j(m())),()=>{var S,w;k()||I(J,{index:a(P),id:(w=(S=m())==null?void 0:S[a(P)])==null?void 0:w.id})}),se(()=>(j(m()),a(J)),()=>{var S;I(l,(S=m()[a(J).index])==null?void 0:S.shareUrl)}),se(()=>(j(m()),a(J)),()=>{var S;I(g,(S=m()[a(J).index])==null?void 0:S.shareImg)}),se(()=>(a(P),j(m()),j(d()),j(v()),j(o()),j(y())),()=>{var ne,ce,de,q,K,ee,ve,ie,te,xe,ke,De,Se,pe,Ue,Ve;let S,w,R,X;for(let he=a(P);he>=0;he+=-1)!S&&((ce=(ne=m())==null?void 0:ne[he])!=null&&ce.title)&&(S=(q=(de=m())==null?void 0:de[he])==null?void 0:q.title),!w&&((ee=(K=m())==null?void 0:K[he])!=null&&ee.subtitle)&&(w=(ie=(ve=m())==null?void 0:ve[he])==null?void 0:ie.subtitle),!R&&((xe=(te=m())==null?void 0:te[he])!=null&&xe.source)&&(R=(De=(ke=m())==null?void 0:ke[he])==null?void 0:De.source),!X&&((pe=(Se=m())==null?void 0:Se[he])!=null&&pe.note)&&(X=(Ve=(Ue=m())==null?void 0:Ue[he])==null?void 0:Ve.note);S||(S=d()),w||(w=v()),R||(R=o()),X||(X=y()),I(L,S),I(z,w),I(b,R),I(D,X)}),it(),Re();var H=Pa(),Z=p(H),B=p(Z),G=we(()=>{var S;return(S=m())==null?void 0:S.length});Da(B,{get index(){return a(P)},set index(S){I(P,S)},query:".scene",get expected(){return a(G)},get progress(){return a(M)},set progress(S){I(M,S)},get offset(){return a(F)},set offset(S){I(F,S)},$$slots:{background:(S,w)=>{var R=Na(),X=p(R);bt(X,{get title(){return a(L)},get subtitle(){return a(z)},get source(){return a(b)},get note(){return a(D)},get visdescription(){return E()},get dataDownloadUrl(){return f()},get shareUrl(){return a(l)},get shareImg(){return a(g)},get shareTitle(){return T()},get graphic(){return u()},inScroller:!0,get theme(){return A()},$$slots:{graphic:(ne,ce)=>{var de=me(),q=oe(de);ze(q,e,"graphic",{get activeScene(){return a(J)},get data(){return c()}}),O(ne,de)}}}),_(R),U(()=>_e(R,"screenshot",n())),O(S,R)},foreground:(S,w)=>{var R=La(),X=p(R),ne=p(X);ze(ne,e,"scenes",{get activeScene(){return a(J)}}),_(X),_(R),O(S,R)}},$$legacy:!0});var $=W(B,2);Q($,o,S=>{var w=za();He(w,"source-text svelte-99ar8n");var R=p(w);U(()=>le(R,`${i()("source",{default:"Source:"})??""} `));var X=W(R);Te(X,o),_(w),O(S,w)}),_(Z),_(H),U(()=>{He(H,`${"side-by-side layout-full "+A()+" "+C()} svelte-99ar8n`),ae(H,"style",`--goal-color : var(--color-un-sdg${s().number??""})`)}),O(t,H),Me()}var Ha=er('<text x="10" y="30"> </text>'),Ua=er('<svg class="simple-vis svelte-1ngoytk"><!><text x="10" y="60"> </text></svg>');function Ba(t,e){Ae(e,!1);let r=h(e,"data",8),s=h(e,"activeScene",8);Re();var n=Ua(),i=p(n);Q(i,r,c=>{var d=Ha(),v=p(d);_(d),U(()=>{var o;return le(v,(o=r())==null?void 0:o.length)}),O(c,d)});var l=W(i),g=p(l);_(l),_(n),U(()=>{var c,d;return le(g,`scene: #${((c=s())==null?void 0:c.index)??""} ${((d=s())==null?void 0:d.id)??""}`)}),O(t,n),Me()}const Yt={wide_scroller:qt,scroller:qt,visContainer:bt,vis:bt,text:la,scene:ia,simplevis:Ba},Qe=(t,e=!0)=>e?Yt.hasOwnProperty(t)?Yt[t]:da:rt;function lr(t,e=!1){let[r,...s]=t.split(".");return e&&t.includes("scenes")?s=s.slice(0,s.length-3).join("").replace(/\#/g,"").replace("content","c").replace("translationPrefix",""):s=s.join("").replace(/\#/g,"").replace("content","c").replace("scenes","s").replace("translationPrefix",""),{goalNumberPrefix:r,contentId:s}}let Ga=0;function qe(t,e=!1,r,s){const n="translationPrefix",i="shareUrl",l="shareImg",g="anchorKey";if(Array.isArray(t))return console.log("DDSFDJFDSDFSJSDFIDFSJDFSIDFJDFSJISFJFIS"),t.map(d=>qe(d,e,r,s));const c=t[n];return!c&&!e?t:Object.keys(t).reduce((d,v)=>{var u,E;if(typeof t[v]=="object")return Array.isArray(t[v])?d[v]=t[v].map(A=>qe(A,e,r,s)):d[v]=qe(t[v],e,r,s),d;const o=e?v:`${c}.${v}`;let y=""+r(o);if(o.endsWith(n)&&((t==null?void 0:t.type)==="vis"||(u=t==null?void 0:t.type)!=null&&u.startsWith("scene"))){const{goalNumberPrefix:A,contentId:C}=lr(o,!1);t[i]=`${s.origin+s.pathname}?lang=${mt}#${C}`,t[l]=`https://${Lr.shareHostname}/${mt}/${A}/${C}.png`,t[g]=C}if(!e&&y===o)d[v]=t[v];else{const A=/(\[)|(\])/gim;if(e)if(t[v]&&typeof t[v]=="string")y=t[v];else return d[v]=t[v],d;const C=y.split(A).filter(b=>b&&b!=='""');let k=[];const m={type:"text",value:[]};let f=m,T=!1,P=!0;k.push(f);for(let b=0;b<C.length;b++){let D=C[b];if(D.startsWith("["))T=!0;else if(D.startsWith("]")&&k.length>1)P?(k.pop(),f=k[k.length-1]):(P=!0,f.value.push("]"));else{if(T){const M=(E=D.match(/(\w+): /))==null?void 0:E[1];if(M){P=!0;let F={type:M,value:[]};f.value.push(F),f=F,k.push(F),D=D.replace(`${M}: `,"")}else D="["+D,P=!1;T=!1}D.length>0&&f.value.push(D)}}f=m;let L=[];const z=b=>{var F;if(typeof b=="string")return b;let D=!1,M="";if(Array.isArray(b.value)){if(b.type==="link"){let[B,...G]=b.value[0].trim().split(" ");return G=G.join(" "),b.value.length>1&&(G+=(F=b.value.slice(1))==null?void 0:F.join("")),`<a href='${B}' title='${G}' target='blank'>${G}</a>`}const J=`${b.type}_`+new Date().getTime()+Ga++;let H,Z=!1;if(b.type==="emphasis")M+='<span class="emphasis">';else if(b.type==="footnote")M+=`<div class="summary"> <div class="bg" aria-label="footnote"><label class="footnote" aria-hidden="true" for='${J}'>i</label></div><input type="checkbox" role="switch" aria-label="read footnote" id='${J}'/><div class="details">`;else if(b.type==="chapterlink"){const[B,...G]=b.value[0].trim().split(" ");M+=`<a href="${generateChapterURL(B)}">${G.join(" ")}</a>`,L.push(+B),D=!0}else if(b.type==="chapterurl"){const[B,...G]=b.value[0].trim().split(" ");M+=s.href,L.push(+B),D=!0}else if(b.type==="target"||b.type==="goal"){const[B,...G]=b.value[0].trim().split(" "),[$,...S]=B.split(".");let w;b.type==="target"?(w=r("base.sdg")+" "+r("base.target")+" ",w==="base.sdg base.target "&&(w="SDG Target ")):(w=r("base.sdg")+" ",w==="base.sdg "&&(w="SDG ")),L.push($),M+=`<div class="summary targ" style="--sdg-color: var(--color-un-sdg${$}); --sdg-text-color: var(--color-un-text-sdg${$})"
              onmouseenter="window.sdga2023_highlightGoal(${$})"
              onmouseleave="window.sdga2023_lowlightGoal(${$})"
              ><input type="checkbox" id='${J}' aria-hidden="true" /><label class="unstyled" for='${J}'><p class="goal-target">${w}<span class="goal">${$}${S.length>0?`.</span><span class="target">${S.join(".")}</span>`:"</span>"}</p></label><p class="details goal-details"><span class="target">${r("target."+B)}</span></p></div>`,D=!0}else if(b.type==="reference"){const B=JSON.stringify(b.value).replace(/[\s\,\"]/g,"");let G=references.map($=>$==null?void 0:$.text).indexOf(B);G===-1?(H={text:B,index:references.length,formatted:""},Z=!0):H=references[G],M+=`<div class="summary reference ${H.index+1>9?"wide":""}"><div class="bg" aria-label="reference ${H.index+1}"><label for='${J}' aria-hidden="true">${H.index+1}</label></div><input type="checkbox" role="switch" aria-label="read reference" id='${J}'/><div class="details">`}D||b.value.forEach(B=>{const G=z(B);M+=G,Z&&(H.formatted+=G)}),b.type==="emphasis"?M+="</span>":(b.type==="footnote"||b.type==="reference")&&(M+="</div></div>"),Z&&(references=[...references,H])}return M};y=z(f),d[v]=y,L.length>0&&(d.highlights?d.highlights=[...d.highlights,...L]:d.highlights=L)}return d},{})}var Wa=V("<a></a>"),Fa=V('<!> <div class="observer navigation-highlights"></div> <!>',1);function ts(t,e){Ae(e,!1),Je();const r=N(),s=N();let n=h(e,"data",12),i=N();kt(()=>{var E;const u=async()=>{var f,T,P,L;const C=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(f=n())==null?void 0:f.goal}/${(T=n())==null?void 0:T.goal}.json`)).json();console.log(C),n({...n(),...C});const m=await(await fetch(`https://www.boredchess.club/sdga2025/data/${(P=n())==null?void 0:P.goal}/${(L=n())==null?void 0:L.goal}.en.i18n.json`)).json();I(i,m)};n()&&((E=n())!=null&&E.goal)&&!n().content&&u()});const l=u=>a(i).hasOwnProperty(u)?a(i)[u]:u,g={origin:"",pathname:"",href:""};let c=N([]);function d(u){a(c).indexOf(u)===-1&&I(c,[...a(c),u])}function v(u){}se(()=>(j(n()),a(i),qe),()=>{var u;I(r,(u=n())!=null&&u.content&&a(i)?qe(n(),!1,l,g):null)}),se(()=>a(r),()=>{console.log(a(r))}),se(()=>j(n()),()=>{var u;I(s,(u=n())==null?void 0:u.goal)}),se(()=>{},()=>{I(c,[])}),it(),Re();var o=me(),y=oe(o);Q(y,()=>a(r),u=>{var E=me(),A=oe(E);Pt(A,1,()=>a(r).content,zr,(C,k,m)=>{var f=me(),T=oe(f);Q(T,()=>Array.isArray(a(k)),P=>{var L=me();const z=we(()=>a(k).find(D=>D.hasOwnProperty("vis")).vis);var b=oe(L);gt(b,()=>Qe("wide_scroller",!0),(D,M)=>{M(D,We(()=>a(k),{get graphic(){return a(z)},get shareTitle(){return a(s)},children:(F,J)=>{},$$slots:{default:!0,graphic:(F,J)=>{const H=we(()=>J.activeScene),Z=we(()=>J.parentWidth),B=we(()=>J.parentHeight);var G=me(),$=oe(G);Q($,()=>a(z),S=>{var w=we(()=>Qe(a(z)));ut(S,We({get thiz(){return a(w)}},()=>a(k),{get type(){return a(z)},get activeScene(){return a(H)},get parentWidth(){return a(Z)},get parentHeight(){return a(B)}}))}),O(F,G)},scenes:(F,J)=>{var H=me();const Z=we(()=>Object.values(a(k).filter(G=>G.hasOwnProperty("scene"))));var B=oe(H);Q(B,()=>a(Z),G=>{var $=me(),S=oe($);Pt(S,3,()=>a(Z),(w,R)=>{var X;return((X=n())==null?void 0:X.goal)+m+"-"+R},(w,R)=>{var X=Fa(),ne=oe(X);Q(ne,()=>{var K;return(K=a(r))==null?void 0:K.translationPrefix},K=>{var ee=Wa();U(()=>ae(ee,"name",lr(a(R).translationPrefix).contentId)),O(K,ee)});var ce=W(ne,2),de=W(ce,2),q=we(()=>Qe(a(R).type));ut(de,We({get thiz(){return a(q)}},()=>a(R),{get text(){return a(R).scene},get type(){return a(R).type}})),Br(ce,(K,ee)=>ta(K,ee),()=>({rootMargin:"50% 0px 0% 0px"})),tt(()=>Fe("enter",ce,()=>{d(m)})),tt(()=>Fe("leave",ce,()=>{a(R)})),O(w,X)}),O(G,$)}),O(F,H)}}}))}),O(P,L)},P=>{var L=we(()=>Qe(a(k).type,!0)),z=we(()=>!0);ut(P,We({get thiz(){return a(L)},get onScreen(){return a(z)}},()=>a(k)))}),O(C,f)}),O(u,E)}),O(t,o),Me()}export{ts as component,es as universal};
